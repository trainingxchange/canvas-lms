(function(){var t=function(t,i){return function(){return t.apply(i,arguments)}};define(["jquery","compiled/util/ProximityLoader"],function(i,e){var a;return a=function(){function a(e){this._openAvatarDialog=t(this._openAvatarDialog,this),this._initializeDialog=t(this._initializeDialog,this),this.$el=i(e),this._initializeLoader(),this._attachEvents()}return a.prototype._attemptedLoads=0,a.prototype._attachEvents=function(){return this.$el.on("click",this._openAvatarDialog)},a.prototype._initializeLoader=function(){return this.loader=new e(this.$el,{callback:this._initializeDialog,dependencies:["compiled/views/profiles/AvatarDialogView"]})},a.prototype._initializeDialog=function(t){return this.avatarDialog=new t},a.prototype._openAvatarDialog=function(t){return null!=t&&t.preventDefault(),"undefined"!=typeof this.avatarDialog?this.avatarDialog.show():this._pollScriptLoad()},a.prototype._pollScriptLoad=function(){if(this.loader.deferred.resolve(),this._attemptedLoads<20)return this._attemptedLoads++,setTimeout(this._openAvatarDialog,100);throw new Error("Failed to load AvatarDialogView")},a}()})}).call(this);
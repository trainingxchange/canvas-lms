(function(){define(["jquery","underscore","compiled/fn/preventDefault","jqueryui/dialog"],function(t,n,i){return t.fn.fixDialogButtons=function(){return this.each(function(){var o,e,u;return e=t(this),o=e.find(".button-container:last .btn, button[type=submit]"),o.length?(e.find(".button-container:last, button[type=submit]").hide(),u=t.map(o.toArray(),function(n){var o,u,r,a;return o=t(n),u=null!=(a=o.attr("class"))?a:"",r=o.attr("id"),o.is(".dialog_closer")&&(o.off(".fixdialogbuttons"),o.on("click.fixdialogbuttons",i(function(){return e.dialog("close")}))),"submit"===o.prop("type")&&o[0].form&&(u+=" button_type_submit",e.off(".fixdialogbuttons"),e.on("keyup.fixdialogbuttons",function(n){return t(n.target).filter("input:text").length&&n.keyCode===t.ui.keyCode.ENTER?t(o[0].form).submit():void 0})),{text:o.text(),"data-text-while-loading":o.data("textWhileLoading"),click:function(){return o.click()},"class":u,id:r}}),u=n.sortBy(u,function(t){return t["class"].match(/btn-primary/)?1:0}),e.dialog("option","buttons",u)):void 0})}})}).call(this);
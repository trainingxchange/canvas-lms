(function(){define(["underscore","jquery"],function(t,i){var n,o;return o=0,n=function(){function t(t,n,s){var e=this;null==s&&(s={}),this.instanceID="floatingSticky"+o++,this.$window=i(window),this.$el=i(t),this.$top=i(s.top||n),this.$bottom=i(s.bottom||n),this.$el.data("floatingSticky",this),this.$window.on("scroll."+this.instanceID+" resize."+this.instanceID,function(){return e.reposition()}),this.reposition()}return t.prototype.remove=function(){return this.$window.off(this.instanceID),this.$el.data("floatingSticky",null)},t.prototype.reposition=function(){var t,i,n,o,s,e;return e=this.$window.scrollTop(),s=this.$window.height(),e=0>e?0:Math.min(e,document.body.scrollHeight-s),i=this.$top.offset().top,i>e?o=0===e?i:i-e:(o=0,n=this.$el.height(),t=this.$bottom.offset().top+this.$bottom.height(),e+n>t&&(o=t-n-e),i-e>o&&(o=i-e)),this.$el.css({top:o})},t}(),i.fn.floatingSticky=function(t,o){return null==o&&(o={}),this.map(function(){var s;return s=i(this).data("floatingSticky"),s||(s=new n(this,t,o)),s})},n})}).call(this);
(function(){define(["underscore","jquery"],function(t,n){var i;return i=function(){function i(t){this.$el=t,this.top=this.$el.offset().top,this.stuck=!1,this.constructor.addInstance(this)}return i.instances=[],i.initialized=!1,i.$container=n(window),i.initialize=function(){return this.$container.on("scroll",t.debounce(this.checkInstances,10)),this.initialized=!0},i.addInstance=function(t){return this.initialized||this.initialize(),this.instances.push(t),this.checkInstances()},i.removeInstance=function(n){return this.initialized||this.initialize(),this.instances=t.reject(this.instances,function(t){return t===n}),this.checkInstances()},i.checkInstances=function(){var t,n,s,e,c;for(t=i.$container.scrollTop(),c=i.instances,s=0,e=c.length;e>s;s++)n=c[s],t>=n.top?n.stuck||n.stick():n.stuck&&n.unstick();return null},i.prototype.stick=function(){return this.$el.addClass("sticky"),this.stuck=!0},i.prototype.unstick=function(){return this.$el.removeClass("sticky"),this.stuck=!1},i.prototype.remove=function(){return this.unstick(),this.constructor.removeInstance(this)},i}.call(this),n.fn.sticky=function(){return this.each(function(){return new i(n(this))})},n(function(){return n("[data-sticky]").sticky()}),i})}).call(this);
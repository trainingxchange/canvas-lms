(function(){define(["ember"],function(e){var t,i,l,n,a;return t=e.Component,n=e.get,a=e.set,l=document,i=t.extend({initialized:!1,items:null,valuePath:"value",labelPath:"label",labelDefault:null,valueDefault:"",value:null,selected:null,tagName:"select",didInsertElement:function(){var e;return e=this,this.$().on("change",function(){return a(e,"value",this.value)})},valueDidChange:function(){var e,t,i;return e=this.items,i=this.value,t=null,i&&e&&(t=e.findBy(this.valuePath,i)),a(this,"selected",t)}.observes("value").on("init"),itemsWillChange:function(){var e;return e=this.items,e?(e.removeArrayObserver(this),this.arrayWillChange(e,0,n(e,"length"),0)):void 0}.observesBefore("items").on("willDestroyElement"),itemsDidChange:function(){var e;return e=this.items,e?(e.addArrayObserver(this),this.arrayDidChange(e,0,0,n(e,"length"))):void 0}.observes("items").on("didInsertElement"),arrayWillChange:function(e,t,i){var l,a,s,h;for(s=n(this,"element"),a=s.childNodes,l=t+i-1,n(this,"hasDefaultOption")&&(t+=1,l+=1),h=[];l>=t;)s.removeChild(a[l]),h.push(l--);return h},updateSelection:function(){var e,t,i,l;return(i=n(this,"selected"))?(e=n(i,this.valuePath),t=this.$("[value="+e+"]"),null!=t&&null!=(l=t[0])&&(l.selected=!0),e&&e!==this.value?a(this,"value",e):void 0):void 0}.observes("selected"),updateOptions:function(){return this.arrayWillChange(this.items,0,n(this.items,"length"),0),this.arrayDidChange(this.items,0,0,n(this.items,"length"))}.observes("labelPath"),arrayDidChange:function(e,t,i,s){var h,r,u,o,v,d,c,f,m;for(f=n(this,"element"),h=n(this,"hasDefaultOption"),h&&(t+=1),r=t,v=t+s;v>r;)u=h?r-1:r,o=e.objectAt(u),m=n(o,this.valuePath),d=n(o,this.labelPath),c=l.createElement("option"),c.textContent=d,c.value=m,this.value===m&&(c.selected=!0,a(this,"selected",o)),f.appendChild(c),r++;return a(this,"value",f.value)},insertDefaultOption:function(){var e,t;if(this.labelDefault&&!this.hasDefaultOption)return t=n(this,"element"),e=l.createElement("option"),e.textContent=this.labelDefault,e.value=this.valueDefault,t.appendChild(e),a(this,"hasDefaultOption",!0)}.observes("items").on("didInsertElement")})})}).call(this);
(function(){define(["ember","underscore"],function(t,n){var e;return e=t.Component.extend({column:null,student:null,dataForStudent:null,id:function(){return"custom_col_"+this.get("column.id")}.property("column"),dataForColumn:function(){var t;return t=this.get("dataForStudent"),t?t.findBy("column_id",this.get("column.id")):null}.property("student","column","column.isLoaded","dataForStudent.@each.content"),contentDidChange:function(){return this.set("value",this.get("dataForColumn.content"))}.observes("dataForColumn.content").on("didInsertElement"),ajax:function(n,e){var o,u;return u=e.type,o=e.data,t.$.ajaxJSON(n,u,o)},customColURL:function(){return ENV.GRADEBOOK_OPTIONS.custom_column_datum_url},saveURL:function(){return this.customColURL().replace(/:id/,this.get("column.id")).replace(/:user_id/,this.get("student.id"))}.property("column","student"),focusOut:function(){var t,n;return t=this.$("textarea").val(),""===t&&!this.get("dataForColumn")||t===this.get("dataForColumn.content")?void 0:(this.get("dataForColumn.content"),n=this.ajax(this.get("saveURL"),{type:"PUT",data:{"column_data[content]":t}}),n.then(this.boundSaveSuccess))},bindSave:function(){return this.boundSaveSuccess=n.bind(this.onSaveSuccess,this)}.on("init"),onSaveSuccess:function(t){return this.sendAction("on-column-save",t,this.get("column.id"))}})})}).call(this);
(function(){define(["../start_app","ember","ic-ajax","../../controllers/student_groups_controller","helpers/fakeENV"],function(e,r,t,n,s){var u,o;return u=null,o=r.run,module("student_groups_controller",{setup:function(){var r,t=this;return u=e(),s.setup(),o(function(){return t.sgc=n.create()}),r=null,o(function(){return r=[{id:1,name:"one",group_category_id:2,users:[{id:1,name:"steve"},{id:2,name:"cliff"},{id:3,name:"walt"},{id:4,name:"pinkman"}]},{id:2,name:"two",group_category_id:1,users:[{id:1,name:"steve"},{id:2,name:"cliff"},{id:3,name:"walt"}]}]}),this.sgc.set("groups",r)},teardown:function(){var e=this;return o(function(){return e.sgc.destroy(),s.teardown()}),r.run(u,"destroy")}}),test("Groups are sorted group category id",function(){var e;return e=this.sgc.get("sortedGroups"),equal(e[0].name,"two")}),test("filterText will filter groups by user name",function(){var e;return this.sgc.set("filterText","pink"),e=this.sgc.get("sortedGroups"),equal(e.length,1),equal(e[0].name,"one")}),test("is member of category should be true if the current user is",function(){return ENV.current_user_id=1,equal(null!=this.sgc.isMemberOfCategory(1),!0)}),test("is member of category should be false if the current user is not",function(){return ENV.current_user_id=4,equal(null!=this.sgc.isMemberOfCategory(1),!1)}),test("remove from category removes the user from any group in the category",function(){return ENV.current_user_id=2,equal(null!=this.sgc.isMemberOfCategory(1),!0),this.sgc.removeFromCategory(1),equal(null!=this.sgc.isMemberOfCategory(1),!1)})})}).call(this);
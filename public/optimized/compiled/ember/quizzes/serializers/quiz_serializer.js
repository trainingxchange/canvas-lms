(function(){define(["ember-data","underscore"],function(i,s){var e,n,t;return n=function(i){var s,e;return e=i.quizzes,s=(e||[]).reduce(function(i,s){var e;return e=(s.all_dates||[]).filter(function(i){return!!i.id}),delete s.all_dates,s.links||(s.links={}),s.assignment_override_ids=e.mapBy("id"),i.concat(e)},[]),i.assignment_overrides=s},t=function(i){return(i.quizzes||[]).forEach(function(i){return i.quiz_submission_id=i.links.quiz_submission,delete i.links.quiz_submission})},e=i.ActiveModelSerializer.extend({extractArray:function(i,s,e){return n(e),t(e),this._super(i,s,e)},extractSingle:function(i,s,e,u,r){return n(e),t(e),this._super(i,s,e,u,r)},normalizePayload:function(i,e){return e.quizzes&&s(e.quizzes).each(function(i){var s;return i.links&&(i.links.quiz_statistics&&(i.links.quiz_statistics+="?include=quiz_questions"),i.links.quiz_reports&&(i.links.quiz_reports+="?includes_all_versions=true"),s=i.links.submitted_students||i.links.unsubmitted_students)?(i.links.users=s.replace(/\?submitted=(true|false)/,""),i.links.users+="?include[]=quiz_submissions",i.links.quiz_submissions=i.links.users):void 0}),e}})})}).call(this);
(function(){define(["./environment_setup"],function(e){var t,n;return n=function(e,t){return visit(e),andThen(function(){return wait().then(function(){var e;return e=App.__container__.lookup("controller:application").get("currentRouteName"),equal(e,t)})})},t=function(t){var r,i,u;return i=t.path,r=t.defaultRoute,u=t.redirectRoute,test("permissioned users should see "+r,function(){return e.setUserPermissions(!0,!0),n(i,r)}),test("redirect non-permissioned users to #{redirectRoute}",function(){return e.setUserPermissions(!1,!1),n(i,u)})}})}).call(this);
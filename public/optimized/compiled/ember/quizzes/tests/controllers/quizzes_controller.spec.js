(function(){define(["../start_app","ember","ic-ajax","../../controllers/quizzes_controller","../../models/quiz","ember-data","../environment_setup"],function(t,e,i,r){var s,n,u;return s=null,u=null,n=e.run,module("quizzes_controller",{setup:function(){var e,i,c=this;return s=t(),n(function(){return c.qc=r.create()}),e=s.__container__,u=e.lookup("store:main"),i=null,n(function(){return i=Em.A([u.createRecord("quiz",{quizType:"survey",title:"Test Quiz"}),u.createRecord("quiz",{quizType:"graded_survey",title:"Test survey"}),u.createRecord("quiz",{quizType:"practice_quiz",title:"Test practice quiz"}),u.createRecord("quiz",{quizType:"practice_quiz",title:"Other practice"}),u.createRecord("quiz",{quizType:"assignment",title:"Assignment test"})]),c.qc.set("model",i)})},teardown:function(){var t=this;return n(function(){return t.qc.destroy()}),n(s,"destroy")}}),test("raw quiz types counts calculated correctly",function(){return equal(this.qc.get("rawSurveys").length,2),equal(this.qc.get("rawPractices").length,2),equal(this.qc.get("rawAssignments").length,1)}),test("quizzes filters match correctly",function(){return this.qc.set("searchFilter","quiz"),equal(this.qc.get("surveys").length,1),equal(this.qc.get("practices").length,1),equal(this.qc.get("assignments").length,0)}),test("sorts by sortSlug",function(){var t,e,i,r,s=this;return i=this.qc.findBy("title","Other practice"),e=this.qc.findBy("title","Assignment test"),r=this.qc.findBy("title","Test survey"),n(function(){return i.set("quizType","assignment"),i.set("dueAt",new Date("May 1, 2014")),e.set("dueAt",new Date("May 2, 2014")),r.set("title","1AThingThatShouldComeFirstButDoeNot"),s.qc.set("model",[e,r,i])}),t=this.qc.get("arrangedContent"),ok(t.objectAt(0)===i),ok(t.objectAt(1)===e),ok(t.objectAt(2)===r,"quizzes without due dates come last")})})}).call(this);
(function(){define(["ember","../start_app","i18n!confirm_dialog","jquery","helpers/jquery.simulate","jqueryui/dialog"],function(e,n,t,o){var i,c,u,l,r,a,s,d;return s=e.run,l=null,a=null,d=null,i=null,r=null,u=null,c=function(){return ok(o(l.$()).is(":hidden"),"hides dialog")},module("ConfirmDialogComponent",{setup:function(){var t;return i=n(),s(function(){return a=e.ContainerView.create({container:i.__container__}),l=i.ConfirmDialogComponent.create({container:i.__container__,layout:e.TEMPLATES["components/confirm-dialog"],title:"ohi quiz"}),a.pushObject(l),a.appendTo("#fixtures"),d=sinon.stub(l,"sendAction")}),t=l.$().dialog().data("dialog").uiDialog,r=o(t.find(".confirm-dialog-confirm-btn")),u=o(t.find(".confirm-dialog-cancel-btn"))},teardown:function(){return s(function(){return l.destroy(),i.destroy()})}}),test("closes when confirm button clicked",function(){return r.click(),ok(d.calledWith("on-submit")),c()}),test("closes when cancel button clicked",function(){return u.click(),ok(d.calledWith("on-cancel")),c()}),test("closes when cancel button clicked by keyPress",function(){return u.simulate("keypress",{keyCode:o.ui.keyCode.ENTER}),ok(d.calledWith("on-cancel")),c()}),test("closes when confirm button clicked by keyPress",function(){return r.simulate("keypress",{keyCode:o.ui.keyCode.ENTER}),ok(d.calledWith("on-submit")),c()}),test("throws an error unless you provide a title",function(){return throws(function(){return s(function(){var n;return n=i.ConfirmDialogComponent.create({container:i.__container__,layout:e.TEMPLATES["components/confirm-dialog"]}),a.pushObject(n)})},/you must provide a title/i)}),test("default texts",function(){return equal(l.get("confirm-text"),t.t("ok","Ok"),"default confirm-text"),equal(l.get("cancel-text"),t.t("cancel","Cancel"),"default cancel-text")}),test("default actions",function(){return equal(l.get("on-submit"),"submit","default on-submit"),equal(l.get("on-cancel"),"cancel","dfeault on-cancel")})})}).call(this);
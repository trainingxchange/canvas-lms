(function(){define(["ember","vendor/d3.v3","../../../../../mixins/views/chart_inspector","compiled/behaviors/tooltip"],function(t,r,e){return t.View.extend(e,{barWidth:30,barMargin:1,xOffset:16,yAxisLabel:"",xAxisLabels:!1,linearScale:!0,width:function(){return this.$().width()}.property(),height:120,tooltipOptions:{position:{my:"center+15 bottom",at:"center top-8"}},renderChart:function(){var e,n,a,i,o,s,h,d,l,c,p,u,f,g,b=this;return a=t.A(this.get("controller.chartData")),l=a.reduce(function(t,r){return t+r.y},0),o=r.max(a.mapBy("y")),s={top:0,right:0,bottom:0,left:0},p=this.get("width")-s.left-s.right,i=this.get("height")-s.top-s.bottom,n=this.get("barWidth"),e=this.get("barMargin"),f=this.get("xOffset"),u=r.scale.ordinal().rangeRoundBands([0,this.get("barWidth")*l],.025),g=r.scale.linear().range([i,0]),c=Math.max(5,g(o)/100),d=r.select(this.$("svg")[0]).attr("width",p+s.left+s.right).attr("height",i+s.top+s.bottom).append("g").attr("transform","translate("+s.left+","+s.top+")"),u.domain(a.map(function(t,r){return t.label||r})),g.domain([0,l]),d.selectAll(".bar").data(a).enter().append("rect").attr("class",function(t){return b.classifyChartBar(t)}).attr("x",function(t,r){return r*(n+e)+f}).attr("width",n).attr("y",function(t){return g(t.y)-c}).attr("height",function(t){return i-g(t.y)+c}).inspectable(this),h=t.A([a.findBy("id","other"),a.findBy("id","none")]).compact(),h.length&&(this.renderStripePattern(d),d.selectAll(".bar.bar-striped").data(h).enter().append("rect").attr("class","bar bar-striped").attr("style","fill: url(#diagonalStripes);").attr("x",function(t){return a.indexOf(t)*(n+e)+f+1}).attr("width",n-2).attr("y",function(t){return g(t.y+c)+1}).attr("height",function(t){return i-g(t.y+c)-2})),this.svg=d}.on("didInsertElement"),removeChart:function(){return this.svg?this.svg.remove():void 0}.on("willDestroyElement"),renderStripePattern:function(t){return t.append("pattern").attr("id","diagonalStripes").attr("width",5).attr("height",5).attr("patternTransform","rotate(45 0 0)").attr("patternUnits","userSpaceOnUse").append("g").append("path").attr("d","M0,0 L0,10")},classifyChartBar:function(t){return t.correct?"bar bar-highlighted":"bar"}})})}).call(this);
(function(){define(["ember","ember-data"],function(e,t){var r,n,o;return r=e.Deferred,n=t.Model,o=t.attr,n.extend({tag:o("string"),completion:o("number"),workflowState:o("string"),message:o("string"),createdAt:o("date"),updatedAt:o("date"),trackCompletion:function(e){var t;return t=new r,Ember.run.later(this,function(){var r,n,o=this;return r=null,n=null,$(window).on("beforeunload",function(){return clearTimeout(n)}),(r=function(){return o.reload().then(function(){return"failed"===o.get("workflowState")?t.reject():"completed"===o.get("workflowState")?t.resolve():n=setTimeout(r,e||1e3)})})()}),t}})})}).call(this);
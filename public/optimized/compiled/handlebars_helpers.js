(function(){var e=[].slice,t=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};define(["timezone","compiled/util/enrollmentName","handlebars","i18nObj","jquery","underscore","str/htmlEscape","compiled/util/semanticDateRange","compiled/util/dateSelect","compiled/util/mimeClass","compiled/str/convertApiUserContent","compiled/str/TextHelper","jquery.instructure_date_and_time","jquery.instructure_misc_helpers","jquery.instructure_misc_plugins","translations/_core_en"],function(n,r,i,u,a,l,o,s,c,f,d,h){var m,g,p;p={t:function(e,t,n){var r,i,l,o,s;o={},n=null!=(s=null!=n?n.hash:void 0)?s:{},i=n.scope,delete n.scope;for(r in n)l=n[r],r.match(/^w\d+$/)&&(o[new Array(parseInt(r.replace("w",""))+2).join("*")]=l,delete n[r]);return o["*"]&&(n.wrapper=o),n.needsEscaping=!0,this instanceof String||"string"==typeof this||(n=a.extend(n,this)),u.scoped(i).t(e,t,n)},hiddenIf:function(e){return e?" display:none; ":void 0},hiddenUnless:function(e){return e?void 0:" display:none; "},semanticDateRange:function(){return new i.SafeString(s.apply(null,arguments))},contextSensitiveDatetimeTitle:function(e,t){var n,r,u,l,o,s;return u=t.hash.justText,l=a.datetimeString(e),s=l,ENV&&ENV.CONTEXT_TIMEZONE&&ENV.TIMEZONE!==ENV.CONTEXT_TIMEZONE&&(o=i.helpers.t("#helpers.local","Local"),r=i.helpers.t("#helpers.course","Course"),n=a.datetimeString(e,{timezone:ENV.CONTEXT_TIMEZONE}),l!==n&&(s=""+o+": "+l+"<br>"+r+": "+n)),new i.SafeString(u?s:'data-tooltip title="'+s+'"')},friendlyDatetime:function(e,t){var r,u,o,s,c;return c=t.hash,o=c.pubdate,r=c.contextSensitive,null!=e?(l.isDate(e)||(e=n.parse(e)),u=a.fudgeDateForProfileTimezone(n.parse(e)),s="",s=r&&ENV&&ENV.CONTEXT_TIMEZONE?i.helpers.contextSensitiveDatetimeTitle(e,{hash:{justText:!0}}):a.datetimeString(e),new i.SafeString("<time data-tooltip title='"+s+"' datetime='"+e.toISOString()+"' "+(o?"pubdate":void 0)+">"+a.friendlyDatetime(u)+"</time>")):void 0},formattedDate:function(e,t,r){var u;return u=r.hash.pubdate,null!=e?(l.isDate(e)||(e=n.parse(e)),new i.SafeString("<time data-tooltip title='"+a.datetimeString(e)+"' datetime='"+e.toISOString()+"' "+(u?"pubdate":void 0)+">"+e.toString(t)+"</time>")):void 0},datetimeFormatted:function(e,t){return null==t&&(t=!0),a.datetimeString(e,{localized:t})},dateString:function(e){return e?n.format(e,"%m/%d/%Y"):""},minutesToHM:function(e){var t,n,r;return t=Math.floor(e/60),r=e%60,n=10>r?"0"+r:r,""+t+":"+n},addIcon:function(e){return new i.SafeString("<i class='icon-"+o(e)+"'></i>")},dateToString:function(e,t){return null==e&&(e=""),e.toString(t)},tDateToString:function(e,t){return null==e&&(e=""),e?u.l("date.formats."+t,e):""},tTimeToString:function(e,t){return null==e&&(e=""),e?u.l("time.formats."+t,e):""},tTimeHours:function(e){return null==e&&(e=""),0===e.getMinutes()&&0===e.getSeconds()?u.l("time.formats.tiny_on_the_hour",e):u.l("time.formats.tiny",e)},tEventToString:function(e,t,n){return null==e&&(e=""),null==t&&(t="short"),null==n&&(n="tiny"),u.t("time.event",{date:u.l("date.formats."+t,e),time:u.l("time.formats."+n,e)})},strftime:function(e,t){return null==e&&(e=""),u.strftime(e,t)},mimeClass:f,convertApiUserContent:function(e,t){var n,r;return r=t.hash,n=d(e,r),r&&r.forEditing||(n=new i.SafeString(n)),n},newlinesToBreak:function(e){return e||(e=""),new i.SafeString(o(e).replace(/\n/g,"<br />"))},not:function(e){return!e},ifEqual:function(){var t,n,r,i,u,a,l,o;for(i=arguments[0],n=3<=arguments.length?e.call(arguments,1,u=arguments.length-1):(u=1,[]),o=arguments[u++],m=o.fn,r=o.inverse,a=0,l=n.length;l>a;a++){if(t=n[a],t!==i)return r(this);i=t}return m(this)},ifAll:function(){var t,n,r,i,u,a,l;for(n=2<=arguments.length?e.call(arguments,0,i=arguments.length-1):(i=0,[]),l=arguments[i++],m=l.fn,r=l.inverse,u=0,a=n.length;a>u;u++)if(t=n[u],!t)return r(this);return m(this)},ifAny:function(){var t,n,r,i,u,a,l;for(n=2<=arguments.length?e.call(arguments,0,i=arguments.length-1):(i=0,[]),l=arguments[i++],m=l.fn,r=l.inverse,u=0,a=n.length;a>u;u++)if(t=n[u])return m(this);return r(this)},eachWithIndex:function(e,t){var n,r,i,u;if(m=t.fn,i=t.inverse,u="",e&&e.length>0)for(r in e)n=e[r],n._index=r,u+=m(n);else u=i(this);return u},eachProp:function(e,t){var n;return function(){var r;r=[];for(n in e)r.push(t.fn({property:n,value:e[n]}));return r}().join("")},toSentence:function(e,t){var n;return n=l.map(e,function(e){return t.fn(e)}),a.toSentence(n)},dateSelect:function(e,t){return new i.SafeString(c(e,t.hash).html())},checkbox:function(e,t){var n,r,u,a,s,c,f,d,h,m,g,p,v,S;for(u=t.hash,h=e.split(/\./),d=h.join("_"),u.prefix&&(h.unshift(u.prefix),delete u.prefix),r=h[0]+l.chain(h).rest().map(function(e){return"["+e+"]"}).value().join(""),s=l.extend({type:"checkbox",value:1,id:d,name:r},u),null==s.checked&&(g=l.reduce(h,function(e,t){return null!=e?e[t]:void 0},this),g&&(s.checked=!0)),S=["checked","disabled"],p=0,v=S.length;v>p;p++)f=S[p],s[f]?s[f]=f:delete s[f];return s.uniqid&&s.id&&(s.id+="-"+i.helpers.uniqid.call(this)),delete s.uniqid,n=function(){var e;e=[];for(c in s)m=s[c],null!=m&&e.push(""+o(c)+'="'+o(m)+'"');return e}(),a=s.disabled?"disabled":"",new i.SafeString('<input name="'+o(s.name)+'" type="hidden" value="0" '+a+">\n<input "+n.join(" ")+" />")},toPercentage:function(e){return parseInt(100*e)+"%"},toPrecision:function(e,t){return e?parseFloat(e).toPrecision(t):""},checkedIf:function(e,t){return 3===arguments.length?e===t?"checked":"":e?"checked":""},selectedIf:function(e,t){return 3===arguments.length?e===t?"selected":"":e?"selected":""},disabledIf:function(e){return e?"disabled":""},checkedUnless:function(e){return e?"":"checked"},join:function(e,t){return null==t&&(t=","),e?e.join(t):""},ifIncludes:function(e,n,r){return e?t.call(e,n)>=0?r.fn(this):r.inverse(this):!1},disabledIfIncludes:function(e,n){return e&&t.call(e,n)>=0?"disabled":""},truncate_left:function(e,t){return h.truncateText(e.split("").reverse().join(""),{max:t}).split("").reverse().join("")},truncate:function(e,t){return h.truncateText(e,{max:t})},enrollmentName:r,list:function(e,t){var n,r,i,u,a,o,s;return l.defaults(t.hash,{separator:", ",propName:null,limit:null,end:"..."}),s=t.hash,i=s.propName,r=s.limit,n=s.end,a=s.separator,u=l.map(e,function(e){return i?e[i]:e}),r&&(u=u.slice(0,r)),o=u.join(a),r&&e.length>r?""+o+n:o},titleize:function(e){var t,n;return e?(n=e.split(/[ _]+/),t=l(n).map(function(e){return e[0].toUpperCase()+e.slice(1)}),t.join(" ")):""},uniqid:function(e){var t;return arguments.length<=1&&(e=this),e._uniqid_||(t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",e._uniqid_=function(){var e,n;for(n=[],e=1;8>=e;e++)n.push(t.charAt(Math.floor(Math.random()*t.length)));return n}().join("")),e._uniqid_},view:function(e){var t,n,r;return n=function(e){return(window.requestAnimationFrame||setTimeout)(e,0)},t="placeholder-"+a.guid++,r=function(){var i;return i=a("#"+t),i.length?i.replaceWith(e.$el):n(r)},e.render(),n(r),new i.SafeString('<span id="'+t+'">pk</span>')},or:function(){var t,n,r,i,u,a;for(n=2<=arguments.length?e.call(arguments,0,i=arguments.length-1):(i=0,[]),r=arguments[i++],u=0,a=n.length;a>u;u++)if(t=n[u])return t}};for(g in p)m=p[g],i.registerHelper(g,m);return i})}).call(this);
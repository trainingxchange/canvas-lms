(function(){define(["i18n!rubrics","jquery","jqueryui/dialog","vendor/jquery.ba-tinypubsub"],function(i,t){var n;return n={initTriggers:function(){var i;return(i=t(".rubric_dialog_trigger"))?(this.noRubricExists=i.data("noRubricExists"),this.url=i.data("url"),i.click(function(i){return i.preventDefault(),n.openDialog()})):void 0},initDialog:function(){return this.dialogInited=!0,this.$dialog=t("<div><h4>"+i.t("loading","Loading...")+"</h4></div>").dialog({title:i.t("titles.assignment_rubric_details","Assignment Rubric Details"),width:600,modal:!1,resizable:!0,autoOpen:!1}),t.get(this.url,function(i){return n.$dialog.html(t(i).show()),n.noRubricExists?t.subscribe("edit_rubric/initted",function(){return n.$dialog.find(".btn.add_rubric_link").click()}):void 0})},openDialog:function(){return this.dialogInited||this.initDialog(),this.$dialog.dialog("open")}}})}).call(this);
(function(){define(["i18n!slideshow","jquery","str/htmlEscape","jqueryui/dialog","jquery.instructure_misc_helpers"],function(t,i,s){var e,d;return e=function(){function t(t,e){var d,n;this.title=t,this.slideshow=e,this.body=i("<li/>").addClass("slide"),this.slideshow.slides.append(this.body),this.prevSlide=this.slideshow.slideObjects[this.slideshow.slideObjects.length-1],null!=(n=this.prevSlide)&&(n.nextSlide=this),this.nextSlide=null,this.indicator=i("<a/>").addClass("slide").attr("href","#").attr("title",s(this.title)).html("&nbsp;"),this.indicator.data("slide",this),this.slideshow.navigation.append(this.indicator),d=this,this.indicator.click(function(){return e.showSlide(d),!1}),this.hide()}return t.prototype.addParagraph=function(t,e){var d;return d=i("<p/>"),null!=e&&d.addClass(e),d.html(s(t)),this.body.append(d)},t.prototype.addImage=function(t,s,e){var d,n;return d=i("<img/>").attr("src",t),null!=s&&d.addClass(s),e?(n=i("<a/>").attr("href",e).attr("target","_blank"),n.append(d),this.body.append(n)):this.body.append(d)},t.prototype.show=function(){return this.body.show(),this.indicator.addClass("current_slide")},t.prototype.hide=function(){return this.indicator.removeClass("current_slide"),this.body.hide()},t}(),d=function(){function d(e){var d;d=this,this.dom=i("<div/>").attr("id",e),this.slides=i("<ul/>").addClass("slides"),this.dom.append(this.slides),this.separator=i("<div/>").addClass("separator"),this.dom.append(this.separator),this.navigation=i("<div/>").addClass("navigation"),this.dom.append(this.navigation),this.backButton=i("<a/>").addClass("back").attr("href","#").attr("title",s(t.t("titles.back","Back"))).html("&nbsp;"),this.navigation.append(this.backButton),this.backButton.click(function(){return d.showPrevSlide(),!1}),this.forwardButton=i("<a/>").addClass("forward").attr("href","#").attr("title",s(t.t("titles.forward","Forward"))).html("&nbsp;"),this.navigation.append(this.forwardButton),this.forwardButton.click(function(){return d.showNextSlide(),!1}),this.closeButton=i("<a/>").addClass("close").attr("href","#").attr("title",s(t.t("titles.close","Close"))).html("&nbsp;"),this.navigation.append(this.closeButton),this.closeButton.click(function(){return d.close(),!1}),this.slideObjects=[],this.slideShown=null}return d.prototype.addSlide=function(t,i){var s;return s=new e(t,this),this.slideObjects.push(s),i(s)},d.prototype.start=function(){return this.showSlide(this.slideObjects[0]),this.dialog=this.dom.dialog({dialogClass:"slideshow_dialog",height:529,width:700,modal:!0,draggable:!1,resizable:!1})},d.prototype.showSlide=function(t){var i;return t?(this.slideShown&&t===this.slideShown||(null!=(i=this.slideShown)&&i.hide(),this.slideShown=t,this.slideShown.show()),this.slideShown.prevSlide?this.backButton.removeClass("inactive"):this.backButton.addClass("inactive"),this.slideShown.nextSlide?this.forwardButton.removeClass("inactive"):this.forwardButton.addClass("inactive")):void 0},d.prototype.showPrevSlide=function(){var t;return this.showSlide(null!=(t=this.slideShown)?t.prevSlide:void 0)},d.prototype.showNextSlide=function(){var t;return this.showSlide(null!=(t=this.slideShown)?t.nextSlide:void 0)},d.prototype.close=function(){var t;return this.dom.dialog("close"),this.dom.hide(),null!=(t=this.slideShown)&&t.hide(),this.slideShown=null},d}()})}).call(this);
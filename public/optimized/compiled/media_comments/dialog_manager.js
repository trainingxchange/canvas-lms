(function(){var o=function(o,e){return function(){return o.apply(e,arguments)}};define(["i18n!media_comments","jquery","jqueryui/dialog"],function(e,i){var t;return t=function(){function t(){this.setCloseOption=o(this.setCloseOption,this),this.hide=o(this.hide,this)}return t.prototype.initialize=function(){return this.dialog=i("#media_comment_dialog"),this.createLoadingWindow()},t.prototype.hide=function(){return i("#media_comment_dialog").dialog("close")},t.prototype.createLoadingWindow=function(){return 0===this.dialog.length&&(this.dialog=i("<div/>").attr("id","media_comment_dialog")),this.dialog.text(e.t("messages.loading","Loading...")),this.dialog.dialog({title:e.t("titles.record_upload_media_comment","Record/Upload Media Comment"),resizable:!1,width:470,height:300,modal:!0}),this.dialog=i("#media_comment_dialog")},t.prototype.displayContent=function(o){return this.dialog.html(o)},t.prototype.mediaReady=function(o,e){return this.showUpdateDialog(),this.setCloseOption(e),this.resetRecordHolders(),this.setupTypes(o)},t.prototype.showUpdateDialog=function(){return this.dialog.dialog({title:e.t("titles.record_upload_media_comment","Record/Upload Media Comment"),width:560,height:475,modal:!0})},t.prototype.setCloseOption=function(o){var e=this;return this.dialog.dialog("option","close",function(){return i("#audio_record").before("<div id='audio_record'/>").remove(),i("#video_record").before("<div id='video_record'/>").remove(),o&&o.close&&i.isFunction(o.close)?o.close.call(e.$dialog):void 0})},t.prototype.setupTypes=function(o){return"video"===o?(i("#video_record_option").click(),i("#media_record_option_holder").hide(),i("#audio_upload_holder").hide(),i("#video_upload_holder").show()):"audio"===o?(i("#audio_record_option").click(),i("#media_record_option_holder").hide(),i("#audio_upload_holder").show(),i("#video_upload_holder").hide()):(i("#video_record_option").click(),i("#audio_upload_holder").show(),i("#video_upload_holder").show())},t.prototype.resetRecordHolders=function(){return i("#audio_record").before("<div id='audio_record'/>").remove(),i("#video_record").before("<div id='video_record'/>").remove()},t.prototype.activateTabs=function(){return this.dialog.find("#media_record_tabs").tabs()},t}()})}).call(this);
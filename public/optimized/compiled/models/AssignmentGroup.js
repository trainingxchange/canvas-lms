(function(){var t={}.hasOwnProperty,e=function(e,n){function r(){this.constructor=e}for(var o in n)t.call(n,o)&&(e[o]=n[o]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define(["Backbone","underscore","compiled/backbone-ext/DefaultUrlMixin","compiled/collections/AssignmentCollection"],function(t,n,r,o){var s,i;return s=function(t){function s(){return i=s.__super__.constructor.apply(this,arguments)}return e(s,t),s.mixin(r),s.prototype.resourceName="assignment_groups",s.prototype.urlRoot=function(){return this._defaultUrl()},s.prototype.initialize=function(){var t;return null!=(t=this.get("assignments"))?this.set("assignments",new o(t)):void 0},s.prototype.name=function(t){return arguments.length>0?this.set("name",t):this.get("name")},s.prototype.position=function(t){return arguments.length>0?this.set("position",t):this.get("position")||0},s.prototype.groupWeight=function(t){return arguments.length>0?this.set("group_weight",t):this.get("group_weight")||0},s.prototype.rules=function(t){return arguments.length>0?this.set("rules",t):this.get("rules")},s.prototype.removeNeverDrops=function(){var t;return t=this.rules(),t.never_drop?delete t.never_drop:void 0},s.prototype.hasRules=function(){return this.countRules()>0},s.prototype.countRules=function(){var t,e,r,o,s;o=this.rules()||{},t=this.assignmentIds(),e=0;for(r in o)s=o[r],"never_drop"===r?e+=n.intersection(t,s).length:e++;return e},s.prototype.assignmentIds=function(){var t;return t=this.get("assignments"),null==t?[]:t.pluck("id")},s.prototype.hasFrozenAssignments=function(){return this.get("assignments").any(function(t){return t.get("frozen")})},s}(t.Model)})}).call(this);
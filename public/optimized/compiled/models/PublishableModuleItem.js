(function(){var t={}.hasOwnProperty,i=function(i,e){function s(){this.constructor=i}for(var n in e)t.call(e,n)&&(i[n]=e[n]);return s.prototype=e.prototype,i.prototype=new s,i.__super__=e.prototype,i};define(["compiled/backbone-ext/DefaultUrlMixin","Backbone","i18n!publishableModuleItem"],function(t,e,s){var n,u,r;return n=e.Model,u=function(t){function e(){return r=e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.defaults={module_type:null,course_id:null,module_id:null,published:!0,publishable:!0,unpublishable:!0},e.prototype.branch=function(t){return(this[t][this.get("module_type")]||this[t].generic).call(this)},e.prototype.url=function(){return this.branch("urls")},e.prototype.toJSON=function(){return this.branch("toJSONs")},e.prototype.disabledMessage=function(){return this.branch("disabledMessages")},e.prototype.baseUrl=function(){return"/api/v1/courses/"+this.get("course_id")},e.prototype.urls={generic:function(){return""+this.baseUrl()+"/modules/"+this.get("module_id")+"/items/"+(this.get("module_item_id")||this.get("id"))},wiki_page:function(){return""+this.baseUrl()+"/pages/"+this.get("id")},assignment:function(){return""+this.baseUrl()+"/assignments/"+this.get("id")},discussion_topic:function(){return""+this.baseUrl()+"/discussion_topics/"+this.get("id")},module:function(){return""+this.baseUrl()+"/modules/"+this.get("id")},quiz:function(){var t;return t=this.get("published")?"publish":"unpublish","/courses/"+this.get("course_id")+"/quizzes/"+t}},e.prototype.toJSONs={generic:function(){return{module_item:this.attributes}},wiki_page:function(){return{wiki_page:this.attributes}},assignment:function(){return{assignment:this.attributes}},discussion_topic:function(){return this.attributes},quiz:function(){return{quizzes:[this.get("id")]}},module:function(){return{module:this.attributes}}},e.prototype.disabledMessages={generic:function(){return s.t("disabled","Publishing is disabled for this item")},assignment:function(){return s.t("disabled_assignment","Can't unpublish if there are student submissions")},quiz:function(){return s.t("disabled_quiz","Can't unpublish if there are student submissions")},discussion_topic:function(){return s.t("disabled_discussion_topic","Can't unpublish if there are student submissions")}},e.prototype.publish=function(){return this.save("published",!0)},e.prototype.unpublish=function(){return this.save("published",!1)},e}(n)})}).call(this);
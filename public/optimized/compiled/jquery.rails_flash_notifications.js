(function(){define(["i18n!shared.flash_notices","jquery","underscore","compiled/fn/preventDefault","jqueryui/effects/drop","vendor/jquery.cookie"],function(e,n,r,s){var o,i,t,u,a;return o=n("#flash_message_buffer"),i=n("#flash_message_holder"),t=n("#flash_screenreader_holder"),i.on("click",".close_link",s(function(){})),i.on("click","li",function(){var e,r;return e=n(this),e.hasClass("no_close")?void 0:(e.hasClass("unsupported_browser")&&n.cookie("unsupported_browser_dismissed","1"),e.stop(!0,!0).remove(),null!=(r=e.data("buffer-index"))?o.find("[data-buffer-index="+r+"]").remove():void 0)}),a=function(e,r){var s;return s=n('<span role="alert">'+r+"</span>"),s.appendTo(t),window.setTimeout(function(){return s.remove()},2e4)},u=function(s,o,t,u){var c;return null==u&&(u={}),c=n('<li class="ic-flash-'+s+'">\n  <i></i>\n  '+o+'\n  <a href="#" class="close_link icon-end">'+e.t("close","Close")+"</a>\n</li>"),c.appendTo(i).css(r.extend({zIndex:1},u)).show("drop",{direction:"up"},"fast",function(){return n(this).css("z-index",2)}).delay(t||7e3).animate({"z-index":1},0).fadeOut("slow",function(){return n(this).slideUp("fast",function(){return n(this).remove()})}),setTimeout(function(){return a(s,o)},100)},n.flashMessage=function(e,n){return null==n&&(n=3e3),u("success",e,n)},n.flashError=function(e,n){return u("error",e,n)},n.flashWarning=function(e,n){return null==n&&(n=3e3),u("warning",e,n)},n.screenReaderFlashMessage=function(e){return a("success",e)},n.screenReaderFlashError=function(e){return a("error",e)}})}).call(this);
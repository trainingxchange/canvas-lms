(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,i=function(t,i){function r(){this.constructor=t}for(var n in i)e.call(i,n)&&(t[n]=i[n]);return r.prototype=i.prototype,t.prototype=new r,t.__super__=i.prototype,t};define(["i18n!calendar","jquery","compiled/calendar/CommonEvent","jquery.instructure_date_and_time","jquery.instructure_misc_helpers"],function(e,r,n){var s,o;return o=e.t("prompts.delete_override","Are you sure you want to delete this assignment override?"),s=function(e){function n(e,i){this.saveDates=t(this.saveDates,this),this.copyDataFromObject=t(this.copyDataFromObject,this),n.__super__.constructor.apply(this,arguments),this.eventType="assignment_override",this.deleteConfirmation=o,this.deleteUrl=i.assignment_url,this.addClass("assignment_override")}return i(n,e),n.prototype.copyDataFromObject=function(t){return null!=t.assignment?(this.copyDataFromAssignment(t.assignment),this.copyDataFromOverride(t.assignment_override)):this.copyDataFromOverride(t),this.title=""+this.assignment.name+" ("+this.override.title+")",this.object=this.override,this.addClass("group_"+this.contextCode()),n.__super__.copyDataFromObject.apply(this,arguments)},n.prototype.copyDataFromAssignment=function(t){return this.assignment=t,this.lock_explanation=this.assignment.lock_explanation,this.description=this.assignment.description,this.start=this.parseStartDate(),this.end=null},n.prototype.copyDataFromOverride=function(t){return this.override=t,this.id="override_"+this.override.id,this.assignment.due_at=this.override.due_at},n.prototype.fullDetailsURL=function(){return this.assignment.html_url},n.prototype.parseStartDate=function(){return this.assignment.due_at?r.fudgeDateForProfileTimezone(this.assignment.due_at):null},n.prototype.displayTimeString=function(){var t;return(t=this.originalStart)?(t=r.unfudgeDateForProfileTimezone(t),"Due: <time datetime='"+t.toISOString()+"'>"+r.datetimeString(t)+"</time>"):"No Date"},n.prototype.readableType=function(){return this.readableTypes[this.assignmentType()]},n.prototype.updateAssignmentTitle=function(t){var e;return this.assignment.title=t,e=this.title.match(/\(.+\)$/)[0],this.title=""+t+" "+e},n.prototype.saveDates=function(t,e){return this.save({"assignment_override[due_at]":this.start?r.unfudgeDateForProfileTimezone(this.start).toISOString():""},t,e)},n.prototype.methodAndURLForSave=function(){var t;return t=r.replaceTags(this.contextInfo.assignment_override_url,{assignment_id:this.assignment.id,id:this.override.id}),["PUT",t]},n}(n)})}).call(this);
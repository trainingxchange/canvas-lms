(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){function s(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return s.prototype=n.prototype,t.prototype=new s,t.__super__=n.prototype,t};define(["i18n!calendar","jquery","compiled/calendar/CommonEvent","jquery.instructure_date_and_time","jquery.instructure_misc_helpers"],function(e,s,i){var r,a;return a=e.t("prompts.delete_assignment","Are you sure you want to delete this assignment?"),r=function(e){function i(e,n){this.save=t(this.save,this),this.saveDates=t(this.saveDates,this),this.copyDataFromObject=t(this.copyDataFromObject,this),i.__super__.constructor.apply(this,arguments),this.eventType="assignment",this.deleteConfirmation=a,this.deleteURL=n.assignment_url,this.addClass("assignment")}return n(i,e),i.prototype.copyDataFromObject=function(t){return t.assignment&&(t=t.assignment),this.object=this.assignment=t,t.id&&(this.id="assignment_"+t.id),this.title=t.title||t.name||"Untitled",this.lock_explanation=this.object.lock_explanation,this.addClass("group_"+this.contextCode()),this.description=t.description,this.start=this.parseStartDate(),this.end=null,i.__super__.copyDataFromObject.apply(this,arguments)},i.prototype.fullDetailsURL=function(){return this.assignment.html_url},i.prototype.parseStartDate=function(){return this.assignment.due_at?s.fudgeDateForProfileTimezone(this.assignment.due_at):null},i.prototype.displayTimeString=function(){var t;return(t=this.originalStart)?(t=s.unfudgeDateForProfileTimezone(t),"Due: <time datetime='"+t.toISOString()+"'>"+s.datetimeString(t)+"</time>"):"No Date"},i.prototype.readableType=function(){return this.readableTypes[this.assignmentType()]},i.prototype.saveDates=function(t,e){return this.save({"assignment[due_at]":this.start?s.unfudgeDateForProfileTimezone(this.start).toISOString():""},t,e)},i.prototype.save=function(t,e,n){return s.publish("CommonEvent/assignmentSaved",this),i.__super__.save.call(this,t,e,n)},i.prototype.methodAndURLForSave=function(){var t,e;return this.isNewEvent()?(t="POST",e=this.contextInfo.create_assignment_url):(t="PUT",e=s.replaceTags(this.contextInfo.assignment_url,"id",this.assignment.id)),[t,e]},i}(i)})}).call(this);
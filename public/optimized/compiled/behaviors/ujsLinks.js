(function(){define(["jquery"],function(e){var t,a,r;return a=function(t){var a,r,n,o,d;return t.data("handled",!0),r=t.data("url")||t.attr("href"),o=t.data("method"),d=t.attr("target"),a=e("<form method='post' action='"+r+"'></form>"),n="<input name='_method' value='"+o+"' type='hidden' />",ENV.AUTHENTICITY_TOKEN&&(n+="<input name='authenticity_token' value='"+ENV.AUTHENTICITY_TOKEN+"' type='hidden' />"),d&&a.attr("target",d),a.hide().append(n).appendTo("body").submit()},t=function(e){var t;return t=e.data("confirm"),t?confirm(t):!0},e(document).delegate("a[data-confirm], a[data-method], a[data-remove]","click",function(){var n;return n=e(this),n.data("handled")||!t(n)?!1:n.data("remove")?(r(n),!1):n.data("method")?(a(n),!1):void 0}),r=function(t){var a,r,n,o,d,i,u;return d=t.data("remove"),r=t,u=t.data("url"),n=t.closest(":ui-popup").popup("option","trigger").data("KyleMenu"),n&&n.opts.appendMenuTo&&(r=n.$placeholder),a=r.closest(d),a.bind({beforeremove:function(){return a.hide()},remove:function(){return a.remove()}}),a.trigger("beforeremove"),i=function(){return a.trigger("remove")},o=function(){return a.show()},u?e.ajaxJSON(u,"DELETE",{},i,o):i()}})}).call(this);
(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define(["i18n!gradebook2","compiled/gradebook2/GRADEBOOK_TRANSLATIONS","jquery.keycodes"],function(t){var o;return o=function(){function o(t,o){this.slickGrid=t,this.$grid=o,this.showToolTip=e(this.showToolTip,this),this.showCommentDialog=e(this.showCommentDialog,this),this.gotoAssignment=e(this.gotoAssignment,this),this.showAssignmentMenu=e(this.showAssignmentMenu,this),this.sortOnHeader=e(this.sortOnHeader,this),this.getHeaderFromActiveCell=e(this.getHeaderFromActiveCell,this)}return o.prototype.init=function(){var e,t,o,s,i;for(s=this.keyBindings,i=[],t=0,o=s.length;o>t;t++)e=s[t],i.push(null!=e.handler&&null!=e.key&&null!=this[e.handler]?this.$grid.keycodes(e.key,this[e.handler]):void 0);return i},o.prototype.getHeaderFromActiveCell=function(){var e;return e=this.slickGrid.getActiveCell(),this.$grid.find(".slick-header-column").eq(e.cell)},o.prototype.sortOnHeader=function(){return this.getHeaderFromActiveCell().click()},o.prototype.showAssignmentMenu=function(){return this.getHeaderFromActiveCell().find(".gradebook-header-drop").click(),$(".gradebook-header-menu:visible").focus()},o.prototype.gotoAssignment=function(){var e;return e=this.getHeaderFromActiveCell().find(".assignment-name").attr("href"),window.location=e},o.prototype.showCommentDialog=function(){return $(this.slickGrid.getActiveCellNode()).find(".gradebook-cell-comment").click()},o.prototype.showToolTip=function(){var e;return e=$(this.slickGrid.getActiveCellNode()),"0px"===e.parent().css("top")?e.find("div.gradebook-tooltip").addClass("first-row"):e.find("div.gradebook-tooltip").removeClass("first-row"),e.toggleClass("hover")},o.prototype.keyBindings=[{handler:"sortOnHeader",key:t.t("keycodes.sort","s"),desc:t.t("keyboard_sort_desc","Sort the grid on the current active column")},{handler:"showAssignmentMenu",key:t.t("keycodes.menu","m"),desc:t.t("keyboard_menu_desc","Open the menu for active column's assignment")},{key:t.t("keycodes.close_menu","esc"),desc:t.t("keyboard_close_menu","Close the currently active assignment menu")},{handler:"gotoAssignment",key:t.t("keycodes.goto_assignment","g"),desc:t.t("keyboard_assignment_desc","Go to the current assignment's detail page")},{handler:"showCommentDialog",key:t.t("keycodes.comment","c"),desc:t.t("keyboard_comment_desc","Comment on the active submission")},{handler:"showToolTip",key:t.t("keycodes.tooltip","t"),desc:t.t("keyboard_tooltip_desc","Show the submission type of the active submission")}],o}()})}).call(this);
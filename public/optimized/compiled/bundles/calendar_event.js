define("translations/calendar_events",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{calendar_events:{no_content:"لا يوجد محتوى"}},de:{calendar_events:{no_content:"Keine Inhalte vorhanden"}},"en-AU":{calendar_events:{no_content:"No Content"}},"en-GB":{calendar_events:{no_content:"No content"}},es:{calendar_events:{no_content:"Sin Contenido"}},"fa-IR":{calendar_events:{no_content:"محتوا موجود نیست"}},fr:{calendar_events:{no_content:"Pas de contenu"}},ja:{calendar_events:{no_content:"コンテンツなし"}},ko:{calendar_events:{no_content:"내용 없음"}},nb:{calendar_events:{no_content:"Uten innhold"}},nl:{calendar_events:{no_content:"Geen inhoud"}},pl:{calendar_events:{no_content:"Brak zawartości"}},pt:{calendar_events:{no_content:"Sem conteúdo"}},"pt-BR":{calendar_events:{no_content:"Sem conteúdo"}},ru:{calendar_events:{no_content:"Нет содержимого"}},tr:{calendar_events:{no_content:"İçerik Yok"}},zh:{calendar_events:{no_content:"无内容"}}}})}),define("calendar_event",["timezone","i18n!calendar_events","jquery","wikiSidebar","jquery.instructure_date_and_time","jquery.instructure_forms","jquery.instructure_misc_helpers","jquery.instructure_misc_plugins","jquery.loadingImg","jquery.templateData","compiled/tinymce","tinymce.editor_box","vendor/date"],function(e,t,n,a){var r=t.t("no_content","No Content");n(function(t){function n(e){_.show(),d.hide().find("textarea").editorBox("destroy"),a&&(a.hide(),t("#sidebar_content").show()),e&&d.hasClass("new_event")&&(window.location.href=t(".calendar_url").attr("href"))}function i(){_.hide();var e=_.getTemplateData({textValues:["start_at_date_string","start_at_time_string","end_at_time_string","title","all_day","all_day_date"]});e.description==r&&(e.description=""),e.start_date=e.start_at_date_string,e.start_time=e.start_at_time_string,e.end_time=e.end_at_time_string,"true"==e.all_day&&(e.all_day_date&&(e.start_date=e.all_day_date),e.start_time="",e.end_time=""),d.fillFormData(e,{object_name:"calendar_event"}).show().find("textarea").editorBox(),a&&(a.attachToEditor(d.find("textarea:first")),a.show(),t("#sidebar_content").hide())}var _=t("#full_calendar_event"),d=t("#edit_calendar_event_form"),o=t("#full_calendar_event_holder");a&&a.init(),t(".date_field").date_field(),t(".time_field").time_field(),t(".delete_event_link").click(function(e){e.preventDefault(),t("#full_calendar_event_holder").confirmDelete({message:"Are you sure you want to delete this event?",url:t(this).attr("href"),success:function(){t(this).fadeOut("slow"),window.location.href=t(".calendar_url").attr("href")}})}),t(".switch_full_calendar_event_view").click(function(){return t("#calendar_event_description").editorBox("toggle"),t(this).siblings(".switch_full_calendar_event_view").andSelf().toggle(),!1}),t(".edit_calendar_event_link").click(function(){return i(),!1}),d.find(".cancel_button").click(function(){return n(!0),!1}),d.formSubmit({object_name:"calendar_event",processData:function(e){return e["calendar_event[start_at]"]=t.datetime.process(e.start_date+" "+e.start_time),e["calendar_event[end_at]"]=t.datetime.process(e.start_date+" "+e.end_time),e["calendar_event[description]"]=t(this).find("textarea").editorBox("get_code"),o.fillTemplateData({data:e,except:["description"]}),e},beforeSubmit:function(){n(),o.loadingImage()},success:function(n){var a=n.calendar_event,r=e.parse(a.start_at);a.start_at_date_string=t.dateString(r),a.start_at_time_string=t.timeString(r),a.end_at_time_string=t.timeString(a.end_at),a.all_day_date=t.dateString(a.all_day_date),o.find(".from_string,.to_string,.end_at_time_string").showIf(a.end_at&&a.end_at!=a.start_at),o.find(".at_string").showIf(!a.end_at||a.end_at==a.start_at),o.find(".not_all_day").showIf(!a.all_day),o.loadingImage("remove").fillTemplateData({data:a,htmlValues:["description"]}),t(this).find("textarea").editorBox("set_code",a.description);var i=null,_=null;a.start_at&&(_=a.start_at.substring(0,4),i=a.start_at.substring(5,7));var d=t(".base_calendar_url").attr("href"),l=d.split(/#/),c=l[1],s=l[0],u={};try{u=t.parseJSON(c)||{}}catch(f){u={}}i&&_&&(u.month=i,u.year=_),t(".calendar_url").attr("href",s+"#"+t.encodeToHex(JSON.stringify(u))),window.location.href=t(".calendar_url").attr("href")},error:function(e){o.loadingImage("remove"),t(".edit_calendar_event_link:first").click(),d.formErrors(e)}}),setTimeout(function(){o.hasClass("editing")&&t(".edit_calendar_event_link:first").click()},500),t(document).fragmentChange(function(e,n){"#edit"==n&&t(".edit_calendar_event_link:first").click()}),t.scrollSidebar()})}),function(){require(["calendar_event"])}.call(this),define("compiled/bundles/calendar_event",function(){});
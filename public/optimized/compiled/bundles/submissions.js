(function(){define("compiled/util/round",[],function(){var e;return e=function(e,i){var s;return null==i&&(i=0),"number"==typeof e||e instanceof Number||(e=parseFloat(e)),s=Math.pow(10,i),Math.round(e*s)/s},e.DEFAULT=2,e})}).call(this),define("translations/submissions",["i18nObj","jquery"],function(e,i){i.extend(!0,e,{translations:{ar:{submissions:{click_to_download:"انقر هنا لتنزيل %{size_of_file}",creating_zip:"جارٍ إنشاء الملف المضغوط...",download_submissions:"تنزيل إرسالات المهمة",download_submissions_title:"تنزيل عمليات إرسال المهمة",finished_redirecting:"انتهى!  جارٍ إعادة التوجيه إلى الملف...",gathering_files:"جارٍ تجميع الملفات (%{progress})...",gathering_files_progress:"يجري تجميع الملفات (%{progress})...",see_attached_files:"انظر الملفات المرفقة"}},de:{submissions:{click_to_download:"Zum Herunterladen hier klicken %{size_of_file}",creating_zip:"Zip-datei wird erstellt...",download_submissions:"Aufgabeneinsendungen herunterladen",download_submissions_title:"Aufgabeneinsendungen herunterladen",finished_redirecting:"Fertig!  Weiterleitung zu Datei...",gathering_files:"Dateien werden gesammelt (%{progress}) ...",gathering_files_progress:"Dateien sammeln (%{progress})...",see_attached_files:"Siehe angehängte Dateien"}},"en-AU":{submissions:{click_to_download:"Click here to download %{size_of_file}",creating_zip:"Creating zip file...",download_submissions:"Download Assignment Submissions",download_submissions_title:"Download Assignment Submissions",finished_redirecting:"Finished!  Redirecting to File...",gathering_files:"Gathering Files (%{progress})...",gathering_files_progress:"Gathering Files (%{progress})...",see_attached_files:"See attached files"}},"en-GB":{submissions:{click_to_download:"Click here to download %{size_of_file}",creating_zip:"Creating zip file...",download_submissions:"Download assignment submissions",download_submissions_title:"Download assignment submissions",finished_redirecting:"Finished!  Redirecting to file...",gathering_files:"Gathering files (%{progress})...",gathering_files_progress:"Gathering files (%{progress})...",see_attached_files:"See attached files"}},es:{submissions:{click_to_download:"Hacer click aquí para descargar %{size_of_file}",creating_zip:"Creando un archivo comprimido zip...",download_submissions:"Descargar los Envíos de Tareas",download_submissions_title:"Descargar los envíos de tareas",finished_redirecting:"¡Ha terminado!  Redirigiendo al Archivo...",gathering_files:"Recopilando archivos (%{progress})...",gathering_files_progress:"Recopilando archivos (%{progress})...",see_attached_files:"Ver archivos adjuntos"}},"fa-IR":{submissions:{click_to_download:"برای بارگیری %{size_of_file}، اینجا کلیک کنید",creating_zip:"درحال ایجاد فایل فشرده...",download_submissions:"بارگیری موردهای ارسالی تکلیف",download_submissions_title:"بارگیری موردهای ارسالی تکلیف",finished_redirecting:"به پایان رسید! در حال تغییر مسیر به فایل ...",gathering_files:"در حال گردآوری فایل ها (%{progress})...",gathering_files_progress:"در حال گردآوری فایل ها (%{progress})...",see_attached_files:"مشاهده فایل های پیوست شده"}},fr:{submissions:{click_to_download:"Cliquez ici pour télécharger %{size_of_file}.",creating_zip:"Création d’un fichier zip...",download_submissions:"Télécharger les envois de tâches",download_submissions_title:"Télécharger les envois de travaux",finished_redirecting:"Terminé. Redirection vers le fichier...",gathering_files:"Collecte des fichiers (%{progress})...",gathering_files_progress:"Collecte des fichiers (%{progress})...",see_attached_files:"Voir les fichiers joints"}},ja:{submissions:{click_to_download:"%{size_of_file} をダウンロードするには、ここをクリック",creating_zip:"zip ファイルを作成しています...",download_submissions:"課題提出物のダウンロード",download_submissions_title:"課題提出物のダウンロード",finished_redirecting:"完了しました!ファイルにリダイレクトしています...",gathering_files:"ファイルを収集しています (%{progress})...",gathering_files_progress:"ファイルを収集しています (%{progress})...",see_attached_files:"添付ファイルを参照してください"}},ko:{submissions:{click_to_download:"%{size_of_file} 다운로드하려면 여기를 클릭하십시오.",creating_zip:"압축 파일을 만드는 중...",download_submissions:"과제 제출물 다운로드",download_submissions_title:"과제 제출물 다운로드",finished_redirecting:"완료됨! 파일로 리디렉트 중...",gathering_files:"파일 수집 중 (%{progress})...",gathering_files_progress:"파일 수집 중 (%{progress})...",see_attached_files:"첨부 파일 보기"}},nb:{submissions:{click_to_download:"Klikk her for å laste ned %{size_of_file}",creating_zip:"Lager zip-fil...",download_submissions:"Laster ned leverte oppgaver",download_submissions_title:"Last ned leverte besvarelser",finished_redirecting:"Ferdig! Omdirigerer til filen...",gathering_files:"Samler filer (%{progress})…",gathering_files_progress:"Samler filer (%{progress})…",see_attached_files:"Se vedlagte filer"}},nl:{submissions:{click_to_download:"Hier klikken om %{size_of_file} te downloaden",creating_zip:"Bezig met maken van zip-bestand...",download_submissions:"Ingezonden opdrachten downloaden",download_submissions_title:"Download opdrachtinzendingen",finished_redirecting:"Klaar! Bezig met doorsturen naar bestand...",gathering_files:"Bestanden worden verzameld (%{progress})...",gathering_files_progress:"Bezig met het verzamelen van bestanden (%{progress})...",see_attached_files:"Bijgevoegde bestanden zien"}},pl:{submissions:{click_to_download:"Kliknij tutaj, aby pobrać %{size_of_file}",creating_zip:"Trwa tworzenie pliku .zip...",download_submissions:"Pobierz przesłane zadania",download_submissions_title:"Pobierz przesłane zadania",finished_redirecting:"Zakończono!  Trwa przekierowanie do pliku…",gathering_files:"Gromadzenie plików (%{progress})...",gathering_files_progress:"Gromadzenie plików (%{progress})...",see_attached_files:"Zobacz dołączone pliki"}},pt:{submissions:{click_to_download:"Clique aqui para baixar %{size_of_file}",creating_zip:"Criando arquivo zip...",download_submissions:"Baixar tarefas enviadas",download_submissions_title:"Descarregar envios de tarefas",finished_redirecting:"finalizado  Redirecionando para o arquivo...",gathering_files:"A reunir os ficheiros (%{progress})...",gathering_files_progress:"A reunir os ficheiros (%{progress})...",see_attached_files:"Consultar arquivos anexos"}},"pt-BR":{submissions:{click_to_download:"Clique aqui para baixar %{size_of_file}",creating_zip:"Criando arquivo zip...",download_submissions:"Baixar tarefas enviadas",download_submissions_title:"Baixar tarefas enviadas",finished_redirecting:"finalizado  Redirecionando para o arquivo...",gathering_files:"Reunindo arquivos (%{progress})...",gathering_files_progress:"Reunindo arquivos (%{progress})...",see_attached_files:"Consultar arquivos anexos"}},ru:{submissions:{click_to_download:"Щелкните здесь для загрузки %{size_of_file}",creating_zip:"Создание ZIP-файла...",download_submissions:"Загрузка отправленных заданий",download_submissions_title:"Скачать отправки заданий",finished_redirecting:"Завершено!  Перенаправление к файлу...",gathering_files:"Сбор файлов (%{progress})...",gathering_files_progress:"Сбор файлов (%{progress})...",see_attached_files:"Смотрите приложенные файлы "}},tr:{submissions:{click_to_download:"İndirmek için tıklayın %{size_of_file}",creating_zip:"zip dosyası oluşturuluyor...",download_submissions:"Gönderilen Ödevleri İndir",download_submissions_title:"Gönderilen Ödevleri İndir",finished_redirecting:"Tamamlandı! Dosyasına Yönlendiriliyor...",gathering_files:"Dosyalar Toplanıyor (%{progress}%)...",gathering_files_progress:"Dosyalar Toplanıyor (%{progress}%)...",see_attached_files:"Ekli dosyalara bakın"}},zh:{submissions:{click_to_download:"单击此处下载 %{size_of_file}",creating_zip:"正在创建 zip 文件...",download_submissions:"下载作业提交文件",download_submissions_title:"下载作业提交文件",finished_redirecting:"已完成！正在重定向至文件...",gathering_files:"正在收集文件 (%{progress})...",gathering_files_progress:"正在收集文件 (%{progress})...",see_attached_files:"查看附件文件"}}}})}),define("submissions",["compiled/util/round","i18n!submissions","jquery","jquery.ajaxJSON","jquery.instructure_forms","jquery.instructure_date_and_time","jquery.instructure_misc_plugins","jquery.loadingImg","jquery.templateData","media_comments","compiled/jquery/mediaCommentThumbnail","vendor/jquery.scrollTo"],function(e,i,s){s("#content").addClass("padless");var n=1,o=function(e){if(e.submission){var i=[];i.push(e),e=i}for(var n in e){var o=e[n].submission,r=o.visible_submission_comments||o.submission_comments;if(o.user_id==ENV.SUBMISSION.user_id){for(var t in r){var d=r[t].submission_comment;if(!(s("#submission_comment_"+d.id).length>0)){var _=s("#comment_blank").clone(!0).removeAttr("id");if(d.posted_at=s.datetimeString(d.created_at),_.fillTemplateData({data:d,id:"submission_comment_"+d.id}),d.media_comment_id)$media_comment_link=s("#comment_media_blank").clone(!0).removeAttr("id"),$media_comment_link.fillTemplateData({data:d}),_.find(".comment").empty().append($media_comment_link.show());else for(var n in d.attachments){var l=d.attachments[n].attachment,m=s("#comment_attachment_blank").clone(!0).removeAttr("id");l.comment_id=d.id,m.fillTemplateData({data:l,hrefValues:["comment_id","id"]}),_.find(".comment_attachments").append(m.show())}s(".comments .comment_list").append(_.show()).scrollTop(1e4)}}s(".comments .comment_list .play_comment_link").mediaCommentThumbnail("small"),s(".save_comment_button").attr("disabled",null),o&&(a(o),s(".submission_details").fillTemplateData({data:o}),s(".grading_comment").val(""),s("#add_comment_form .comment_attachments").empty())}}s(".submission_header").loadingImage("remove")},a=function(i){s(".grading_box").val(void 0!=i.grade&&null!==i.grade?i.grade:""),s(".score").text(void 0!=i.score&&null!==i.score?e(i.score,e.DEFAULT):""),s(".published_score").text(void 0!=i.published_score&&null!==i.published_score?e(i.published_score,e.DEFAULT):"")};s(document).ready(function(){s(".comments .comment_list .play_comment_link").mediaCommentThumbnail("small"),s(window).bind("resize",function(){var e=s("#preview_frame"),i=e.offset().top,n=s(window).height()-i;e.height(n),s("#rubric_holder").css("maxHeight",n-50).css("overflow","auto").css("zIndex",5),s(".comments").height(n)}).triggerHandler("resize"),s(".comments_link").click(function(e){e.preventDefault(),s(".comments").slideToggle(function(){s(".comments .media_comment_content").empty(),s(".comments textarea:visible").focus().select()})}),s(".save_comment_button").click(function(){s(document).triggerHandler("grading_change")}),s(".cancel_comment_button").click(function(){s(".grading_comment").val(""),s(".comments_link").click()}),s(".grading_value").change(function(){s(document).triggerHandler("grading_change")}),s(document).bind("grading_change",function(){s(".save_comment_button").attr("disabled","disabled"),s(".submission_header").loadingImage();var e=s(".update_submission_url").attr("href"),n=s(".update_submission_url").attr("title"),a={"submission[assignment_id]":ENV.SUBMISSION.assignment_id,"submission[user_id]":ENV.SUBMISSION.user_id,"submission[group_comment]":s("#submission_group_comment").attr("checked")?"1":"0"};if(s(".grading_value:visible").length>0&&(a["submission[grade]"]=s(".grading_value").val()),s("#media_media_recording:visible").length>0){var r=s("#media_media_recording").data("comment_id"),t=s("#media_media_recording").data("comment_type");a["submission[media_comment_type]"]=t||"video",a["submission[media_comment_id]"]=r}else s(".grading_comment").val()&&""!=s(".grading_comment").val&&(a["submission[comment]"]=s(".grading_comment").val()),!a["submission[comment]"]&&s("#add_comment_form input[type='file']").length>0&&(a["submission[comment]"]=a["submission[comment]"]||i.t("see_attached_files","See attached files"));(a["submission[comment]"]||a["submission[grade]"]||a["submission[media_comment_id]"])&&(s("#add_comment_form input[type='file']").length>0?s.ajaxJSONFiles(e+".text",n,a,s("#add_comment_form input[type='file']"),o):s.ajaxJSON(e,n,a,o))}),s(".attach_comment_file_link").click(function(e){e.preventDefault();var i=s("#comment_attachment_input_blank").clone(!0).removeAttr("id");i.find("input").attr("name","attachments["+n++ +"][uploaded_data]"),s("#add_comment_form .comment_attachments").append(i.slideDown())}),s(".delete_comment_attachment_link").click(function(e){e.preventDefault(),s(this).parents(".comment_attachment_input").slideUp(function(){s(this).remove()})}),s(".save_rubric_button").click(function(){var e=s(this).parents("#rubric_holder").find(".rubric"),i=rubricAssessment.assessmentData(e),n=s(".update_rubric_assessment_url").attr("href"),o="POST";e.loadingImage(),s.ajaxJSON(n,o,i,function(i){e.loadingImage("remove");var n=i,o=!1;n.rubric_association&&(rubricAssessment.updateRubricAssociation(e,i.rubric_association),delete n.rubric_association);for(var r in rubricAssessments){var t=rubricAssessments[r].rubric_assessment;t&&n&&n.id==t.id&&(rubricAssessments[r].rubric_assessment=n,o=!0)}if(!o){i.rubric_assessment||(i={rubric_assessment:i}),rubricAssessments.push(i);var d=s(document.createElement("option"));d.val(n.id).text(n.assessor_name).attr("id","rubric_assessment_option_"+n.id),s("#rubric_assessments_select").prepend(d).val(n.id)}s("#rubric_assessment_option_"+n.id).text(n.assessor_name),s("#new_rubric_assessment_option").remove(),s("#rubric_assessments_list").show(),rubricAssessment.populateRubric(e,n),submission=n.artifact,submission&&a(submission),s("#rubric_holder").fadeOut()})}),s("#rubric_holder .rubric").css("width","auto").css("marginTop",0),s(".hide_rubric_link").click(function(e){e.preventDefault(),s("#rubric_holder").fadeOut(function(){s(".assess_submission_link").focus()})}),s(".assess_submission_link").click(function(e){e.preventDefault(),s("#rubric_assessments_select").change(),s("#rubric_holder").fadeIn(function(){s(this).find(".hide_rubric_link").focus()})}),s("#rubric_assessments_select").change(function(){var e=s(this).val(),i=null;for(var n in rubricAssessments){var o=rubricAssessments[n].rubric_assessment;o.id==e&&(i=o)}rubricAssessment.populateRubric(s("#rubric_holder .rubric"),i);var a=!i||i.assessor_id==ENV.RUBRIC_ASSESSMENT.assessor_id;s("#rubric_holder .rubric").toggleClass("assessing",a&&ENV.RUBRIC_ASSESSMENT.assessor_id!=ENV.RUBRIC_ASSESSMENT.assessment_user_id),s("#rubric_holder .save_rubric_button").showIf(a)}).change(),s(".media_comment_link").click(function(e){e.preventDefault(),s("#add_comment_form").hide(),s("#media_media_recording").show(),$recording=s("#media_media_recording").find(".media_recording"),$recording.mediaComment("create","any",function(e,i){s("#media_media_recording").data("comment_id",e).data("comment_type",i),s(document).triggerHandler("grading_change"),s("#add_comment_form").show(),s("#media_media_recording").hide(),$recording.empty()},function(){s("#add_comment_form").show(),s("#media_media_recording").hide()})}),s("#media_recorder_container a").live("click",function(){s("#add_comment_form").show(),s("#media_media_recording").hide()}),s(".comments .comment_list").delegate(".play_comment_link","click",function(e){e.preventDefault();var i=s(this).parents(".comment_media").getTemplateData({textValues:["media_comment_id"]}).media_comment_id;i&&s(this).parents(".comment_media").find(".media_comment_content").mediaComment("show",i,"video")}).delegate("a.instructure_inline_media_comment","click",function(e){e.preventDefault(),e.stopPropagation()}),a(ENV.SUBMISSION.submission)}),s(document).fragmentChange(function(e,i){if("#rubric"==i)s(".assess_submission_link:visible:first").click();else if(i.match(/^#comment/)){var n=null;try{n=JSON.parse(i.substring(8))}catch(o){}n&&n.comment&&s(".grading_comment").val(n.comment),s(".grading_comment").focus().select()}}),INST.refreshGrades=function(){var e=s(".submission_data_url").attr("href");setTimeout(function(){s.ajaxJSON(e,"GET",{},o)},500)}}),function(){require(["submissions"])}.call(this),define("compiled/bundles/submissions",function(){});
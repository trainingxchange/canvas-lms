define("translations/pages",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{pages:{cancel_button:"إلغاء",cannot_unpublish_front_page:"لا يمكن إلغاء نشر الصفحة الأمامية",delete_button:"حذف",delete_confirmation:"هل ترغب بالتأكيد في حذف صفحة Wiki هذه؟",delete_dialog_title:"حذف صفحة Wiki",deleting_button:"جارٍ الحذف...",edit_dialog_title:"تحرير صفحة Wiki",errors:{require_title:"يجب عليك إدخال عنوان"},headers:{sort_ascending:"%{title}، فرز تصاعدي",sort_descending:"%{title}، فرز تنازلي"},notices:{delete_failed:'تعذر حذف الصفحة "%{title}".',page_deleted:'تم حذف "%{title}" الصفحة.'},reload_editing_page:"تغيرت هذه الصفحة منذ أن بدأت في تحريرها. وستؤدي *إعادة التحميل* إلى فقد كل تغييراتك.",reload_viewing_page:"تغيرت هذه الصفحة منذ أن بدأت في عرضها. *إعادة التحميل*",restore_failed:"فشلت استعادة مراجعة الصفحة",save_button:"حفظ",saving_button:"جارٍ الحفظ...",warnings:{overwrite_changes:"أنت على وشك الكتابة فوق التغييرات الأخرى التي أجريت منذ أن بدأت في التحرير.\\n\\nهل تريد الكتابة فوق هذه التغييرات؟",unsaved_changes:"لديك تغييرات غير محفوظة. هل تريد المتابعة دون حفظ هذه التغييرات؟"}}},de:{pages:{cancel_button:"Abbrechen",cannot_unpublish_front_page:"Veröffentlichung der Startseite kann nicht rückgängig gemacht werden",delete_button:"Löschen",delete_confirmation:"Möchten Sie diese Wiki-Seite wirklich löschen?",delete_dialog_title:"Wiki-Seite löschen",deleting_button:"Wird gelöscht...",edit_dialog_title:"Wiki-Seite bearbeiten",errors:{require_title:"Sie müssen einen Titel eingeben"},headers:{sort_ascending:"%{title}, Aufsteigend sortieren",sort_descending:"%{title}, Absteigend sortieren"},notices:{delete_failed:'Die Seite "%{title}" konnte nicht gelöscht werden.',page_deleted:'Die Seite "%{title}" wurde gelöscht.'},reload_editing_page:"Diese Seite wurde geändert, seit Sie sie bearbeitet haben. Wenn Sie sie *neu laden*, gehen alle Änderungen verloren.",reload_viewing_page:"Diese Seite wurde geändert, seit Sie sie angezeigt haben. *Neu laden*",restore_failed:"Seitenrevision konnte nicht wiederhergestellt werden",save_button:"Speichern",saving_button:"Wird gespeichert...",warnings:{overwrite_changes:"Sie sind im Begriff, die anderen Änderungen zu überschreiben, die Sie seit Beginn der Bearbeitung vorgenommen haben.\\n\\nÄnderungen überschreiben?",unsaved_changes:"Es liegen nicht gespeicherte Änderungen von Ihnen vor. Möchten Sie fortfahren, ohne die Änderungen zu speichern?"}}},"en-AU":{pages:{cancel_button:"Cancel",cannot_unpublish_front_page:"Cannot unpublish the front page",delete_button:"Delete",delete_confirmation:"Are you sure you wish to delete this wiki page?",delete_dialog_title:"Delete Wiki Page",deleting_button:"Deleting...",edit_dialog_title:"Edit Wiki Page",errors:{require_title:"You must enter a title"},headers:{sort_ascending:"%{title}, Sort ascending",sort_descending:"%{title}, Sort descending"},notices:{delete_failed:'The page "%{title}" could not be deleted.',page_deleted:'The page "%{title}" has been deleted.'},reload_editing_page:"This page has changed since you started editing it. *Reloading* will lose all of your changes.",reload_viewing_page:"This page has changed since you started viewing it. *Reload*",restore_failed:"Failed to restore page revision",save_button:"Save",saving_button:"Saving...",warnings:{overwrite_changes:"You are about to overwrite other changes that have been made since you started editing.\\n\\nOverwrite these changes?",unsaved_changes:"You have unsaved changes. Do you want to continue without saving these changes?"}}},"en-GB":{pages:{cancel_button:"Cancel",cannot_unpublish_front_page:"Cannot unpublish the front page",delete_button:"Delete",delete_confirmation:"Are you sure you wish to delete this wiki page?",delete_dialog_title:"Delete Wiki page",deleting_button:"Deleting...",edit_dialog_title:"Edit Wiki page",errors:{require_title:"You must enter a title"},headers:{sort_ascending:"%{title}, Sort ascending",sort_descending:"%{title}, Sort descending"},notices:{delete_failed:'The page "%{title}" could not be deleted.',page_deleted:'The page "%{title}" has been deleted.'},reload_editing_page:"This page has changed since you started editing it. *Reloading* will lose all of your changes.",reload_viewing_page:"This page has changed since you started viewing it. *Reload*",restore_failed:"Failed to restore page revision",save_button:"Save",saving_button:"Saving...",warnings:{overwrite_changes:"You are about to overwrite other changes that have been made since you started editing.\\n\\nOverwrite these changes?",unsaved_changes:"You have unsaved changes. Do you want to continue without saving these changes?"}}},es:{pages:{cancel_button:"Cancelar",cannot_unpublish_front_page:"No se puede ocultar la página principal",delete_button:"Borrar",delete_confirmation:"¿Está seguro de que desea borrar esta página wiki?",delete_dialog_title:"Borrar página wiki",deleting_button:"Borrando...",edit_dialog_title:"Editar página wiki",errors:{require_title:"Debe introducir un título"},headers:{sort_ascending:"%{title}, orden ascendente",sort_descending:"%{title}, orden descendente"},notices:{delete_failed:'No se puede borrar la página "%{title}".',page_deleted:'Se ha borrado la página "%{title}".'},reload_editing_page:"Esta página ha cambiado desde que comenzó a editarla. Si la *recarga* perderá todos los cambios.",reload_viewing_page:"Esta página ha cambiado desde que comenzó a verla. *Recargar*",restore_failed:"No se pudo restaurar la revisión de páginas",save_button:"Guardar",saving_button:"Guardando...",warnings:{overwrite_changes:"Está a punto de sobrescribir otros cambios que se han realizado desde que comenzó a editar.\\n\\n¿Sobrescribir los cambios?",unsaved_changes:"No ha guardado los cambios. ¿Desea continuar sin guardar esos cambios?"}}},"fa-IR":{pages:{cancel_button:"لغو",cannot_unpublish_front_page:"نمی توان انتشار صفحه آغازین را لغو کرد",delete_button:"حذف",delete_confirmation:"مطمئنید که می خواهید این صفحه ویکی حذف شود؟",delete_dialog_title:"حذف صفحه ویکی",deleting_button:"درحال حذف...",edit_dialog_title:"ویرایش صفحه ویکی",errors:{require_title:"باید یک عنوان وارد کنید"},headers:{sort_ascending:"%{title}, مرتب سازی صعودی ",sort_descending:"%{title}, مرتب سازی نزولی "},notices:{delete_failed:'صفحه "%{title}" نمی تواند حذف شود.',page_deleted:'صفحه "%{title}" حذف شده است.'},reload_editing_page:"این صفحه از زمانی که شروع به ویرایش آن کرده اید تغییر یافته است. *بارگیری دوباره* همه تغییرات شما را از بین خواهد برد.",reload_viewing_page:"این صفحه از زمانی که شروع به مشاهده آن کرده اید، تغییر یافته است. *بارگذاری دوباره*",restore_failed:"بازیابی تجدید نظر صفحه انجام نشد",save_button:"ذخیره سازی",saving_button:"در حال ذخیره سازی...",warnings:{overwrite_changes:"از زمانی که ویرایش را شروع کرده اید، در حال رونویسی تغییرات اعمال شده دیگر هستید.\\n\\nاین تغییرات رونویسی شوند؟",unsaved_changes:"ذخیره سازی تغییرات را لغو کرده اید. می خواهید بدون ذخیره سازی این تغییرات ادامه دهید؟ "}}},fr:{pages:{cancel_button:"Annuler",cannot_unpublish_front_page:"Impossible d’annuler la publication de la première page",delete_button:"Supprimer",delete_confirmation:"Voulez-vous vraiment supprimer cette page Wiki ?",delete_dialog_title:"Supprimer la page Wiki",deleting_button:"Suppression...",edit_dialog_title:"Modifier la page Wiki ",errors:{require_title:"Vous devez saisir un titre"},headers:{sort_ascending:"%{title}, tri par ordre croissant",sort_descending:"%{title}, tri par ordre décroissant"},notices:{delete_failed:"Impossible de supprimer la page « %{title} ».",page_deleted:"La page « %{title} » a été supprimée."},reload_editing_page:"Cette page a changé depuis que vous avez commencé à la modifier. Le *rechargement* aura pour conséquence la perte de toutes vos modifications.",reload_viewing_page:"Cette page a changé depuis que vous avez commencé à la lire. *Recharger*",restore_failed:"Impossible de restaurer la révision de la page",save_button:"Enregistrer",saving_button:"Enregistrement...",warnings:{overwrite_changes:"Vous êtes sur le point d’écraser d’autres changements qui ont été effectués depuis que vous avez commencé vos propres modifications.\\n\\nRemplacer ces changements ?",unsaved_changes:"Des changements n’ont pas été enregistrés. Voulez-vous continuer sans enregistrer ?"}}},ja:{pages:{cancel_button:"キャンセル",cannot_unpublish_front_page:"トップ ページは非公開にできません",delete_button:"削除",delete_confirmation:"この Wiki ページを削除してもよろしいですか?",delete_dialog_title:"Wiki ページの削除",deleting_button:"削除中...",edit_dialog_title:"Wiki ページの編集",errors:{require_title:"タイトルを入力する必要があります"},headers:{sort_ascending:"%{title}、昇順に並べ替え",sort_descending:"%{title}、降順に並べ替え"},notices:{delete_failed:'ページ "%{title}" を削除できませんでした。',page_deleted:'ページ "%{title}" は削除されました。'},reload_editing_page:"このページは、編集開始後に変更されています。*再読み込み* を行うと、変更内容がすべて失われます。",reload_viewing_page:"このページは表示後に変更されています。*再読み込みしてください*。",restore_failed:"ページ リビジョンを復元できませんでした",save_button:"保存",saving_button:"保存しています...",warnings:{overwrite_changes:"編集開始後に行われた他の変更を上書きしようとしています。\\n\\nこれらの変更を上書きしますか?",unsaved_changes:"変更内容を保存していません。これらの変更内容を保存せずに続行しますか?"}}},ko:{pages:{cancel_button:"취소",cannot_unpublish_front_page:"첫 페이지를 게시 취소할 수 없음",delete_button:"삭제",delete_confirmation:"이 위키 페이지를 삭제하시겠습니까?",delete_dialog_title:"위키 페이지 삭제",deleting_button:"삭제 중...",edit_dialog_title:"위키 페이지 편집",errors:{require_title:"제목을 입력해야 함"},headers:{sort_ascending:"%{title}, 오름차순 정렬",sort_descending:"%{title}, 내림차순 정렬"},notices:{delete_failed:'"%{title}" 페이지를 삭제할 수 없습니다.',page_deleted:'"%{title}" 페이지가 삭제되었습니다.'},reload_editing_page:"이 페이지는 여러분의 편집을 시작한 이후에 변경되었습니다. *다시 로드*하면 변경 사항을 모두 잃게 됩니다.",reload_viewing_page:"이 페이지는 여러분이 페이지를 보기 시작한 이후에 변경되었습니다. *다시 로드*하십시오.",restore_failed:"페이지 수정 복원 실패",save_button:"저장",saving_button:"저장 중...",warnings:{overwrite_changes:"여러분이 편집을 시작한 이후에 다른 사람이 변경한 사항을 덮어쓰려고 합니다.\\n\\n변경 사항을 덮어쓰시겠습니까?",unsaved_changes:"저장하지 않은 변경 사항이 있습니다. 해당 변경 사항을 저장하지 않고 계속 진행하시겠습니까?"}}},nb:{pages:{cancel_button:"Avbryt",cannot_unpublish_front_page:"Kan ikke fjerne forsiden fra publisering",delete_button:"Slett",delete_confirmation:"Er du sikker på at du vil slette denne wikisiden?",delete_dialog_title:"Slett wikiside",deleting_button:"Sletter…",edit_dialog_title:"Rediger wikiside",errors:{require_title:"Du må skrive inn en tittel"},headers:{sort_ascending:"%{title}, sorter stigende",sort_descending:"%{title}, sorter synkende"},notices:{delete_failed:'Siden "%{title}" kunne ikke slettes.',page_deleted:'Siden "%{title}" har blitt slettet.'},reload_editing_page:"Denne siden har blitt endret siden du begynte å redigere den. Å *oppdatere* vil fjerne alle endringene dine.",reload_viewing_page:"Denne siden har blitt endret siden du lastet den. *Oppdater*",restore_failed:"Gjenoppretting av siderevisjon mislyktes.",save_button:"Lagre",saving_button:"Lagrer...",warnings:{overwrite_changes:"Du er i ferd med å overskrive andre endringer som har blitt gjort siden du begynte å redigere.\\n\\nOverskriv endringene?",unsaved_changes:"Du har ulagrede endringer. Vil du fortsette uten å lagre disse?"}}},nl:{pages:{cancel_button:"Annuleren",cannot_unpublish_front_page:"Publicatie van de voorpagina kan niet ongedaan worden gemaakt",delete_button:"Verwijderen",delete_confirmation:"Weet je zeker dat je deze wiki-pagina wilt verwijderen?",delete_dialog_title:"Wiki-pagina verwijderen",deleting_button:"Bezig met verwijderen...",edit_dialog_title:"Wiki-pagina bewerken",errors:{require_title:"Je moet een titel invoeren"},headers:{sort_ascending:"%{title}, Oplopend sorteren",sort_descending:"%{title}, Aflopend sorteren"},notices:{delete_failed:'Kan de pagina "%{title}" niet verwijderen.',page_deleted:'De pagina "%{title}" is verwijderd.'},reload_editing_page:"Deze pagina is veranderd sinds je bent begonnen met bewerken. *Verversen* zal tot verlies van je veranderingen leiden.",reload_viewing_page:"De pagina is sinds je bent begonnen met bekijken ervan veranderd. *Verversen*",restore_failed:"Het herstellen van paginarevisie mislukt",save_button:"Opslaan",saving_button:"Bezig met opslaan...",warnings:{overwrite_changes:"Je staat op het punt om andere veranderingen die je hebt gemaakt sinds je bent begonnen met bewerken te overschrijven. \\n\\nDeze veranderingen overschrijven?",unsaved_changes:"Je hebt veranderingen die niet opgeslagen zijn. Wil je doorgaan zonder deze veranderingen op te slaan?"}}},pl:{pages:{cancel_button:"Anuluj",cannot_unpublish_front_page:"Nie można cofnąć publikacji pierwszej strony",delete_button:"Usuń",delete_confirmation:"Czy na pewno chcesz usunąć tę stronę typu wiki?",delete_dialog_title:"Usuń stronę typu Wiki",deleting_button:"Trwa usuwanie...",edit_dialog_title:"Edytuj stronę typu Wiki",errors:{require_title:"Należy wpisać tytuł"},headers:{sort_ascending:"%{title}, sortuj rosnąco",sort_descending:"%{title}, sortuj malejąco"},notices:{delete_failed:'Nie można usunąć strony zatytułowanej "%{title}".',page_deleted:'Strona zatytułowana "%{title}" została usunięta.'},reload_editing_page:"Na stronie nastąpiły zmiany od momentu rozpoczęcia jej edycji. *Ponowne załadowanie* spowoduje utratę wprowadzonych zmian.",reload_viewing_page:"Nastąpiły zmiany na stronie od momentu rozpoczęcia jej przeglądania. *Załaduj ponownie* ",restore_failed:"Przywrócenie korekty strony zakończone niepowodzeniem",save_button:"Zapisz",saving_button:"Trwa zapisywanie...",warnings:{overwrite_changes:"Zastąpisz inne zmiany, które zostały wprowadzone od momentu rozpoczęcia edycji.\\n\\nZastąpić te zmiany?",unsaved_changes:"Nie zapisano zmian. Czy chcesz kontynuować bez zapisywania tych zmian?"}}},pt:{pages:{cancel_button:"Cancelar",cannot_unpublish_front_page:"Não é possível anular a publicação da primeira página",delete_button:"Eliminar",delete_confirmation:"Tem a certeza de que pretende eliminar esta página wiki?",delete_dialog_title:"Eliminar página wiki",deleting_button:"A eliminar...",edit_dialog_title:"Editar página wiki",errors:{require_title:"Tem de introduzir um título"},headers:{sort_ascending:"%{title}, Ordenar por ordem crescente",sort_descending:"%{title}, Ordenar por ordem decrescente"},notices:{delete_failed:'Não foi possível eliminar a página "%{title}".',page_deleted:'A página "%{title}" foi eliminada.'},reload_editing_page:"Esta página foi alterada desde que começou a editá-la. Se *recarregar* a página, perderá todas as alterações feitas.",reload_viewing_page:"Esta página foi alterada desde que começou a vê-la. *Recarregar*",restore_failed:"Não foi possível restaurar a revisão de página",save_button:"Guardar",saving_button:"A guardar...",warnings:{overwrite_changes:"Está prestes a substituir outras alterações feitas desde que começou a edição.\\n\\nSubstituir essas alterações?",unsaved_changes:"Existem alterações não guardadas. Deseja continuar a trabalhar sem guardar essas alterações?"}}},"pt-BR":{pages:{cancel_button:"Cancelar",cannot_unpublish_front_page:"Não é possível cancelar publicação da primeira página",delete_button:"Excluir",delete_confirmation:"Tem certeza de que deseja excluir esta página Wiki?",delete_dialog_title:"Excluir página Wiki",deleting_button:"Excluindo...",edit_dialog_title:"Editar página Wiki",errors:{require_title:"Você deve inserir um título"},headers:{sort_ascending:"%{title}, ordem crescente",sort_descending:"%{title}, ordem decrescente"},notices:{delete_failed:'A página "%{title}" não pode ser excluída.',page_deleted:'A página "%{title}" foi excluída.'},reload_editing_page:"Esta página mudou desde quando você começou a editá-la. *Recarregar* fará perder todas as alterações.",reload_viewing_page:"Esta página mudou desde quando você começou a visualizá-la. *Recarregue*",restore_failed:"Falha ao restaurar revisão de página",save_button:"Salvar",saving_button:"Salvando...",warnings:{overwrite_changes:"Você está prestes a sobrescrever outras alterações que foram feitas desde quando você começou a editar.\\n\\nSobrescrever essas alterações?",unsaved_changes:"Você tem alterações não salvas. Você deseja continuar sem salvar essas alterações?"}}},ru:{pages:{cancel_button:"Отменить",cannot_unpublish_front_page:"Нельзя снять с публикации титульную страницу",delete_button:"Удалить",delete_confirmation:"Вы уверены, что хотите удалить эту вики-страницу?",delete_dialog_title:"Удалить вики-страницу",deleting_button:"Удаление…",edit_dialog_title:"Редактировать вики-страницу",errors:{require_title:"Нужно ввести заголовок"},headers:{sort_ascending:"%{title}, Сортировать по возрастанию",sort_descending:"%{title}, Сортировать по убыванию"},notices:{delete_failed:'Страница "%{title}" не может быть удалена.',page_deleted:'Страница "%{title}" удалена.'},reload_editing_page:"Эта страница изменилась с момента, когда вы начали ее редактировать. *Перезагрузка* приведет к потере всех внесенных вами изменений.",reload_viewing_page:"Эта страница изменилась с момента, когда вы начали ее просматривать. *Перезагрузить*",restore_failed:"Не удалось восстановить прежнюю версию страницы",save_button:"Сохранить",saving_button:"Сохранение...",warnings:{overwrite_changes:"Вы собираетесь перезаписать другие изменения, которые были внесены, пока вы редактировали. \\n\\nПерезаписать эти изменения?",unsaved_changes:"Вы не сохранили изменения. Вы хотите продолжить без сохранения этих изменений?"}}},tr:{pages:{cancel_button:"İptal",cannot_unpublish_front_page:"Ön sayfa yayından kaldırılamıyor",delete_button:"Sil",delete_confirmation:"Bu wiki dosyasını silmek istediğinize emin misiniz?",delete_dialog_title:"Wiki Sayfasını Sil",deleting_button:"Siliniyor...",edit_dialog_title:"Wiki Sayfasını Düzenle",errors:{require_title:"Bir başlık girmelisiniz"},headers:{sort_ascending:"%{title}, Artana göre sırala",sort_descending:"%{title}, Azalana göre sırala"},notices:{delete_failed:'"%{title}" sayfası silinemiyor.',page_deleted:'"%{title}" sayfası silindi.'},reload_editing_page:"Siz düzenlemeye başladığınızdan beri bu sayfa değişti. * Tekrar yüklemenizde * tüm değişiklikleri kaybedersiniz.",reload_viewing_page:"Siz incelemeye başladığınızdan beri bu sayfa değişti.  *Tekrar Yükle*",restore_failed:"Sayfa gözden geçirmeyi geri yükleme başarısız",save_button:"Kaydet",saving_button:"Kaydediliyor...",warnings:{overwrite_changes:"Siz düzenlemeye başladıktan sonra yapılmış olan diğer değişikliklerin üzerine yazmak üzeresiniz.\\n\\nDeğişiklikler üzerine yazılsın mı?",unsaved_changes:"Değişiklikler kaydedilmedi. Değişiklikleri kaydetmeden devam etmek istediğinize emin misiniz?"}}},zh:{pages:{cancel_button:"取消",cannot_unpublish_front_page:"无法取消发布上一页",delete_button:"删除",delete_confirmation:"是否确定要删除此维基页面?",delete_dialog_title:"删除维基页面",deleting_button:"正在删除...",edit_dialog_title:"编辑维基页面",errors:{require_title:"您必须输入标题"},headers:{sort_ascending:"%{title}，升序排序",sort_descending:"%{title}，降序排序"},notices:{delete_failed:"页面“%{title}”无法删除。",page_deleted:'页面"%{title}"已删除。'},reload_editing_page:"自从您开始编辑后，此页已发生更改。如果*重新加载*，将丢失所有更改。",reload_viewing_page:"自从您开始查看后，此页面已发生更改。*重新加载*",restore_failed:"无法恢复页面版本",save_button:"保存",saving_button:"正在保存...",warnings:{overwrite_changes:"您即将覆盖自您开始编辑后已经进行的其它更改。\\n\\n是否确实要覆盖这些更改？",unsaved_changes:"您有未保存的更改。是否要继续操作而不保存这些更改？"}}}}})}),function(){var e={}.hasOwnProperty,t=function(t,i){function n(){this.constructor=t}for(var o in i)e.call(i,o)&&(t[o]=i[o]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t};define("compiled/models/WikiPageRevision",["jquery","underscore","Backbone","i18n!pages","compiled/backbone-ext/DefaultUrlMixin","compiled/str/splitAssetString","compiled/jquery.rails_flash_notifications"],function(e,i,n,o,a){var r,s,l;return s=["contextAssetString","page","pageUrl","latest","summary"],r=function(n){function r(){return l=r.__super__.constructor.apply(this,arguments)}return t(r,n),r.mixin(a),r.prototype.initialize=function(e,t){return r.__super__.initialize.apply(this,arguments),i.extend(this,i.pick(t||{},s)),i.has(this,"url")?delete this.url:void 0},r.prototype.urlRoot=function(){return"/api/v1/"+this._contextPath()+"/pages/"+this.pageUrl+"/revisions"},r.prototype.url=function(){var e;return e=this.urlRoot(),this.latest?""+e+"/latest":this.get("revision_id")?""+e+"/"+this.get("revision_id"):e},r.prototype.fetch=function(e){var t,i,n;return null==e&&(e={}),this.summary&&(null==(i=e.data)&&(e.data={}),null==(n=(t=e.data).summary)&&(t.summary=!0)),r.__super__.fetch.call(this,e)},r.prototype.pollForChanges=function(e){var t,n=this;return null==e&&(e=3e4),this.polling=!0,this._poller||(t=function(){return n.polling?n.fetch().done(function(e,i,n){return i=n.status.toString(),"4"!==i[0]&&"5"!==i[0]?t():void 0}):void 0},this._poller=t=i.throttle(t,e,{leading:!1})),this._poller()},r.prototype.stopPolling=function(){return this.polling=!1},r.prototype.parse=function(e){return e.url&&(e.id=e.url),e},r.prototype.toJSON=function(){return i.omit(r.__super__.toJSON.apply(this,arguments),"id")},r.prototype.restore=function(){var t;return t=e.ajaxJSON(this.url(),"POST").fail(function(){return e.flashError(o.t("restore_failed","Failed to restore page revision"))}),e("#wiki_page_revisions").disableWhileLoading(e.Deferred()),t},r}(n.Model)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,i){function n(){this.constructor=t}for(var o in i)e.call(i,o)&&(t[o]=i[o]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t};define("compiled/models/WikiPage",["underscore","Backbone","compiled/models/WikiPageRevision","compiled/backbone-ext/DefaultUrlMixin","compiled/str/splitAssetString","i18n!pages"],function(e,i,n,o,a,r){var s,l,d;return l=["contextAssetString","revision"],s=function(i){function s(){return d=s.__super__.constructor.apply(this,arguments)}return t(s,i),s.mixin(o),s.prototype.resourceName="pages",s.prototype.idAttribute="url",s.prototype.initialize=function(t,i){var n;return s.__super__.initialize.apply(this,arguments),e.extend(this,e.pick(i||{},l)),this.contextAssetString&&(n=a(this.contextAssetString),this.contextName=n[0],this.contextId=n[1]),this.on("change:front_page",this.setPublishable),this.on("change:published",this.setPublishable),this.setPublishable()},s.prototype.setPublishable=function(){var e,t,i,n;return t=this.get("front_page"),n=this.get("published"),i=!t||!n,e=!t,this.set("publishable",i),this.set("deletable",e),i?this.unset("publishableMessage"):this.set("publishableMessage",r.t("cannot_unpublish_front_page","Cannot unpublish the front page"))},s.prototype.disabledMessage=function(){return this.get("publishableMessage")},s.prototype.urlRoot=function(){return"/api/v1/"+this._contextPath()+"/pages"},s.prototype.url=function(){return this.get("url")?""+this.urlRoot()+"/"+this.get("url"):this.urlRoot()},s.prototype.latestRevision=function(t){var i;return!this._latestRevision&&this.get("url")&&(this._latestRevision||(i=e.extend({},{contextAssetString:this.contextAssetString,page:this,pageUrl:this.get("url"),latest:!0,summary:!0},t),this._latestRevision=new n({revision_id:this.revision},i))),this._latestRevision},s.prototype.parse=function(t){return t.wiki_page&&(t=e.extend(e.omit(t,"wiki_page"),t.wiki_page)),t},s.prototype.toJSON=function(){return{wiki_page:s.__super__.toJSON.apply(this,arguments)}},s.prototype.present=function(){return e.extend({},this.attributes,{contextName:this.contextName,contextId:this.contextId,new_record:!this.get("url")})},s.prototype.publish=function(){var e;return e={wiki_page:{published:!0}},this.save(e,{attrs:e,wait:!0})},s.prototype.unpublish=function(){var e;return e={wiki_page:{published:!1}},this.save(e,{attrs:e,wait:!0})},s.prototype.setFrontPage=function(){var e;return e={wiki_page:{front_page:!0}},this.save(e,{attrs:e,wait:!0})},s.prototype.unsetFrontPage=function(){var e;return e={wiki_page:{front_page:!1}},this.save(e,{attrs:e,wait:!0})},s}(i.Model)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e},n=[].slice,o=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};define("compiled/collections/PaginatedCollection",["Backbone","underscore"],function(t,a){var r,s,l;return s=function(e){return null==e&&(e=""),e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()},r=function(t){function r(){return this._setStateAfterFetch=e(this._setStateAfterFetch,this),l=r.__super__.constructor.apply(this,arguments)}return i(r,t),r.prototype.nameRegex=/rel="([a-z]+)/,r.prototype.linkRegex=/^<([^>]+)/,r.prototype.pageRegex=/\Wpage=(\d+)/,r.prototype.perPageRegex=/\Wper_page=(\d+)/,r.prototype.initialize=function(){return r.__super__.initialize.apply(this,arguments),this.urls={}},r.prototype.fetch=function(e){var t,i,o,l,d=this;return null==e&&(e={}),e=a.clone(e),this.loadedAll=!1,i="fetching"+s(e.page)+"Page",this[i]=!0,null!=e.page?((null!=(l=this.urls)?l[e.page]:void 0)&&(e.url=this.urls[e.page]),null==e.remove&&(e.remove=!1),e.data=""):null==e.reset&&(e.reset=!0),this.trigger("beforeFetch",this,e),null!=e.page&&this.trigger("beforeFetch:"+e.page,this,e),o=null,e.dataFilter=function(t){return d[i]=!1,d._setStateAfterFetch(o,e),t},t=e.dfd||$.Deferred(),o=r.__super__.fetch.call(this,e).done(function(i,o,a){var r;return d.trigger("fetch",d,i,e),null!=e.page&&d.trigger("fetch:"+e.page,d,i,e),(null!=(r=d.urls)?r.next:void 0)||(d.trigger.apply(d,["fetched:last"].concat(n.call(arguments))),d.loadedAll=!0),d.loadAll&&null!=d.urls.next?setTimeout(function(){return d.fetch({page:"next",dfd:t})}):t.resolve(i,o,a)}),t.abort=o.abort,t.success=t.done,t.error=t.fail,t},r.prototype.canFetch=function(e){return null!=this.urls&&null!=this.urls[e]},r.prototype._setStateAfterFetch=function(e,t){var i,n,a,r,s,l,d,_,u,p,c,g,h,v,m,f;return null==(p=this._urlCache)&&(this._urlCache=[]),c=t.url,_=o.call(this._urlCache,c)<0,_||this._urlCache.push(t.url),i=!this.atLeastOnePageFetched,s=i||("next"===(g=t.page)||"bottom"===g)&&_,l=i||("prev"===(h=t.page)||"top"===h)&&_,a=this.urls,this.urls=this._parsePageLinks(e),s&&null!=this.urls.next?this.urls.bottom=this.urls.next:this.urls.next?this.urls.bottom=a.bottom:delete this.urls.bottom,l&&null!=this.urls.prev?this.urls.top=this.urls.prev:this.urls.prev?this.urls.top=a.top:delete this.urls.top,d=null!=(v=this.urls.first)?v:this.urls.next,null!=d&&(r=parseInt(d.match(this.perPageRegex)[1],10),(null!=(m=(u=null!=(f=this.options)?f:this.options={}).params)?m:u.params={}).per_page=r),this.urls.last&&(n=this.urls.last.match(this.pageRegex))&&(this.totalPages=parseInt(n[1],10)),this.atLeastOnePageFetched=!0},r.prototype._parsePageLinks=function(e){var t,i,n=this;return t=null!=(i=e.getResponseHeader("link"))?i.split(","):void 0,null==t&&(t=[]),a.reduce(t,function(e,t){var i,o;return i=t.match(n.nameRegex)[1],o=t.match(n.linkRegex)[1],e[i]=o,e},{})},r}(t.Collection)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,i){function n(){this.constructor=t}for(var o in i)e.call(i,o)&&(t[o]=i[o]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t};define("compiled/collections/WikiPageRevisionsCollection",["underscore","Backbone","compiled/collections/PaginatedCollection","compiled/models/WikiPageRevision"],function(e,i,n,o){var a,r,s;return r=["parentModel"],a=function(i){function n(){return s=n.__super__.constructor.apply(this,arguments)}return t(n,i),n.prototype.model=o,n.prototype.url=function(){return""+this.parentModel.url()+"/revisions"},n.prototype.initialize=function(t,i){var o,a,s;return n.__super__.initialize.apply(this,arguments),e.extend(this,e.pick(i||{},r)),this.parentModel?(o=this,a=o.parentModel,s=function(e){return e.page=a,e.pageUrl=a.get("url"),e.contextAssetString=a.contextAssetString,e.get("latest")?o.latest=e:void 0},this.on("reset",function(e){return e.each(s)}),this.on("add",function(e){return s(e)})):void 0},n}(n)})}.call(this),define("translations/wiki.wiki_page_content",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{wiki:{wiki_page_content:{page_locked:"هذه الصفحة مُؤَمّنة",page_locked_by_modules:"ستتم إتاحة هذه الصفحة بمجرد إكمال هذه الوحدات:",page_locked_by_modules_until:"ستتم إتاحة هذه الصفحة على %{lock_info.unlock_at} في حالة إكمال هذه الوحدات:",page_locked_until:"ستتم إتاحة هذه الصفحة على %{lock_info.unlock_at}"}}},de:{wiki:{wiki_page_content:{page_locked:"Diese Seite ist gesperrt",page_locked_by_modules:"Diese Seite steht zur Verfügung, wenn Sie die folgenden Module abgeschlossen haben:",page_locked_by_modules_until:"Diese Seite steht auf %{lock_info.unlock_at} zur Verfügung, wenn Sie die folgenden Module abgeschlossen haben:",page_locked_until:"Diese Seite steht auf %{lock_info.unlock_at} zur Verfügung"}}},"en-AU":{wiki:{wiki_page_content:{page_locked:"This page is locked",page_locked_by_modules:"This page will be available once you have completed these modules:",page_locked_by_modules_until:"This page will be available on %{lock_info.unlock_at} if you have completed these modules:",page_locked_until:"This page will be available on %{lock_info.unlock_at}"}}},"en-GB":{wiki:{wiki_page_content:{page_locked:"This page is locked",page_locked_by_modules:"This page will be available once you have completed these modules:",page_locked_by_modules_until:"This page will be available on %{lock_info.unlock_at} if you have completed these modules:",page_locked_until:"This page will be available on %{lock_info.unlock_at}"}}},es:{wiki:{wiki_page_content:{page_locked:"Esta página está bloqueada",page_locked_by_modules:"Esta página estará disponible cuando haya finalizado estos módulos:",page_locked_by_modules_until:"Esta página estará disponible el %{lock_info.unlock_at} si ha finalizado estos módulos:",page_locked_until:"Esta página estará disponible el %{lock_info.unlock_at}"}}},"fa-IR":{wiki:{wiki_page_content:{page_locked:"این صفحه قفل شده است",page_locked_by_modules:"این صفحه به محض اینکه این ماژول ها را تکمیل کنید، قابل دسترسی خواهد بود:",page_locked_by_modules_until:"در صورتی که این ماژول ها را تکمیل کنید، این صفحه در %{lock_info.unlock_at} قابل دسترسی خواهد بود:",page_locked_until:"این صفحه در %{lock_info.unlock_at} قابل دسترسی خواهد بود"}}},fr:{wiki:{wiki_page_content:{page_locked:"Cette page est verrouillée.",page_locked_by_modules:"Cette page sera disponible lorsque vous aurez terminé ces modules :",page_locked_by_modules_until:"Cette page sera disponible le %{lock_info.unlock_at} si vous avez terminé ces modules :",page_locked_until:"Cette page sera disponible le %{lock_info.unlock_at}"}}},ja:{wiki:{wiki_page_content:{page_locked:"このページはロックされています",page_locked_by_modules:"このページは、次のモジュールを完了した後に利用できます:",page_locked_by_modules_until:"このページは、次のモジュールの完了後、%{lock_info.unlock_at} に利用可能になります:",page_locked_until:"このページは、%{lock_info.unlock_at} に利用可能になります"}}},ko:{wiki:{wiki_page_content:{page_locked:"이 페이지가 잠겨 있습니다.",page_locked_by_modules:"다음 모듈을 완료하고 나면 이 페이지를 사용할 수 있습니다:",page_locked_by_modules_until:"다음 모듈을 완료하고 나면 %{lock_info.unlock_at}에 이 페이지를 이용할 수 있습니다:",page_locked_until:"이 페이지는 %{lock_info.unlock_at}에 이용할 수 있음"}}},nb:{wiki:{wiki_page_content:{page_locked:"Denne siden er låst",page_locked_by_modules:"Denne siden vil bli tilgjengelig når du har fullført disse modulene:",page_locked_by_modules_until:"Denne siden blir tilgjengelig %{lock_info.unlock_at} om du har fullført disse modulene:",page_locked_until:"Denne siden blir tilgjengelig %{lock_info.unlock_at}"}}},nl:{wiki:{wiki_page_content:{page_locked:"Deze pagina is vergrendeld",page_locked_by_modules:"Deze pagina zal beschikbaar zijn wanneer je deze modules hebt voltooid:",page_locked_by_modules_until:"Deze pagina zal beschikbaar zijn op %{lock_info.unlock_at} als je deze modules hebt voltooid:",page_locked_until:"Deze pagina zal beschikbaar zijn op %{lock_info.unlock_at}"}}},pl:{wiki:{wiki_page_content:{page_locked:"Ta strona jest zablokowana",page_locked_by_modules:"Strona będzie dostępna po ukończeniu następujących modułów:",page_locked_by_modules_until:"Strona będzie dostępna pod adresem %{lock_info.unlock_at}, jeśli ukończono następujące moduły:",page_locked_until:"Strona będzie dostępna pod adresem %{lock_info.unlock_at}"}}},pt:{wiki:{wiki_page_content:{page_locked:"Esta página está bloqueada",page_locked_by_modules:"Esta página ficará disponível depois de concluir estes módulos:",page_locked_by_modules_until:"Esta página ficará disponível em %{lock_info.unlock_at} se tiver concluído estes módulos:",page_locked_until:"Esta página ficará disponível em %{lock_info.unlock_at}"}}},"pt-BR":{wiki:{wiki_page_content:{page_locked:"Esta página está bloqueada",page_locked_by_modules:"Esta página estará disponível uma vez que você concluir esses módulos:",page_locked_by_modules_until:"Esta página estará disponível em %{lock_info.unlock_at} se você tiver concluído esses módulos:",page_locked_until:"Esta página estará disponível em %{lock_info.unlock_at}"}}},ru:{wiki:{wiki_page_content:{page_locked:"Данная страница заблокирована",page_locked_by_modules:"Данная страница будет доступна после того, как вы завершите данные модули:",page_locked_by_modules_until:"Данная страница будет доступна с %{lock_info.unlock_at}, если вы завершили данные модули:",page_locked_until:"Данная страница будет доступна с %{lock_info.unlock_at}"}}},tr:{wiki:{wiki_page_content:{page_locked:"Bu sayfa kilitlidir",page_locked_by_modules:"Bu modülleri tamamladıktan sonra sayfayı görebileceksiniz:",page_locked_by_modules_until:"Aşağıdaki modülleri tamamladıysanız bu sayfaya %{lock_info.unlock_at} tarihinde erişilebilecek:",page_locked_until:"Bu sayfaya %{lock_info.unlock_at} tarihinde erişilebilecek"}}},zh:{wiki:{wiki_page_content:{page_locked:"此页面已锁定",page_locked_by_modules:"此页面将在您完成这些单元后可用:",page_locked_by_modules_until:"此页面将在 %{lock_info.unlock_at} 可用，如果您已经完成这些单元:",page_locked_until:"此页面将在 %{lock_info.unlock_at} 可用"}}}}})
}),define("jst/wiki/WikiPageContent",["compiled/handlebars_helpers","i18n!wiki.wiki_page_content"],function(e){var t=e.template,i=e.templates=e.templates||{};return i["wiki/WikiPageContent"]=t(function(e,t,i,n,o){function a(e,t){var n,o="";return o+='\n  <div class="locked-alert alert alert-warning">\n    ',n=i["if"].call(e,(n=e&&e.lock_info,n=null==n||n===!1?n:n.context_module,null==n||n===!1?n:n.prerequisites),{hash:{},inverse:z.program(14,g,t),fn:z.programWithDepth(2,r,t,e),data:t}),(n||0===n)&&(o+=n),o+="\n  </div>\n"}function r(e,t,n){var o,a="";return a+="\n      ",o=i["if"].call(e,(o=e&&e.lock_info,null==o||o===!1?o:o.unlock_at),{hash:{},inverse:z.program(5,l,t),fn:z.program(3,s,t),data:t}),(o||0===o)&&(a+=o),a+="\n      <ul>\n        ",o=i.each.call(e,(o=e&&e.lock_info,o=null==o||o===!1?o:o.context_module,null==o||o===!1?o:o.prerequisites),{hash:{},inverse:z.noop,fn:z.programWithDepth(7,d,t,e,n),data:t}),(o||0===o)&&(a+=o),a+="\n      </ul>\n    "}function s(e,t){var n,o,a,r="";return r+="\n        ",o=i.t||e&&e.t,a={hash:{scope:"wiki.wiki_page_content"},data:t},n=o?o.call(e,"page_locked_by_modules_until","This page will be available on %{lock_info.unlock_at} if you have completed these modules:",a):w.call(e,"t","page_locked_by_modules_until","This page will be available on %{lock_info.unlock_at} if you have completed these modules:",a),(n||0===n)&&(r+=n),r+="\n      "}function l(e,t){var n,o,a,r="";return r+="\n        ",o=i.t||e&&e.t,a={hash:{scope:"wiki.wiki_page_content"},data:t},n=o?o.call(e,"page_locked_by_modules","This page will be available once you have completed these modules:",a):w.call(e,"t","page_locked_by_modules","This page will be available once you have completed these modules:",a),(n||0===n)&&(r+=n),r+="\n      "}function d(e,t,n,o){var a,r,s;return r=i.ifEqual||e&&e.ifEqual,s={hash:{},inverse:z.noop,fn:z.programWithDepth(8,_,t,n,o),data:t},a=r?r.call(e,e&&e.type,"context_module",s):w.call(e,"ifEqual",e&&e.type,"context_module",s),a||0===a?a:""}function _(e,t,n,o){var a,r="";return r+="\n          ",a=i["if"].call(e,e&&e.name,{hash:{},inverse:z.noop,fn:z.programWithDepth(9,u,t,n,o),data:t}),(a||0===a)&&(r+=a),r+="\n        "}function u(e,t,n,o){var a,r,s,l="";return l+="\n            <li>\n              ",r=i.ifAll||o&&o.ifAll,s={hash:{},inverse:z.program(12,c,t),fn:z.programWithDepth(10,p,t,n),data:t},a=r?r.call(e,o&&o.modules_path,e&&e.id,s):w.call(e,"ifAll",o&&o.modules_path,e&&e.id,s),(a||0===a)&&(l+=a),l+="\n            </li>\n          "}function p(e,t,i){var n,o="";return o+='\n                <a href="'+S((n=i&&i.modules_path,typeof n===b?n.apply(e):n))+"/"+S((n=e&&e.id,typeof n===b?n.apply(e):n))+'">'+S((n=e&&e.name,typeof n===b?n.apply(e):n))+"</a>\n              "}function c(e){var t,i="";return i+="\n                "+S((t=e&&e.name,typeof t===b?t.apply(e):t))+"\n              "}function g(e,t){var n,o="";return o+="\n      ",n=i["if"].call(e,(n=e&&e.lock_info,null==n||n===!1?n:n.unlock_at),{hash:{},inverse:z.program(17,v,t),fn:z.program(15,h,t),data:t}),(n||0===n)&&(o+=n),o+="\n    "}function h(e,t){var n,o,a,r="";return r+="\n        ",o=i.t||e&&e.t,a={hash:{scope:"wiki.wiki_page_content"},data:t},n=o?o.call(e,"page_locked_until","This page will be available on %{lock_info.unlock_at}",a):w.call(e,"t","page_locked_until","This page will be available on %{lock_info.unlock_at}",a),(n||0===n)&&(r+=n),r+="\n      "}function v(e,t){var n,o,a,r="";return r+="\n        ",o=i.t||e&&e.t,a={hash:{scope:"wiki.wiki_page_content"},data:t},n=o?o.call(e,"page_locked","This page is locked",a):w.call(e,"t","page_locked","This page is locked",a),(n||0===n)&&(r+=n),r+="\n      "}function m(e,t){var n,o,a="";return a+="\n  "+S((n=i.convertApiUserContent||e&&e.convertApiUserContent,o={hash:{},data:t},n?n.call(e,e&&e.body,o):w.call(e,"convertApiUserContent",e&&e.body,o)))+"\n"}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var f,k,y="",w=i.helperMissing,b="function",S=this.escapeExpression,z=this;return y+='<header>\n  <h2 class="page-title">',(k=i.title)?f=k.call(t,{hash:{},data:o}):(k=t&&t.title,f=typeof k===b?k.call(t,{hash:{},data:o}):k),y+=S(f)+"</h2>\n</header>\n\n",f=i["if"].call(t,t&&t.locked_for_user,{hash:{},inverse:z.program(19,m,o),fn:z.program(1,a,o),data:o}),(f||0===f)&&(y+=f),y+="\n"}),i["wiki/WikiPageContent"]}),function(){var e={}.hasOwnProperty,t=function(t,i){function n(){this.constructor=t}for(var o in i)e.call(i,o)&&(t[o]=i[o]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t};define("compiled/views/wiki/WikiPageContentView",["jquery","Backbone","jst/wiki/WikiPageContent"],function(e,i,n){var o,a;return o=function(i){function o(){return a=o.__super__.constructor.apply(this,arguments)}return t(o,i),o.prototype.tagName="article",o.prototype.className="show-content user_content",o.prototype.template=n,o.optionProperty("modules_path"),o.optionProperty("wiki_pages_path"),o.optionProperty("wiki_page_edit_path"),o.optionProperty("wiki_page_history_path"),o.optionProperty("WIKI_RIGHTS"),o.optionProperty("PAGE_RIGHTS"),o.optionProperty("course_id"),o.optionProperty("course_home"),o.optionProperty("course_title"),o.prototype.initialize=function(){return o.__super__.initialize.apply(this,arguments),this.WIKI_RIGHTS||(this.WIKI_RIGHTS={}),this.PAGE_RIGHTS||(this.PAGE_RIGHTS={}),this.setModel(this.model)},o.prototype.afterRender=function(){return o.__super__.afterRender.apply(this,arguments),e.publish("userContent/change"),this.trigger("render")},o.prototype.setModel=function(e){var t,i,n,o=this;return null!=(t=this.model)&&t.off(null,null,this),this.model=e,null!=(i=this.model)&&i.on("change:title",function(){return o.render()},this),null!=(n=this.model)&&n.on("change:body",function(){return o.render()},this),this.render()},o.prototype.toJSON=function(){var t,i;return t=o.__super__.toJSON.apply(this,arguments),t.modules_path=this.modules_path,t.wiki_pages_path=this.wiki_pages_path,t.wiki_page_edit_path=this.wiki_page_edit_path,t.wiki_page_history_path=this.wiki_page_history_path,t.course_home=this.course_home,t.course_title=this.course_title,t.CAN={VIEW_PAGES:!!this.WIKI_RIGHTS.read,PUBLISH:!!this.WIKI_RIGHTS.manage&&"courses"===t.contextName,UPDATE_CONTENT:!!this.PAGE_RIGHTS.update||!!this.PAGE_RIGHTS.update_content,DELETE:!!this.PAGE_RIGHTS["delete"]&&!this.course_home,READ_REVISIONS:!!this.PAGE_RIGHTS.read_revisions},t.CAN.ACCESS_GEAR_MENU=t.CAN.DELETE||t.CAN.READ_REVISIONS,t.CAN.VIEW_TOOLBAR=t.CAN.VIEW_PAGES||t.CAN.PUBLISH||t.CAN.UPDATE_CONTENT||t.CAN.ACCESS_GEAR_MENU,t.lock_info&&(t.lock_info=_.clone(t.lock_info)),(null!=(i=t.lock_info)?i.unlock_at:void 0)&&(t.lock_info.unlock_at=Date.parse(t.lock_info.unlock_at)<Date.now()?null:e.datetimeString(t.lock_info.unlock_at)),t},o}(i.View)})}.call(this),define("jst/collectionView",["compiled/handlebars_helpers"],function(e){var t=e.template,i=e.templates=e.templates||{};return i.collectionView=t(function(e,t,i,n,o){function a(e,t){var n,o,a="";return a+='\n<ul class="collectionViewItems ',(o=i.listClassName)?n=o.call(e,{hash:{},data:t}):(o=e&&e.listClassName,n=typeof o===d?o.call(e,{hash:{},data:t}):o),a+=_(n)+'"></ul>\n'}function r(e,t){var n,o,a="";return a+='\n<p class="emptyMessage">',(o=i.emptyMessage)?n=o.call(e,{hash:{},data:t}):(o=e&&e.emptyMessage,n=typeof o===d?o.call(e,{hash:{},data:t}):o),a+=_(n)+"</p>\n"}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var s,l="",d="function",_=this.escapeExpression,u=this;return s=i["if"].call(t,(s=t&&t.collection,null==s||s===!1?s:s.length),{hash:{},inverse:u.program(3,r,o),fn:u.program(1,a,o),data:o}),(s||0===s)&&(l+=s),l+="\n"}),i.collectionView}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var o in i)t.call(i,o)&&(e[o]=i[o]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};define("compiled/views/CollectionView",["i18n!instructure","jquery","underscore","Backbone","jst/collectionView"],function(t,n,o,a,r){var s,l;return s=function(a){function s(){return this.renderItem=e(this.renderItem,this),this.renderOnAdd=e(this.renderOnAdd,this),this.removeItem=e(this.removeItem,this),this.renderOnReset=e(this.renderOnReset,this),this.removePreviousItems=e(this.removePreviousItems,this),this.reorder=e(this.reorder,this),this.render=e(this.render,this),l=s.__super__.constructor.apply(this,arguments)}return i(s,a),s.optionProperty("itemView"),s.optionProperty("itemViewOptions"),s.optionProperty("emptyMessage"),s.optionProperty("listClassName"),s.prototype.className="collectionView",s.prototype.els={".collectionViewItems":"$list"},s.prototype.defaults={itemViewOptions:{},emptyMessage:t.t("no_items","No items.")},s.prototype.template=r,s.prototype.initialize=function(){return s.__super__.initialize.apply(this,arguments),this.attachCollection()},s.prototype.render=function(){return s.__super__.render.apply(this,arguments),this.empty||this.renderItems(),this},s.prototype.toJSON=function(){return o.extend(this.options,{emptyMessage:this.emptyMessage,listClassName:this.listClassName,ENV:ENV})},s.prototype.reorder=function(){var e,t,i;return this.collection.sort(),this.$list.children().detach(),e=function(){var e,i,n,o;for(n=this.collection.models,o=[],e=0,i=n.length;i>e;e++)t=n[e],o.push(t.itemView.$el);return o}.call(this),(i=this.$list).append.apply(i,e)},s.prototype.attachCollection=function(){return this.listenTo(this.collection,"reset",this.renderOnReset),this.listenTo(this.collection,"add",this.renderOnAdd),this.listenTo(this.collection,"remove",this.removeItem),this.empty=!this.collection.length},s.prototype.detachCollection=function(){return this.stopListening(this.collection)},s.prototype.switchCollection=function(e){return this.detachCollection(),this.collection=e,this.attachCollection()},s.prototype.removePreviousItems=function(e){var t,i,n,o,a;for(a=[],i=0,n=e.length;n>i;i++)t=e[i],a.push(null!=(o=t.view)?o.remove():void 0);return a},s.prototype.renderOnReset=function(e,t){return this.empty=!this.collection.length,this.removePreviousItems(t.previousModels),this.render()},s.prototype.renderItems=function(){return this.collection.each(this.renderItem)},s.prototype.removeItem=function(e){return this.empty=!this.collection.length,this.empty?this.render():e.view.remove()},s.prototype.renderOnAdd=function(e){return this.empty&&this.render(),this.empty=!1,this.renderItem(e)},s.prototype.renderItem=function(e){var t;return t=this.createItemView(e),t.render(),"function"==typeof this.attachItemView&&this.attachItemView(e,t),this.insertView(t)},s.prototype.createItemView=function(e){var t;return t=new this.itemView(n.extend({},this.itemViewOptions||{},{model:e})),e.itemView=t,t},s.prototype.insertView=function(e){var t;return t=this.collection.indexOf(e.model),0===t?this.prependView(e):t===this.collection.length-1?this.appendView(e):this.insertViewAtIndex(e,t)},s.prototype.insertViewAtIndex=function(e,t){var i;return i=this.$list.children().eq(t),i.length?i.before(e.el):this.$list.append(e.el)},s.prototype.prependView=function(e){return this.$list.prepend(e.el)},s.prototype.appendView=function(e){return this.$list.append(e.el)},s}(a.View)})}.call(this),define("translations/wiki.wiki_page_revision",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{wiki:{wiki_page_revision:{latest_revision:"أحدث مراجعة",restore_revision:"استعادة هذه المراجعة",revision_summary:"*%{updated_at}* بواسطة %{edited_by}",same_as_latest:"نفس *الأحدث*"}}},de:{wiki:{wiki_page_revision:{latest_revision:"Letzte Revision",restore_revision:"Diese Revision wiederherstellen",revision_summary:"*%{updated_at}* von %{edited_by}",same_as_latest:"Entspricht *Letzter*"}}},"en-AU":{wiki:{wiki_page_revision:{latest_revision:"Latest Revision",restore_revision:"Restore this revision",revision_summary:"*%{updated_at}* by %{edited_by}",same_as_latest:"Same as *Latest*"}}},"en-GB":{wiki:{wiki_page_revision:{latest_revision:"Latest Revision",restore_revision:"Restore this revision",revision_summary:"*%{updated_at}* by %{edited_by}",same_as_latest:"Same as *Latest*"}}},es:{wiki:{wiki_page_revision:{latest_revision:"Última revisión",restore_revision:"Restaurar esta revisión",revision_summary:"*%{updated_at}* por %{edited_by}",same_as_latest:"El mismo que el *Último*"}}},"fa-IR":{wiki:{wiki_page_revision:{latest_revision:"آخرین بازنگری",restore_revision:"بازیابی این بازنگری",revision_summary:"*%{updated_at}* توسط %{edited_by}",same_as_latest:"یکسان با *آخرین*"}}},fr:{wiki:{wiki_page_revision:{latest_revision:"Dernière révision",restore_revision:"Restaurer cette révision",revision_summary:"*%{updated_at}* par %{edited_by}",same_as_latest:"Identique à *La dernière*"}}},ja:{wiki:{wiki_page_revision:{latest_revision:"最新のリビジョン",restore_revision:"このリビジョンを復元",revision_summary:"*%{updated_at}* (編集者: %{edited_by})",same_as_latest:"*最新* と同じ"}}},ko:{wiki:{wiki_page_revision:{latest_revision:"최종본",restore_revision:"이 수정본 복원",revision_summary:"%{edited_by}이(가) *%{updated_at}*에 업데이트함",same_as_latest:"*최종본*과 같음"}}},nb:{wiki:{wiki_page_revision:{latest_revision:"Siste revisjon",restore_revision:"Gjenopprett denne revisjonen",revision_summary:"*%{updated_at}* av %{edited_by}",same_as_latest:"Samme som *siste*"}}},nl:{wiki:{wiki_page_revision:{latest_revision:"Laatste revisie",restore_revision:"Deze revisie herstellen",revision_summary:"*%{updated_at}* door %{edited_by}",same_as_latest:"Hetzelfde als *laatste*"}}},pl:{wiki:{wiki_page_revision:{latest_revision:"Ostatnia powtórka",restore_revision:"Przywróć tę powtórkę",revision_summary:"Aktualizacja*%{updated_at}* dokonana przez użytkownika %{edited_by}",same_as_latest:"Tak samo jak *Ostatnie*"}}},pt:{wiki:{wiki_page_revision:{latest_revision:"Revisão mais recente",restore_revision:"Restaurar esta revisão",revision_summary:"*%{updated_at}* por %{edited_by}",same_as_latest:"Igual a *Mais recente*"}}},"pt-BR":{wiki:{wiki_page_revision:{latest_revision:"Revisão mais recente",restore_revision:"Restaurar esta revisão",revision_summary:"*%{updated_at}* por %{edited_by}",same_as_latest:"Mesmo que *Mais recente*"}}},ru:{wiki:{wiki_page_revision:{latest_revision:"Последняя редакция",restore_revision:"Восстановить данную редакцию",revision_summary:"*%{updated_at}* %{edited_by}",same_as_latest:"Такая же, как и *Последняя*"}}},tr:{wiki:{wiki_page_revision:{latest_revision:"Son Güncelleme",restore_revision:"Son güncellemeyi geri yükle",revision_summary:"%{edited_by} tarafından *%{updated_at}*",same_as_latest:"*En son * ile aynı"}}},zh:{wiki:{wiki_page_revision:{latest_revision:"最新修订版",restore_revision:"恢复此修订版",revision_summary:"*%{updated_at}* 由 %{edited_by} 编辑",same_as_latest:"与 *最新版* 相同"}}}}})}),define("jst/wiki/WikiPageRevision",["compiled/handlebars_helpers","i18n!wiki.wiki_page_revision"],function(e){var t=e.template,i=e.templates=e.templates||{};return i["wiki/WikiPageRevision"]=t(function(e,t,i,n,o){function a(e,t){var n,o,a,r="";return r+="\n      ",o=i.t||e&&e.t,a={hash:{scope:"wiki.wiki_page_revision",w0:"<strong>$1</strong>"},data:t},n=o?o.call(e,"revision_summary","*%{updated_at}* by %{edited_by}",a):g.call(e,"t","revision_summary","*%{updated_at}* by %{edited_by}",a),(n||0===n)&&(r+=n),r+="\n    "}function r(e,t){var n,o,a="";return a+="\n      <strong>",(o=i.updated_at)?n=o.call(e,{hash:{},data:t}):(o=e&&e.updated_at,n=typeof o===h?o.call(e,{hash:{},data:t}):o),a+=v(n)+"</strong>\n    "}function s(e,t){var n,o,a,r="";return r+='\n    <div class="revision-actions">',o=i.t||e&&e.t,a={hash:{scope:"wiki.wiki_page_revision"},data:t},n=o?o.call(e,"latest_revision","Latest Revision",a):g.call(e,"t","latest_revision","Latest Revision",a),(n||0===n)&&(r+=n),r+="</div>\n  "}function l(e,t){var n,o,a,r="";return r+="\n    ",o=i.ifAll||e&&e.ifAll,a={hash:{},inverse:m.noop,fn:m.program(8,d,t),data:t},n=o?o.call(e,(n=e&&e.IS,null==n||n===!1?n:n.SELECTED),(n=e&&e.IS,null==n||n===!1?n:n.LOADED),a):g.call(e,"ifAll",(n=e&&e.IS,null==n||n===!1?n:n.SELECTED),(n=e&&e.IS,null==n||n===!1?n:n.LOADED),a),(n||0===n)&&(r+=n),r+="\n  "}function d(e,t){var n,o="";return o+='\n      <div class="revision-actions">\n        ',n=i["if"].call(e,(n=e&&e.IS,null==n||n===!1?n:n.SAME_AS_LATEST),{hash:{},inverse:m.program(11,u,t),fn:m.program(9,_,t),data:t}),(n||0===n)&&(o+=n),o+="\n      </div>\n    "}function _(e,t){var n,o,a,r="";return r+="\n          ",o=i.t||e&&e.t,a={hash:{scope:"wiki.wiki_page_revision",w0:"<strong>$1</strong>"},data:t},n=o?o.call(e,"same_as_latest","Same as *Latest*",a):g.call(e,"t","same_as_latest","Same as *Latest*",a),(n||0===n)&&(r+=n),r+="\n        "}function u(e,t){var n,o,a,r="";return r+='\n          <a class="restore-link">',o=i.t||e&&e.t,a={hash:{scope:"wiki.wiki_page_revision"},data:t},n=o?o.call(e,"restore_revision","Restore this revision",a):g.call(e,"t","restore_revision","Restore this revision",a),(n||0===n)&&(r+=n),r+="</a>\n        "}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var p,c="",g=i.helperMissing,h="function",v=this.escapeExpression,m=this;return c+='<div class="revision-content">\n  <div class="revision-details">\n    ',p=i["if"].call(t,t&&t.edited_by,{hash:{},inverse:m.program(3,r,o),fn:m.program(1,a,o),data:o}),(p||0===p)&&(c+=p),c+="\n  </div>\n\n  ",p=i["if"].call(t,(p=t&&t.IS,null==p||p===!1?p:p.LATEST),{hash:{},inverse:m.program(7,l,o),fn:m.program(5,s,o),data:o}),(p||0===p)&&(c+=p),c+="\n</div>\n"}),i["wiki/WikiPageRevision"]}),function(){var e={}.hasOwnProperty,t=function(t,i){function n(){this.constructor=t}for(var o in i)e.call(i,o)&&(t[o]=i[o]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t};define("compiled/views/wiki/WikiPageRevisionView",["jquery","underscore","Backbone","jst/wiki/WikiPageRevision"],function(e,i,n,o){var a,r;return a=function(n){function a(){return r=a.__super__.constructor.apply(this,arguments)}return t(a,n),a.prototype.tagName="li",a.prototype.className="revision clearfix",a.prototype.template=o,a.prototype.events={"click .restore-link":"restore"},a.prototype.initialize=function(){var e=this;return a.__super__.initialize.apply(this,arguments),this.model.on("change",function(){return e.render()})},a.prototype.afterRender=function(){return a.__super__.afterRender.apply(this,arguments),this.$el.toggleClass("selected",!!this.model.get("selected")),this.$el.toggleClass("latest",!!this.model.get("latest"))},a.prototype.toJSON=function(){var t,n,o,r;return n=null!=(o=this.model.collection)?o.latest:void 0,t=i.extend({},a.__super__.toJSON.apply(this,arguments),{IS:{LATEST:!!this.model.get("latest"),SELECTED:!!this.model.get("selected"),LOADED:!!this.model.get("title")&&!!this.model.get("body")}}),t.IS.SAME_AS_LATEST=t.IS.LOADED&&this.model.get("title")===(null!=n?n.get("title"):void 0)&&this.model.get("body")===(null!=n?n.get("body"):void 0),t.updated_at=e.datetimeString(t.updated_at),t.edited_by=null!=(r=t.edited_by)?r.display_name:void 0,t},a.prototype.restore=function(e){var t=this;return null!=e&&e.preventDefault(),this.model.restore().done(function(e){return t.pages_path?window.location.href=""+t.pages_path+"/"+e.url+"/revisions":window.location.reload()})},a}(n.View)})}.call(this),define("translations/wiki.wiki_page_revisions",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{wiki:{wiki_page_revisions:{revision_history:"سجل المراجعات"}}},de:{wiki:{wiki_page_revisions:{revision_history:"Revisionsverlauf"}}},"en-AU":{wiki:{wiki_page_revisions:{revision_history:"Revision History"}}},"en-GB":{wiki:{wiki_page_revisions:{revision_history:"Revision History"}}},es:{wiki:{wiki_page_revisions:{revision_history:"Historial de revisiones"}}},"fa-IR":{wiki:{wiki_page_revisions:{revision_history:"تاریخچه بازنگری"}}},fr:{wiki:{wiki_page_revisions:{revision_history:"Historique des révisions"}}},ja:{wiki:{wiki_page_revisions:{revision_history:"リビジョン履歴"}}},ko:{wiki:{wiki_page_revisions:{revision_history:"수정 이력"}}},nb:{wiki:{wiki_page_revisions:{revision_history:"Revisjonshistorikk"}}},nl:{wiki:{wiki_page_revisions:{revision_history:"Revisie van voorgeschiedenis"}}},pl:{wiki:{wiki_page_revisions:{revision_history:"Historia powtórek"}}},pt:{wiki:{wiki_page_revisions:{revision_history:"Histórico de revisão"}}},"pt-BR":{wiki:{wiki_page_revisions:{revision_history:"Histórico de revisão"}}},ru:{wiki:{wiki_page_revisions:{revision_history:"История редакций"}}},tr:{wiki:{wiki_page_revisions:{revision_history:"Güncelleme Geçmişi"}}},zh:{wiki:{wiki_page_revisions:{revision_history:"修订历史记录"}}}}})}),define("jst/wiki/WikiPageRevisions",["compiled/handlebars_helpers","i18n!wiki.wiki_page_revisions"],function(e){var t=e.template,i=e.templates=e.templates||{};return i["wiki/WikiPageRevisions"]=t(function(e,t,i,n,o){function a(e,t){var n,o="";return o+='\n    <div class="revision-nav-buttons">\n      ',n=i["if"].call(e,(n=e&&e.CAN,null==n||n===!1?n:n.FETCH_PREV),{hash:{},inverse:p.noop,fn:p.program(2,r,t),data:t}),(n||0===n)&&(o+=n),o+="\n      ",n=i["if"].call(e,(n=e&&e.CAN,null==n||n===!1?n:n.FETCH_NEXT),{hash:{},inverse:p.noop,fn:p.program(4,s,t),data:t}),(n||0===n)&&(o+=n),o+="\n    </div>\n  "}function r(){return'\n        <a class="prev-button"><i class="icon-mini-arrow-left"></i> Previous</a>\n      '}function s(){return'\n        <a class="next-button">Next <i class="icon-mini-arrow-right"></i></a>\n      '}this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),o=o||{};var l,d,_,u="",p=this,c=i.helperMissing;return u+='<aside>\n  <div class="revision-history">\n    ',d=i.t||t&&t.t,_={hash:{scope:"wiki.wiki_page_revisions"},data:o},l=d?d.call(t,"revision_history","Revision History",_):c.call(t,"t","revision_history","Revision History",_),(l||0===l)&&(u+=l),u+='\n    <a href="#" class="close-button"><i class="icon-x"></i></a>\n  </div>\n  <ul class="collectionViewItems revisions-list">\n  </ul>\n  ',d=i.ifAny||t&&t.ifAny,_={hash:{},inverse:p.noop,fn:p.program(1,a,o),data:o},l=d?d.call(t,(l=t&&t.CAN,null==l||l===!1?l:l.FETCH_PREV),(l=t&&t.CAN,null==l||l===!1?l:l.FETCH_NEXT),_):c.call(t,"ifAny",(l=t&&t.CAN,null==l||l===!1?l:l.FETCH_PREV),(l=t&&t.CAN,null==l||l===!1?l:l.FETCH_NEXT),_),(l||0===l)&&(u+=l),u+="\n</aside>\n"}),i["wiki/WikiPageRevisions"]}),function(){define("compiled/jquery/floatingSticky",["underscore","jquery"],function(e,t){var i,n;return n=0,i=function(){function e(e,i,o){var a=this;null==o&&(o={}),this.instanceID="floatingSticky"+n++,this.$window=t(window),this.$el=t(e),this.$top=t(o.top||i),this.$bottom=t(o.bottom||i),this.$el.data("floatingSticky",this),this.$window.on("scroll."+this.instanceID+" resize."+this.instanceID,function(){return a.reposition()}),this.reposition()}return e.prototype.remove=function(){return this.$window.off(this.instanceID),this.$el.data("floatingSticky",null)},e.prototype.reposition=function(){var e,t,i,n,o,a;return a=this.$window.scrollTop(),o=this.$window.height(),a=0>a?0:Math.min(a,document.body.scrollHeight-o),t=this.$top.offset().top,t>a?n=0===a?t:t-a:(n=0,i=this.$el.height(),e=this.$bottom.offset().top+this.$bottom.height(),a+i>e&&(n=e-i-a),t-a>n&&(n=t-a)),this.$el.css({top:n})},e}(),t.fn.floatingSticky=function(e,n){return null==n&&(n={}),this.map(function(){var o;return o=t(this).data("floatingSticky"),o||(o=new i(this,e,n)),o})},i})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,i){function n(){this.constructor=t}for(var o in i)e.call(i,o)&&(t[o]=i[o]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t};define("compiled/views/wiki/WikiPageRevisionsView",["jquery","underscore","Backbone","compiled/views/CollectionView","compiled/views/wiki/WikiPageRevisionView","jst/wiki/WikiPageRevisions","compiled/jquery/floatingSticky"],function(e,i,n,o,a,r){var s,l;return s=function(n){function o(){return l=o.__super__.constructor.apply(this,arguments)}return t(o,n),o.prototype.className="show-revisions",o.prototype.template=r,o.prototype.itemView=a,o.mixin({events:{"click .prev-button":"prevPage","click .next-button":"nextPage","click .close-button":"close"},els:{"#ticker":"$ticker",aside:"$aside",".revisions-list":"$revisionsList"}}),o.optionProperty("pages_path"),o.prototype.initialize=function(){var e=this;return o.__super__.initialize.apply(this,arguments),this.selectedRevision=null,this.on("selectionChanged",function(e,t){var i,n;return null!=(i=t.model)&&i.set("selected",!1),null!=(n=e.model)?n.set("selected",!0):void 0}),this.on("render renderItem",function(){return e.reposition()})},o.prototype.afterRender=function(){return o.__super__.afterRender.apply(this,arguments),e.publish("userContent/change"),this.trigger("render"),this.floatingSticky=this.$aside.floatingSticky("#main",{top:"#content"})},o.prototype.remove=function(){return this.floatingSticky&&(i.each(this.floatingSticky,function(e){return e.remove()}),this.floatingSticky=null),o.__super__.remove.apply(this,arguments)},o.prototype.renderItem=function(){return o.__super__.renderItem.apply(this,arguments),this.trigger("renderItem")},o.prototype.attachItemView=function(e,t){var i,n=this;return this.selectedRevision&&this.selectedRevision.get("revision_id")===e.get("revision_id")?(e.set(this.selectedRevision.attributes),e.set("selected",!0),this.setSelectedModelAndView(e,t)):e.set("selected",!1),i=function(){return n.setSelectedModelAndView(e,t)},this.selectedModel||i(),t.pages_path=this.pages_path,t.$el.on("click",i)},o.prototype.setSelectedModelAndView=function(e,t){var i,n;return i=this.selectedModel,n=this.selectedView,this.selectedModel=e,this.selectedView=t,this.selectedRevision=e,this.trigger("selectionChanged",{model:e,view:t},{model:i,view:n})},o.prototype.reposition=function(){return this.floatingSticky?i.each(this.floatingSticky,function(e){return e.reposition()}):void 0},o.prototype.prevPage=function(e){return null!=e&&e.preventDefault(),this.$el.disableWhileLoading(this.collection.fetch({page:"prev",reset:!0}))},o.prototype.nextPage=function(e){return null!=e&&e.preventDefault(),this.$el.disableWhileLoading(this.collection.fetch({page:"next",reset:!0}))},o.prototype.close=function(e){return null!=e&&e.preventDefault(),window.location.href=this.collection.parentModel.get("html_url")},o.prototype.toJSON=function(){var e;return e=o.__super__.toJSON.apply(this,arguments),e.CAN={FETCH_PREV:this.collection.canFetch("prev"),FETCH_NEXT:this.collection.canFetch("next")},e},o}(o)})}.call(this),function(){require(["jquery","compiled/models/WikiPage","compiled/collections/WikiPageRevisionsCollection","compiled/views/wiki/WikiPageContentView","compiled/views/wiki/WikiPageRevisionsView"],function(e,t,i,n,o){var a,r,s,l;return e("body").addClass("show revisions"),l=new t(ENV.WIKI_PAGE,{revision:ENV.WIKI_PAGE_REVISION,contextAssetString:ENV.context_asset_string}),r=new i([],{parentModel:l}),s=new o({collection:r,pages_path:ENV.WIKI_PAGES_PATH}),s.on("selectionChanged",function(e){return a.setModel(e.model),e.model.get("title")&&""!==e.model.get("title")?void 0:a.$el.disableWhileLoading(e.model.fetch())}),s.$el.appendTo("#wiki_page_revisions"),s.render(),a=new n,a.$el.appendTo("#wiki_page_revisions"),a.on("render",function(){return s.reposition()}),a.render(),s.collection.setParams({per_page:10}),s.collection.fetch()})}.call(this),define("compiled/bundles/wiki_page_revisions",function(){});
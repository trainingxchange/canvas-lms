define("vendor/slickgrid/lib/jquery.event.drag-2.2",["jquery"],function(){!function(e){e.fn.drag=function(t,o,n){var l="string"==typeof t?t:"",i=e.isFunction(t)?t:e.isFunction(o)?o:null;return 0!==l.indexOf("drag")&&(l="drag"+l),n=(t==i?o:n)||{},i?this.bind(l,n,i):this.trigger(l)};var t=e.event,o=t.special,n=o.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(t){var o=e.data(this,n.datakey),l=t.data||{};o.related+=1,e.each(n.defaults,function(e){void 0!==l[e]&&(o[e]=l[e])})},remove:function(){e.data(this,n.datakey).related-=1},setup:function(){if(!e.data(this,n.datakey)){var o=e.extend({related:0},n.defaults);e.data(this,n.datakey,o),t.add(this,"touchstart mousedown",n.init,o),this.attachEvent&&this.attachEvent("ondragstart",n.dontstart)}},teardown:function(){var o=e.data(this,n.datakey)||{};o.related||(e.removeData(this,n.datakey),t.remove(this,"touchstart mousedown",n.init),n.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",n.dontstart))},init:function(l){if(!n.touched){var i,r=l.data;if(!(0!=l.which&&r.which>0&&l.which!=r.which||e(l.target).is(r.not)||r.handle&&!e(l.target).closest(r.handle,l.currentTarget).length||(n.touched="touchstart"==l.type?this:null,r.propagates=1,r.mousedown=this,r.interactions=[n.interaction(this,r)],r.target=l.target,r.pageX=l.pageX,r.pageY=l.pageY,r.dragging=null,i=n.hijack(l,"draginit",r),!r.propagates)))return i=n.flatten(i),i&&i.length&&(r.interactions=[],e.each(i,function(){r.interactions.push(n.interaction(this,r))})),r.propagates=r.interactions.length,r.drop!==!1&&o.drop&&o.drop.handler(l,r),n.textselect(!1),n.touched?t.add(n.touched,"touchmove touchend",n.handler,r):t.add(document,"mousemove mouseup",n.handler,r),!n.touched||r.live?!1:void 0}},interaction:function(t,o){var l=e(t)[o.relative?"position":"offset"]()||{top:0,left:0};return{drag:t,callback:new n.callback,droppable:[],offset:l}},handler:function(l){var i=l.data;switch(l.type){case!i.dragging&&"touchmove":l.preventDefault();case!i.dragging&&"mousemove":if(Math.pow(l.pageX-i.pageX,2)+Math.pow(l.pageY-i.pageY,2)<Math.pow(i.distance,2))break;l.target=i.target,n.hijack(l,"dragstart",i),i.propagates&&(i.dragging=!0);case"touchmove":l.preventDefault();case"mousemove":if(i.dragging){if(n.hijack(l,"drag",i),i.propagates){i.drop!==!1&&o.drop&&o.drop.handler(l,i);break}l.type="mouseup"}case"touchend":case"mouseup":default:n.touched?t.remove(n.touched,"touchmove touchend",n.handler):t.remove(document,"mousemove mouseup",n.handler),i.dragging&&(i.drop!==!1&&o.drop&&o.drop.handler(l,i),n.hijack(l,"dragend",i)),n.textselect(!0),i.click===!1&&i.dragging&&e.data(i.mousedown,"suppress.click",(new Date).getTime()+5),i.dragging=n.touched=!1}},hijack:function(o,l,i,r,a){if(i){var s,c,d,u={event:o.originalEvent,type:o.type},h=l.indexOf("drop")?"drag":"drop",f=r||0,p=isNaN(r)?i.interactions.length:r;o.type=l,o.originalEvent=null,i.results=[];do if(c=i.interactions[f]){if("dragend"!==l&&c.cancelled)continue;d=n.properties(o,i,c),c.results=[],e(a||c[h]||i.droppable).each(function(r,a){return d.target=a,o.isPropagationStopped=function(){return!1},s=a?t.dispatch.call(a,o,d):null,s===!1?("drag"==h&&(c.cancelled=!0,i.propagates-=1),"drop"==l&&(c[h][r]=null)):"dropinit"==l&&c.droppable.push(n.element(s)||a),"dragstart"==l&&(c.proxy=e(n.element(s)||c.drag)[0]),c.results.push(s),delete o.result,"dropinit"!==l?s:void 0}),i.results[f]=n.flatten(c.results),"dropinit"==l&&(c.droppable=n.flatten(c.droppable)),"dragstart"!=l||c.cancelled||d.update()}while(++f<p);return o.type=u.type,o.originalEvent=u.event,n.flatten(i.results)}},properties:function(e,t,o){var l=o.callback;return l.drag=o.drag,l.proxy=o.proxy||o.drag,l.startX=t.pageX,l.startY=t.pageY,l.deltaX=e.pageX-t.pageX,l.deltaY=e.pageY-t.pageY,l.originalX=o.offset.left,l.originalY=o.offset.top,l.offsetX=l.originalX+l.deltaX,l.offsetY=l.originalY+l.deltaY,l.drop=n.flatten((o.drop||[]).slice()),l.available=n.flatten((o.droppable||[]).slice()),l},element:function(e){return e&&(e.jquery||1==e.nodeType)?e:void 0},flatten:function(t){return e.map(t,function(t){return t&&t.jquery?e.makeArray(t):t&&t.length?n.flatten(t):t})},textselect:function(t){e(document)[t?"unbind":"bind"]("selectstart",n.dontstart).css("MozUserSelect",t?"":"none"),document.unselectable=t?"off":"on"},dontstart:function(){return!1},callback:function(){}};n.callback.prototype={update:function(){o.drop&&this.available.length&&e.each(this.available,function(e){o.drop.locate(this,e)})}};var l=t.dispatch;t.dispatch=function(t){return e.data(this,"suppress."+t.type)-(new Date).getTime()>0?void e.removeData(this,"suppress."+t.type):l.apply(this,arguments)};var i=t.fixHooks.touchstart=t.fixHooks.touchmove=t.fixHooks.touchend=t.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(t,o){if(o){var n=o.touches&&o.touches[0]||o.changedTouches&&o.changedTouches[0]||null;n&&e.each(i.props,function(e,o){t[o]=n[o]})}return t}};o.draginit=o.dragstart=o.dragend=n}(jQuery)}),define("vendor/slickgrid/slick.core",["jquery","vendor/slickgrid/lib/jquery.event.drag-2.2"],function(){!function(e){function t(){var e=!1,t=!1;this.stopPropagation=function(){e=!0},this.isPropagationStopped=function(){return e},this.stopImmediatePropagation=function(){t=!0},this.isImmediatePropagationStopped=function(){return t}}function o(){var e=[];this.subscribe=function(t){e.push(t)},this.unsubscribe=function(t){for(var o=e.length-1;o>=0;o--)e[o]===t&&e.splice(o,1)},this.notify=function(o,n,l){n=n||new t,l=l||this;for(var i,r=0;r<e.length&&!n.isPropagationStopped()&&!n.isImmediatePropagationStopped();r++)i=e[r].call(l,n,o);return i}}function n(){var e=[];this.subscribe=function(t,o){return e.push({event:t,handler:o}),t.subscribe(o),this},this.unsubscribe=function(t,o){for(var n=e.length;n--;)if(e[n].event===t&&e[n].handler===o)return e.splice(n,1),void t.unsubscribe(o);return this},this.unsubscribeAll=function(){for(var t=e.length;t--;)e[t].event.unsubscribe(e[t].handler);return e=[],this}}function l(e,t,o,n){void 0===o&&void 0===n&&(o=e,n=t),this.fromRow=Math.min(e,o),this.fromCell=Math.min(t,n),this.toRow=Math.max(e,o),this.toCell=Math.max(t,n),this.isSingleRow=function(){return this.fromRow==this.toRow},this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell},this.contains=function(e,t){return e>=this.fromRow&&e<=this.toRow&&t>=this.fromCell&&t<=this.toCell},this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}}function i(){this.__nonDataRow=!0}function r(){this.__group=!0,this.level=0,this.count=0,this.value=null,this.title=null,this.collapsed=!1,this.totals=null,this.rows=[],this.groups=null,this.groupingKey=null}function a(){this.__groupTotals=!0,this.group=null}function s(){var e=null;this.isActive=function(t){return t?e===t:null!==e},this.activate=function(t){if(t!==e){if(null!==e)throw"SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController";if(!t.commitCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()";if(!t.cancelCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()";e=t}},this.deactivate=function(t){if(e!==t)throw"SlickGrid.EditorLock.deactivate: specified editController is not the currently active one";e=null},this.commitCurrentEdit=function(){return e?e.commitCurrentEdit():!0},this.cancelCurrentEdit=function(){return e?e.cancelCurrentEdit():!0}}e.extend(!0,window,{Slick:{Event:o,EventData:t,EventHandler:n,Range:l,NonDataRow:i,Group:r,GroupTotals:a,EditorLock:s,GlobalEditorLock:new s}}),r.prototype=new i,r.prototype.equals=function(e){return this.value===e.value&&this.count===e.count&&this.collapsed===e.collapsed&&this.title===e.title},a.prototype=new i}(jQuery)}),define("vendor/slickgrid/slick.grid",["jquery","vendor/slickgrid/slick.core"],function(jQuery){if("undefined"==typeof jQuery)throw"SlickGrid requires jquery module to be loaded";if(!jQuery.fn.drag)throw"SlickGrid requires jquery.event.drag module to be loaded";if("undefined"==typeof Slick)throw"slick.core.js not loaded";!function($){function SlickGrid(container,data,columns,options){function init(){if($outerContainer=$(container),$container_1=$outerContainer,$outerContainer.length<1)throw new Error("SlickGrid requires a valid container, "+container+" does not exist in the DOM.");maxSupportedCssHeight=maxSupportedCssHeight||getMaxSupportedCssHeight(),scrollbarDimensions=scrollbarDimensions||measureScrollbar(),options=$.extend({},defaults,options),validateAndEnforceOptions(),columnDefaults.width=options.defaultColumnWidth,columnsById={};for(var e=0;e<columns.length;e++){var t=columns[e]=$.extend({},columnDefaults,columns[e]);columnsById[t.id]=e,t.minWidth&&t.width<t.minWidth&&(t.width=t.minWidth),t.maxWidth&&t.width>t.maxWidth&&(t.width=t.maxWidth)}if(options.enableColumnReorder&&!$.fn.sortable)throw new Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");if(editController={commitCurrentEdit:commitCurrentEdit,cancelCurrentEdit:cancelCurrentEdit},$outerContainer.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),$container_1.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),/relative|absolute|fixed/.test($outerContainer.css("position"))||$outerContainer.css("position","relative"),/relative|absolute|fixed/.test($container_1.css("position"))||$container_1.css("position","relative"),$focusSink=$("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo($outerContainer),options.numberOfColumnsToFreeze>0){for(var o=0,n={overflow:"hidden",position:"absolute",left:0,top:0,bottom:0,outline:0},l=uid+" ui-widget",e=0,i=columns.length;i>e&&e<options.numberOfColumnsToFreeze;e++)o+=columns[e].width;$container_0=$("<div class='container_0'></div>").css($.extend({},n,{width:o})).addClass(l).appendTo($outerContainer),$container_1=$("<div class='container_1'></div>").css($.extend({},n,{left:o,right:0})).addClass(l).appendTo($outerContainer),$headerScroller_0=$("<div class='headerScroller_0 slick-header ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_0),$headers_0=$("<div class='headers_0 slick-header-columns' style='left:-1000px' />").appendTo($headerScroller_0),$headerRowScroller_0=$("<div class='headerRowScroller_0 slick-headerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_0),$headerRow_0=$("<div class='headerRow_0 slick-headerrow-columns' />").appendTo($headerRowScroller_0),$headerRowSpacer_0=$("<div class='headerRowSpacer_0' style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($headerRowScroller_0),$topPanelScroller_0=$("<div class='topPanelScroller_0 slick-top-panel-scroller ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_0),$topPanel_0=$("<div class='topPanel_0 slick-top-panel' style='width:10000px' />").appendTo($topPanelScroller_0),options.showTopPanel||$topPanelScroller_0.hide(),options.showHeaderRow||$headerRowScroller_0.hide(),$viewport_0=$("<div class='viewport_0 slick-viewport' style='width:100%;overflow:hidden;outline:0;position:relative;'>").appendTo($container_0),$canvas_0=$("<div class='canvas_0 grid-canvas' />").appendTo($viewport_0)}$headerScroller_1=$("<div class='headerScroller_1 slick-header ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_1),$headers_1=$("<div class='headers_1 slick-header-columns' style='left:-1000px' />").appendTo($headerScroller_1);var r=getHeadersWidth();options.numberOfColumnsToFreeze>0?($headers_0.width(r.frozen+1e3),$headers_1.width(r.nonFrozen)):$headers_1.width(r.nonFrozen),$headerRowScroller_1=$("<div class='headerRowScroller_1 slick-headerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_1),$headerRow_1=$("<div class='headerRow_1 slick-headerrow-columns' />").appendTo($headerRowScroller_1),$headerRowSpacer_1=$("<div class='headerRowSpacer_1' style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($headerRowScroller_1);var a=getCanvasWidth();$headerRowSpacer_1.css("width",a.nonFrozen+scrollbarDimensions.width+"px"),options.numberOfColumnsToFreeze>0&&$headerRowSpacer_0.css("width",a.frozen+"px"),$topPanelScroller_1=$("<div class='topPanelScroller_1 slick-top-panel-scroller ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_1),$topPanel_1=$("<div class='topPanel_1 slick-top-panel' style='width:10000px' />").appendTo($topPanelScroller_1),options.showTopPanel||$topPanelScroller_1.hide(),options.showHeaderRow||$headerRowScroller_1.hide(),$viewport_1=$("<div class='viewport_1 slick-viewport' style='width:100%;overflow:auto;outline:0;position:relative;'>").appendTo($container_1),$viewport_1.css("overflow-y",options.autoHeight?"hidden":"auto"),$canvas_1=$("<div class='canvas_1 grid-canvas' />").appendTo($viewport_1),$focusSink2=$focusSink.clone().appendTo($outerContainer),options.explicitInitialization||finishInitialization()}function finishInitialization(){initialized||(initialized=!0,viewportW_1=parseFloat($.css($outerContainer[0],"width",!0)),measureCellPaddingAndBorder(),disableSelection($headers_1),options.enableTextSelectionOnCells||$viewport_1.bind("selectstart.ui",function(e){return $(e.target).is("input,textarea")}),updateColumnCaches(),createColumnHeaders(),setupColumnSort(),createCssRules(),resizeCanvas(),bindAncestorScrollEvents(),$outerContainer.bind("resize.slickgrid",resizeCanvas),$container_1.bind("resize.slickgrid",resizeCanvas),$viewport_1.bind("scroll",handleScroll).bind("click",handleClick),$headerScroller_1.bind("contextmenu",handleHeaderContextMenu).bind("click",handleHeaderClick).delegate(".slick-header-column","mouseenter",handleHeaderMouseEnter).delegate(".slick-header-column","mouseleave",handleHeaderMouseLeave),$headerRowScroller_1.bind("scroll",handleHeaderRowScroll),$focusSink.add($focusSink2).bind("keydown",handleKeyDown),$canvas_1.bind("keydown",handleKeyDown).bind("click",handleClick).bind("dblclick",handleDblClick).bind("contextmenu",handleContextMenu).bind("draginit",handleDragInit).bind("dragstart",{distance:3},handleDragStart).bind("drag",handleDrag).bind("dragend",handleDragEnd).delegate(".slick-cell","mouseenter",handleMouseEnter).delegate(".slick-cell","mouseleave",handleMouseLeave),options.numberOfColumnsToFreeze>0&&($container_0.bind("resize.slickgrid",resizeCanvas),$viewport_0.bind("mousewheel",function(e){var t=e.originalEvent.wheelDelta,o=scrollTop-t;0>o&&(o=0),handleScroll({wheelDelta:t,scrollTop:o})}),$headerScroller_0.bind("contextmenu",handleHeaderContextMenu).bind("click",handleHeaderClick).delegate(".slick-header-column","mouseenter",handleHeaderMouseEnter).delegate(".slick-header-column","mouseleave",handleHeaderMouseLeave),$headerRowScroller_0.bind("scroll",handleHeaderRowScroll),$canvas_0.bind("keydown",handleKeyDown).bind("click",handleClick).bind("dblclick",handleDblClick).bind("contextmenu",handleContextMenu).bind("draginit",handleDragInit).bind("dragstart",{distance:3},handleDragStart).bind("drag",handleDrag).bind("dragend",handleDragEnd).delegate(".slick-cell","mouseenter",handleMouseEnter).delegate(".slick-cell","mouseleave",handleMouseLeave)))}function registerPlugin(e){plugins.unshift(e),e.init(self)}function unregisterPlugin(e){for(var t=plugins.length;t>=0;t--)if(plugins[t]===e){plugins[t].destroy&&plugins[t].destroy(),plugins.splice(t,1);break}}function setSelectionModel(e){selectionModel&&(selectionModel.onSelectedRangesChanged.unsubscribe(handleSelectedRangesChanged),selectionModel.destroy&&selectionModel.destroy()),selectionModel=e,selectionModel&&(selectionModel.init(self),selectionModel.onSelectedRangesChanged.subscribe(handleSelectedRangesChanged))}function getSelectionModel(){return selectionModel}function getCanvasNode(){var e=$canvas_1[0];return e}function measureScrollbar(){var e=$("<div style='position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo("body"),t={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),t}function getHeadersWidth(){for(var e=0,t=0,o=options.numberOfColumnsToFreeze,n=0,l=columns.length;l>n;n++){var i=columns[n].width;o>n?e+=i:t+=i}return e+=1e3,t+=scrollbarDimensions.width,t=Math.max(t,viewportW_1)+1e3,{frozen:e,nonFrozen:t}}function getCanvasWidth(){for(var e=viewportHasVScroll_1?viewportW_1-scrollbarDimensions.width:viewportW_1,t=0,o=0,n=options.numberOfColumnsToFreeze,l=columns.length;l--;){var i=columns[l].width;n>l?t+=i:o+=i}return o=options.fullWidthRows?Math.max(o,e):o,{frozen:t,nonFrozen:o}}function updateCanvasWidth(e){var t=canvasWidth_0,o=canvasWidth_1,n=getCanvasWidth();canvasWidth_0=n.frozen,canvasWidth_1=n.nonFrozen;var l=getHeadersWidth(),i=0;options.numberOfColumnsToFreeze>0&&canvasWidth_0!=t&&($canvas_0.width(canvasWidth_0),$headerRow_0.width(canvasWidth_0),$headers_0.width(l.frozen),$headerRowSpacer_0.width(canvasWidth_0),void 0!=t&&(i=canvasWidth_0-t,canvasWidth_1-=i,viewportW_1-=i,$container_0[0].style.width=parseInt($container_0[0].style.width)+i+"px",$container_1[0].style.left=canvasWidth_0+"px",$container_1[0].style.width=parseInt($container_1[0].style.width)-i+"px")),(canvasWidth_1!=o||0!=i)&&($canvas_1.width(canvasWidth_1),$headerRow_1.width(canvasWidth_1),$headers_1.width(l.nonFrozen),viewportHasHScroll_1=canvasWidth_1>viewportW_1-scrollbarDimensions.width),$headerRowSpacer_1.width(canvasWidth_1+(viewportHasVScroll_1?scrollbarDimensions.width:0)),(canvasWidth_1!=o||e||0!=i)&&applyColumnWidths()}function disableSelection(e){e&&e.jquery&&e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function getMaxSupportedCssHeight(){for(var e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,o=$("<div style='display:none' />").appendTo(document.body);;){var n=2*e;if(o.css("height",n),n>t||o.height()!==n)break;e=n}return o.remove(),e}function bindAncestorScrollEvents(){for(var e=$canvas_1[0];(e=e.parentNode)!=document.body&&null!=e;)if(e==$viewport_1[0]||e.scrollWidth!=e.clientWidth||e.scrollHeight!=e.clientHeight){var t=$(e);$boundAncestors=$boundAncestors?$boundAncestors.add(t):t,t.bind("scroll."+uid,handleActiveCellPositionChange)}}function unbindAncestorScrollEvents(){$boundAncestors&&($boundAncestors.unbind("scroll."+uid),$boundAncestors=null)}function updateColumnHeader(e,t,o){if(initialized){var n=getColumnIndex(e);if(null!=n){var l=columns[n],i=[];options.numberOfColumnsToFreeze>0&&i.push($headers_0.children()),i.push($headers_1.children());for(var r=0;r<i.length;r++){var a=$headers[r].eq(n);a&&(void 0!==t&&(columns[n].name=t),void 0!==o&&(columns[n].toolTip=o),trigger(self.onBeforeHeaderCellDestroy,{node:a[0],column:l}),a.attr("title",o||"").children().eq(0).html(t),trigger(self.onHeaderCellRendered,{node:a[0],column:l}))}}}}function getHeaderRow(){return $headerRow_1[0]}function getHeaderRowColumn(e){var t,o=getColumnIndex(e);t=options.numberOfColumnsToFreeze?$($.merge($.merge([],$headerRow_0),$headerRow_1)):$headerRow_1;var n=t.children().eq(o);return n&&n[0]}function createColumnHeaders(){function e(){$(this).addClass("ui-state-hover")}function t(){$(this).removeClass("ui-state-hover")}$headers_1.find(".slick-header-column").each(function(){var e=$(this).data("column");e&&trigger(self.onBeforeHeaderCellDestroy,{node:this,column:e})}),$headers_1.empty();var o=getHeadersWidth();$headers_1.width(o.nonFrozen);var n=options.numberOfColumnsToFreeze;n>0&&($headers_0.empty(),$headers_0.width(o.frozen));var l;l=$headerRow_1,n>0&&(l=$($.merge($.merge([],$headerRow_0),$headerRow_1))),l.find(".slick-headerrow-column").each(function(){var e=$(this).data("column");e&&trigger(self.onBeforeHeaderRowCellDestroy,{node:this,column:e})}),l.empty();for(var i=0;i<columns.length;i++){var r=columns[i],a=$("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+r.name+"</span>").width(r.width-headerColumnWidthDiff).attr("id",""+uid+r.id).attr("title",r.toolTip||"").data("column",r).addClass(r.headerCssClass||"").appendTo(n>i?$headers_0:$headers_1);if((options.enableColumnReorder||r.sortable)&&a.on("mouseenter",e).on("mouseleave",t),r.sortable&&(a.addClass("slick-header-sortable"),a.append("<span class='slick-sort-indicator' />")),trigger(self.onHeaderCellRendered,{node:a[0],column:r}),options.showHeaderRow){var s=$("<div class='ui-state-default slick-headerrow-column l"+i+" r"+i+"'></div>").data("column",r).appendTo(n>i?$headerRow_0:$headerRow_1);trigger(self.onHeaderRowCellRendered,{node:s[0],column:r})}}setSortColumns(sortColumns),setupColumnResize(),options.enableColumnReorder&&setupColumnReorder()}function setupColumnSort(){$headers_1.add(options.numberOfColumnsToFreeze?$headers_0:null).click(function(e){if(e.metaKey=e.metaKey||e.ctrlKey,!$(e.target).hasClass("slick-resizable-handle")){var t=$(e.target).closest(".slick-header-column");if(t.length){var o=t.data("column");if(o.sortable){if(!getEditorLock().commitCurrentEdit())return;for(var n=null,l=0;l<sortColumns.length;l++)if(sortColumns[l].columnId==o.id){n=sortColumns[l],n.sortAsc=!n.sortAsc;break}e.metaKey&&options.multiColumnSort?n&&sortColumns.splice(l,1):((e.shiftKey||e.metaKey)&&options.multiColumnSort||(sortColumns=[]),n?0==sortColumns.length&&sortColumns.push(n):(n={columnId:o.id,sortAsc:o.defaultSortAsc},sortColumns.push(n))),setSortColumns(sortColumns),options.multiColumnSort?trigger(self.onSort,{multiColumnSort:!0,sortCols:$.map(sortColumns,function(e){return{sortCol:columns[getColumnIndex(e.columnId)],sortAsc:e.sortAsc}})},e):trigger(self.onSort,{multiColumnSort:!1,sortCol:o,sortAsc:n.sortAsc},e)}}}})}function setupColumnReorder(){options.numberOfColumnsToFreeze>0&&($headers_0.filter(":ui-sortable").sortable("destroy"),$headers_0.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",forcePlaceholderSize:!0,start:function(e,t){t.placeholder.width(t.helper.outerWidth()-headerColumnWidthDiff),$(t.helper).addClass("slick-header-column-active")},beforeStop:function(e,t){$(t.helper).removeClass("slick-header-column-active")},stop:function(e){if(!getEditorLock().commitCurrentEdit())return void $(this).sortable("cancel");for(var t=$headers_0.sortable("toArray"),o=[],n=0;n<t.length;n++){var l=t[n].replace(uid,""),i=getColumnIndex(l),r=columns[i];o.push(r)}for(var a=options.numberOfColumnsToFreeze;a<columns.length;a++)o.push(columns[a]);setColumns(o),trigger(self.onColumnsReordered,{}),e.stopPropagation(),setupColumnResize()}})),$headers_1.filter(":ui-sortable").sortable("destroy"),$headers_1.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",forcePlaceholderSize:!0,start:function(e,t){$(t.helper).addClass("slick-header-column-active")},beforeStop:function(e,t){$(t.helper).removeClass("slick-header-column-active")},stop:function(e){if(!getEditorLock().commitCurrentEdit())return void $(this).sortable("cancel");for(var t=$headers_1.sortable("toArray"),o=[],n=0;n<options.numberOfColumnsToFreeze;n++)o.push(columns[n]);for(var l=0;l<t.length;l++){var i=t[l].replace(uid,""),r=getColumnIndex(i),a=columns[r];o.push(a)}setColumns(o),trigger(self.onColumnsReordered,{}),e.stopPropagation(),setupColumnResize()}})}function setupColumnResize(){var e,t,o,n,l,i,r,a,s,c,d=[];options.numberOfColumnsToFreeze>0&&d.push($headers_0.children()),d.push($headers_1.children());for(var u=0;u<d.length;u++){if(l=d[u],c=isPartOfAFrozenColumn(l),l.find(".slick-resizable-handle").remove(),l.each(function(e){var t=getIndexOffset(c,e);columns[t].resizable&&(void 0===a&&(a=e),s=e)}),void 0===a)return;l.each(function(d,u){a>d||options.forceFitColumns&&d>=s||(e=$(u),$("<div class='slick-resizable-handle' />").appendTo(u).bind("dragstart",function(e){if(c=isPartOfAFrozenColumn(this),l=getColumnElements(this),!getEditorLock().commitCurrentEdit())return!1;n=e.pageX,$(this).parent().addClass("slick-header-column-active");var a=null,s=null;if(l.each(function(e,t){var o=getIndexOffset(c,e);columns[o].previousWidth=$(t).outerWidth()}),options.forceFitColumns){a=0,s=0;var u;for(t=d+1;t<l.length;t++)u=getIndexOffset(c,t),o=columns[u],o.resizable&&(null!==s&&(o.maxWidth?s+=o.maxWidth-o.previousWidth:s=null),a+=o.previousWidth-Math.max(o.minWidth||0,absoluteColumnMinWidth))}var h=0,f=0;for(t=0;d>=t;t++){var p=getIndexOffset(c,t);o=columns[p],o.resizable&&(null!==f&&(o.maxWidth?f+=o.maxWidth-o.previousWidth:f=null),h+=o.previousWidth-Math.max(o.minWidth||0,absoluteColumnMinWidth))}null===a&&(a=1e5),null===h&&(h=1e5),null===s&&(s=1e5),null===f&&(f=1e5),r=n+Math.min(a,f),i=n-Math.min(h,s)}).bind("drag",function(e){c=isPartOfAFrozenColumn(this),l=getColumnElements(this);var a,s,u=Math.min(r,Math.max(i,e.pageX))-n;if(0>u){for(s=u,t=d;t>=0;t--)o=columns[getIndexOffset(c,t)],o.resizable&&(a=Math.max(o.minWidth||0,absoluteColumnMinWidth),s&&o.previousWidth+s<a?(s+=o.previousWidth-a,o.width=a):(o.width=o.previousWidth+s,s=0));if(options.forceFitColumns)for(s=-u,t=d+1;t<l.length;t++)o=columns[getIndexOffset(c,t)],o.resizable&&(s&&o.maxWidth&&o.maxWidth-o.previousWidth<s?(s-=o.maxWidth-o.previousWidth,o.width=o.maxWidth):(o.width=o.previousWidth+s,s=0))}else{for(s=u,t=d;t>=0;t--)o=columns[getIndexOffset(c,t)],o.resizable&&(s&&o.maxWidth&&o.maxWidth-o.previousWidth<s?(s-=o.maxWidth-o.previousWidth,o.width=o.maxWidth):(o.width=o.previousWidth+s,s=0));if(options.forceFitColumns)for(s=-u,t=d+1;t<l.length;t++)o=columns[getIndexOffset(c,t)],o.resizable&&(a=Math.max(o.minWidth||0,absoluteColumnMinWidth),s&&o.previousWidth+s<a?(s+=o.previousWidth-a,o.width=a):(o.width=o.previousWidth+s,s=0))}applyColumnHeaderWidths(),options.numberOfColumnsToFreeze>0&&updateCanvasWidth(!0),options.syncColumnCellResize&&applyColumnWidths()}).bind("dragend",function(){c=isPartOfAFrozenColumn(this),l=getColumnElements(this);var e;$(this).parent().removeClass("slick-header-column-active");for(var t=0;t<l.length;t++)o=columns[getIndexOffset(c,t)],e=$(l[t]).outerWidth(),o.previousWidth!==e&&o.rerenderOnResize&&invalidateAllRows();updateCanvasWidth(!0),render(),trigger(self.onColumnsResized,{})}))})}}function getIndexOffset(e,t){var o=e?t:t+options.numberOfColumnsToFreeze;return o}function isPartOfAFrozenColumn(e){var t=!1,o=$(e).hasClass("headers_0");return t=o?!0:$(e).parents(".headers_0").length>0}function getColumnElements(e){var t=$(e).parents(".slick-header-columns").children();return t}function getVBoxDelta(e){var t=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],o=0;return $.each(t,function(t,n){o+=parseFloat(e.css(n))||0}),o}function measureCellPaddingAndBorder(){var e,t=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],o=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];e=$("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo($headers_1),headerColumnWidthDiff=headerColumnHeightDiff=0,"border-box"!=e.css("box-sizing")&&"border-box"!=e.css("-moz-box-sizing")&&"border-box"!=e.css("-webkit-box-sizing")&&($.each(t,function(t,o){headerColumnWidthDiff+=parseFloat(e.css(o))||0}),$.each(o,function(t,o){headerColumnHeightDiff+=parseFloat(e.css(o))||0})),e.remove();var n=$("<div class='slick-row' />").appendTo($canvas_1);e=$("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(n),cellWidthDiff=cellHeightDiff=0,"border-box"!=e.css("box-sizing")&&"border-box"!=e.css("-moz-box-sizing")&&"border-box"!=e.css("-webkit-box-sizing")&&($.each(t,function(t,o){cellWidthDiff+=parseFloat(e.css(o))||0}),$.each(o,function(t,o){cellHeightDiff+=parseFloat(e.css(o))||0})),n.remove(),absoluteColumnMinWidth=Math.max(headerColumnWidthDiff,cellWidthDiff)}function createCssRules(){$style=$("<style type='text/css' rel='stylesheet' />").appendTo($("head"));for(var e=options.rowHeight-cellHeightDiff,t=["."+uid+" .slick-header-column { left: 1000px; }","."+uid+" .slick-top-panel { height:"+options.topPanelHeight+"px; }","."+uid+" .slick-headerrow-columns { height:"+options.headerRowHeight+"px; }","."+uid+" .slick-cell { height:"+e+"px; }","."+uid+" .slick-row { height:"+options.rowHeight+"px; }"],o=0;o<columns.length;o++)t.push("."+uid+" .l"+o+" { }"),t.push("."+uid+" .r"+o+" { }");$style[0].styleSheet?$style[0].styleSheet.cssText=t.join(" "):$style[0].appendChild(document.createTextNode(t.join(" ")))}function getColumnCssRules(e){if(!stylesheet){for(var t=document.styleSheets,o=0;o<t.length;o++)if((t[o].ownerNode||t[o].owningElement)==$style[0]){stylesheet=t[o];break}if(!stylesheet)throw new Error("Cannot find stylesheet.");columnCssRulesL=[],columnCssRulesR=[];for(var n,l,i=stylesheet.cssRules||stylesheet.rules,o=0;o<i.length;o++){var r=i[o].selectorText;(n=/\.l\d+/.exec(r))?(l=parseInt(n[0].substr(2,n[0].length-2),10),columnCssRulesL[l]=i[o]):(n=/\.r\d+/.exec(r))&&(l=parseInt(n[0].substr(2,n[0].length-2),10),columnCssRulesR[l]=i[o])}}return{left:columnCssRulesL[e],right:columnCssRulesR[e]}}function removeCssRules(){$style.remove(),stylesheet=null}function destroy(){getEditorLock().cancelCurrentEdit(),trigger(self.onBeforeDestroy,{});for(var e=plugins.length;e--;)unregisterPlugin(plugins[e]);options.enableColumnReorder&&(options.numberOfColumnsToFreeze>0&&$headers_0.filter(":ui-sortable").sortable("destroy"),$headers_1.filter(":ui-sortable").sortable("destroy")),unbindAncestorScrollEvents(),$outerContainer.unbind(".slickgrid"),removeCssRules(),$canvas_1.unbind("draginit dragstart dragend drag"),$outerContainer.empty().removeClass(uid)}function trigger(e,t,o){return o=o||new Slick.EventData,t=t||{},t.grid=self,e.notify(t,o,self)}function getUID(){return uid}function getEditorLock(){return options.editorLock}function getEditController(){return editController}function getColumnIndex(e){return columnsById[e]}function autosizeColumns(){var e,t,o,n=[],l=0,i=0,r=viewportHasVScroll_1?viewportW_1-scrollbarDimensions.width:viewportW_1;for(e=0;e<columns.length;e++)t=columns[e],n.push(t.width),i+=t.width,t.resizable&&(l+=t.width-Math.max(t.minWidth,absoluteColumnMinWidth));for(o=i;i>r&&l;){var a=(i-r)/l;for(e=0;e<columns.length&&i>r;e++){t=columns[e];var s=n[e];if(!(!t.resizable||s<=t.minWidth||absoluteColumnMinWidth>=s)){var c=Math.max(t.minWidth,absoluteColumnMinWidth),d=Math.floor(a*(s-c))||1;d=Math.min(d,s-c),i-=d,l-=d,n[e]-=d}}if(o==i)break;o=i}for(o=i;r>i;){var u=r/i;for(e=0;e<columns.length&&r>i;e++)if(t=columns[e],t.resizable&&!(t.maxWidth<=t.width)){var h=Math.min(Math.floor(u*t.width)-t.width,t.maxWidth-t.width||1e6)||1;i+=h,n[e]+=h}if(o==i)break;o=i}var f=!1;for(e=0;e<columns.length;e++)columns[e].rerenderOnResize&&columns[e].width!=n[e]&&(f=!0),columns[e].width=n[e];applyColumnHeaderWidths(),updateCanvasWidth(!0),f&&(invalidateAllRows(),render())}function applyWidthToHeaders(e){for(var t,o=isPartOfAFrozenColumn(e),n=e.children(),l=0,i=n.length;i>l;l++){t=$(n[l]);var r=getIndexOffset(o,l);t.width()!==columns[r].width-headerColumnWidthDiff&&t.width(columns[r].width-headerColumnWidthDiff)}}function applyColumnHeaderWidths(){initialized&&(options.numberOfColumnsToFreeze>0&&applyWidthToHeaders($headers_0),applyWidthToHeaders($headers_1),updateColumnCaches())}function applyColumnWidths(){for(var e,t,o=0,n=0,l=options.numberOfColumnsToFreeze,i=columns.length,r=0;i>r;r++)e=columns[r].width,t=getColumnCssRules(r),l>r?(t.left.style.left=n+"px",t.right.style.right=canvasWidth_0-n-e+"px",n+=columns[r].width):(t.left.style.left=o+"px",t.right.style.right=canvasWidth_1-o-e+"px",o+=columns[r].width)
}function setNumberOfColumnsToFreeze(e){options.numberOfColumnsToFreeze=e}function setSortColumn(e,t){setSortColumns([{columnId:e,sortAsc:t}])}function setSortColumns(e){sortColumns=e;var t=$headers_1.children().add(options.numberOfColumnsToFreeze?$headers_0.children():null);t.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc"),$.each(sortColumns,function(e,o){null==o.sortAsc&&(o.sortAsc=!0);var n=getColumnIndex(o.columnId);null!=n&&t.eq(n).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(o.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function getSortColumns(){return sortColumns}function handleSelectedRangesChanged(e,t){selectedRows=[];for(var o={},n=0;n<t.length;n++)for(var l=t[n].fromRow;l<=t[n].toRow;l++){o[l]||(selectedRows.push(l),o[l]={});for(var i=t[n].fromCell;i<=t[n].toCell;i++)canCellBeSelected(l,i)&&(o[l][columns[i].id]=options.selectedCellCssClass)}setCellCssStyles(options.selectedCellCssClass,o),trigger(self.onSelectedRowsChanged,{rows:getSelectedRows()},e)}function getColumns(){return columns}function updateColumnCaches(){columnPosLeft=[],columnPosRight=[];for(var e=0,t=0,o=options.numberOfColumnsToFreeze,n=0,l=columns.length;l>n;n++)o>n?(columnPosLeft[n]=e,columnPosRight[n]=e+columns[n].width,e+=columns[n].width):(columnPosLeft[n]=t,columnPosRight[n]=t+columns[n].width,t+=columns[n].width)}function setColumns(e){columns=e,columnsById={};for(var t=0;t<columns.length;t++){var o=columns[t]=$.extend({},columnDefaults,columns[t]);columnsById[o.id]=t,o.minWidth&&o.width<o.minWidth&&(o.width=o.minWidth),o.maxWidth&&o.width>o.maxWidth&&(o.width=o.maxWidth)}updateColumnCaches(),initialized&&(invalidateAllRows(),createColumnHeaders(),removeCssRules(),createCssRules(),resizeCanvas(),applyColumnWidths(),handleScroll())}function getOptions(){return options}function setOptions(e){getEditorLock().commitCurrentEdit()&&(makeActiveCellNormal(),options.enableAddRow!==e.enableAddRow&&invalidateRow(getDataLength()),options=$.extend(options,e),validateAndEnforceOptions(),$viewport_1.css("overflow-y",options.autoHeight?"hidden":"auto"),render())}function validateAndEnforceOptions(){options.autoHeight&&(options.leaveSpaceForNewRows=!1)}function setData(e,t){data=e,invalidateAllRows(),updateRowCount(),t&&scrollTo(0)}function getData(){return data}function getDataLength(){return data.getLength?data.getLength():data.length}function getDataLengthIncludingAddNew(){return getDataLength()+(options.enableAddRow?1:0)}function getDataItem(e){return data.getItem?data.getItem(e):data[e]}function getTopPanel(){return $topPanel_1[0]}function setTopPanelVisibility(e){options.showTopPanel!=e&&(options.showTopPanel=e,e?$topPanelScroller_1.slideDown("fast",resizeCanvas):$topPanelScroller_1.slideUp("fast",resizeCanvas))}function setHeaderRowVisibility(e){options.showHeaderRow!=e&&(options.showHeaderRow=e,e?$headerRowScroller_1.slideDown("fast",resizeCanvas):$headerRowScroller_1.slideUp("fast",resizeCanvas))}function getContainerNode(){return $outerContainer.get(0)}function getRowTop(e){return options.rowHeight*e-offset}function getRowFromPosition(e){return Math.floor((e+offset)/options.rowHeight)}function scrollTo(e){e=Math.max(e,0),e=Math.min(e,th-viewportH_1+(viewportHasHScroll_1?scrollbarDimensions.height:0));var t=offset;page=Math.min(n-1,Math.floor(e/ph)),offset=Math.round(page*cj);var o=e-offset;if(offset!=t){var l=getVisibleRange(o);cleanupRows(l),updateRowPositions()}prevScrollTop!=o&&(vScrollDir=o+offset>prevScrollTop+t?1:-1,$viewport_1[0].scrollTop=lastRenderedScrollTop=scrollTop=prevScrollTop=o,options.numberOfColumnsToFreeze>0&&($viewport_0[0].scrollTop=scrollTop),trigger(self.onViewportChanged,{}))}function defaultFormatter(e,t,o){return null==o?"":(o+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function getFormatter(e,t){var o=data.getItemMetadata&&data.getItemMetadata(e),n=o&&o.columns&&(o.columns[t.id]||o.columns[getColumnIndex(t.id)]);return n&&n.formatter||o&&o.formatter||t.formatter||options.formatterFactory&&options.formatterFactory.getFormatter(t)||options.defaultFormatter}function getEditor(e,t){var o=columns[t],n=data.getItemMetadata&&data.getItemMetadata(e),l=n&&n.columns;return l&&l[o.id]&&void 0!==l[o.id].editor?l[o.id].editor:l&&l[t]&&void 0!==l[t].editor?l[t].editor:o.editor||options.editorFactory&&options.editorFactory.getEditor(o)}function getDataItemValueForColumn(e,t){return options.dataItemColumnValueExtractor?options.dataItemColumnValueExtractor(e,t):e[t.field]}function appendRowHtml(e,t,o,n){var l=options.numberOfColumnsToFreeze,i=getDataItem(t),r=n>t&&!i,a="slick-row"+(r?" loading":"")+(t===activeRow?" active":"")+(t%2==1?" odd":" even"),s=data.getItemMetadata&&data.getItemMetadata(t);s&&s.cssClasses&&(a+=" "+s.cssClasses);var c="<div class='ui-widget-content "+a+"' style='top:"+getRowTop(t)+"px;' >";e.nonFrozen.push(c),l>0&&e.frozen.push(c);for(var d,u,h=0,f=columns.length;f>h;h++){if(u=columns[h],d=1,s&&s.columns){var p=s.columns[u.id]||s.columns[h];d=p&&p.colspan||1,"*"===d&&(d=f-h)}if(l&&l>h)appendCellHtml(e,t,h,d,i);else if(columnPosRight[Math.min(f-1,h+d-1)]>o.leftPx){if(columnPosLeft[h]>o.rightPx)break;appendCellHtml(e,t,h,d,i)}d>1&&(h+=d-1)}e.nonFrozen.push("</div>"),l>0&&e.frozen.push("</div>")}function appendCellHtml(e,t,o,n,l){var i=columns[o],r="slick-cell l"+o+" r"+Math.min(columns.length-1,o+n-1)+(i.cssClass?" "+i.cssClass:"");t===activeRow&&o===activeCell&&(r+=" active");for(var a in cellCssClasses)cellCssClasses[a][t]&&cellCssClasses[a][t][i.id]&&(r+=" "+cellCssClasses[a][t][i.id]);var s="<div class='"+r+"'>",c=options.numberOfColumnsToFreeze;if(c>o?e.frozen.push(s):e.nonFrozen.push(s),l){var d=getDataItemValueForColumn(l,i),u=getFormatter(t,i)(t,o,d,i,l);c>o?e.frozen.push(u):e.nonFrozen.push(getFormatter(t,i)(t,o,d,i,l))}c>o?e.frozen.push("</div>"):e.nonFrozen.push("</div>"),rowsCache[t].cellRenderQueue.push(o),rowsCache[t].cellColSpans[o]=n}function cleanupRows(e){for(var t in rowsCache)(t=parseInt(t,10))!==activeRow&&(t<e.top||t>e.bottom)&&removeRowFromCache(t)}function invalidate(){updateRowCount(),invalidateAllRows(),render()}function invalidateAllRows(){currentEditor&&makeActiveCellNormal();for(var e in rowsCache)removeRowFromCache(e)}function removeRowFromCache(e){var t=rowsCache[e];if(t){var o=t.rowNode;options.numberOfColumnsToFreeze>0?(o.nonFrozen&&$canvas_1[0].removeChild(o.nonFrozen),o.frozen&&$canvas_0[0].removeChild(o.frozen)):$canvas_1[0].removeChild(o.nonFrozen),delete rowsCache[e],delete postProcessedRows[e],renderedRows--,counter_rows_removed++}}function invalidateRows(e){var t,o;if(e&&e.length)for(vScrollDir=0,t=0,o=e.length;o>t;t++)currentEditor&&activeRow===e[t]&&makeActiveCellNormal(),rowsCache[e[t]]&&removeRowFromCache(e[t])}function invalidateRow(e){invalidateRows([e])}function updateCell(e,t){var o=getCellNode(e,t);if(o){var n=columns[t],l=getDataItem(e);currentEditor&&activeRow===e&&activeCell===t?currentEditor.loadValue(l):(o.innerHTML=l?getFormatter(e,n)(e,t,getDataItemValueForColumn(l,n),n,l):"",invalidatePostProcessingResults(e))}}function updateRow(e){var t=rowsCache[e];if(t){ensureCellNodesInRowsCache(e);var o=getDataItem(e);for(var n in t.cellNodesByColumnIdx)if(t.cellNodesByColumnIdx.hasOwnProperty(n)){n=0|n;var l=columns[n],i=t.cellNodesByColumnIdx[n];e===activeRow&&n===activeCell&&currentEditor?currentEditor.loadValue(o):i.innerHTML=o?getFormatter(e,l)(e,n,getDataItemValueForColumn(o,l),l,o):""}invalidatePostProcessingResults(e)}}function getViewportHeight(){return parseFloat($.css($outerContainer[0],"height",!0))-parseFloat($.css($outerContainer[0],"paddingTop",!0))-parseFloat($.css($outerContainer[0],"paddingBottom",!0))-parseFloat($.css($headerScroller_1[0],"height"))-getVBoxDelta($headerScroller_1)-(options.showTopPanel?options.topPanelHeight+getVBoxDelta($topPanelScroller_1):0)-(options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller_1):0)}function resizeCanvas(){initialized&&(viewportH_1=options.autoHeight?options.rowHeight*getDataLengthIncludingAddNew():getViewportHeight(),numVisibleRows=Math.ceil(viewportH_1/options.rowHeight),viewportW_1=parseFloat($.css($outerContainer[0],"width",!0)),options.autoHeight||($viewport_1.height(viewportH_1),options.numberOfColumnsToFreeze&&$viewport_0.height(viewportH_1)),options.forceFitColumns&&autosizeColumns(),updateRowCount(),handleScroll(),lastRenderedScrollLeft=-1,render())}function updateRowCount(){getDataLength();if(initialized){numberOfRows=getDataLengthIncludingAddNew()+(options.leaveSpaceForNewRows?numVisibleRows-1:0);var e=viewportHasVScroll_1;viewportHasVScroll_1=!options.autoHeight&&numberOfRows*options.rowHeight>viewportH_1;var t=getDataLengthIncludingAddNew()-1;for(var o in rowsCache)o>=t&&removeRowFromCache(o);activeCellNode&&activeRow>t&&resetActiveCell();var l=h;th=Math.max(options.rowHeight*numberOfRows,viewportH_1-scrollbarDimensions.height),maxSupportedCssHeight>th?(h=ph=th,n=1,cj=0):(h=maxSupportedCssHeight,ph=h/100,n=Math.floor(th/ph),cj=(th-h)/(n-1)),h!==l&&($canvas_1.css("height",h),scrollTop=$viewport_1[0].scrollTop,options.numberOfColumnsToFreeze>0&&$canvas_0.css("height",h+scrollbarDimensions.height));var i=th-viewportH_1>=scrollTop+offset;0==th||0==scrollTop?page=offset=0:scrollTo(i?scrollTop+offset:th-viewportH_1),h!=l&&options.autoHeight&&resizeCanvas(),options.forceFitColumns&&e!=viewportHasVScroll_1&&autosizeColumns(),updateCanvasWidth(!1)}}function getVisibleRange(e,t){return null==e&&(e=scrollTop),null==t&&(t=scrollLeft),{top:getRowFromPosition(e),bottom:getRowFromPosition(e+viewportH_1),leftPx:t,rightPx:t+viewportW_1}}function getRenderedRange(e,t){var o=getVisibleRange(e,t),n=Math.round(viewportH_1/options.rowHeight),l=3;return-1==vScrollDir?(o.top-=n,o.bottom+=l):1==vScrollDir?(o.top-=l,o.bottom+=n):(o.top-=l,o.bottom+=l),o.top=Math.max(0,o.top),o.bottom=Math.min(getDataLengthIncludingAddNew()-1,o.bottom),o.leftPx-=viewportW_1,o.rightPx+=viewportW_1,o.leftPx=Math.max(0,o.leftPx),o.rightPx=Math.min(canvasWidth_1,o.rightPx),o}function ensureCellNodesInRowsCache(e){var t=rowsCache[e];if(t&&t.cellRenderQueue.length){var o=t.rowNode.nonFrozen.lastChild;if(options.numberOfColumnsToFreeze>0)var n=t.rowNode.frozen.lastChild;for(var l=options.numberOfColumnsToFreeze;t.cellRenderQueue.length;){var i=t.cellRenderQueue.pop();l>i?(t.cellNodesByColumnIdx[i]=n,n.previousSibling&&(n=n.previousSibling)):(t.cellNodesByColumnIdx[i]=o,o.previousSibling&&(o=o.previousSibling))}}}function cleanUpCells(e,t){var o=0,n=rowsCache[t],l=[];for(var i in n.cellNodesByColumnIdx)if(n.cellNodesByColumnIdx.hasOwnProperty(i)){i=0|i;var r=n.cellColSpans[i];(columnPosLeft[i]>e.rightPx||columnPosRight[Math.min(columns.length-1,i+r-1)]<e.leftPx)&&(t!=activeRow||i!=activeCell)&&l.push(i)}for(var a,s,c=l.pop();null!=c&&0!=c;){a=n.cellNodesByColumnIdx[c],s=n.rowNode.nonFrozen.childNodes;for(var i=0;i<s.length;i++)if(s[i]==a){n.rowNode.nonFrozen.removeChild(a),delete n.cellColSpans[c],delete n.cellNodesByColumnIdx[c],postProcessedRows[t]&&delete postProcessedRows[t][c],o++;break}c=l.length>0?l.pop():null}}function cleanUpAndRenderCells(e){for(var t,o,n,l={frozen:[],nonFrozen:[]},i=[],r=0,a=e.top,s=e.bottom;s>=a;a++)if(t=rowsCache[a]){ensureCellNodesInRowsCache(a),cleanUpCells(e,a),o=0;var c=data.getItemMetadata&&data.getItemMetadata(a);c=c&&c.columns;for(var d=getDataItem(a),u=0,h=columns.length;h>u&&!(columnPosLeft[u]>e.rightPx);u++)if(null==(n=t.cellColSpans[u])){if(n=1,c){var f=c[columns[u].id]||c[u];n=f&&f.colspan||1,"*"===n&&(n=h-u)}columnPosRight[Math.min(h-1,u+n-1)]>e.leftPx&&(appendCellHtml(l,a,u,n,d),o++),u+=n>1?n-1:0}else u+=n>1?n-1:0;o&&(r+=o,i.push(a))}if(l.nonFrozen.length){var p=document.createElement("div");p.innerHTML=l.nonFrozen.join("");var v=document.createElement("div");v.innerHTML=l.frozen.join("");for(var g,m,C,w=options.numberOfColumnsToFreeze;null!=(g=i.pop());){t=rowsCache[g];for(var b;null!=(b=t.cellRenderQueue.pop());)C=v.lastChild,m=p.lastChild,w>b?(t.rowNode.frozen.appendChild(C),t.cellNodesByColumnIdx[b]=C):(t.rowNode.nonFrozen.appendChild(m),t.cellNodesByColumnIdx[b]=m)}}}function renderRows(e){var t=$canvas_1[0],o={frozen:[],nonFrozen:[]},n=[],l=!1,i=getDataLength(),r=options.numberOfColumnsToFreeze;if(r)var a=$canvas_0[0];for(var s=e.top,c=e.bottom;c>=s;s++)rowsCache[s]||(renderedRows++,n.push(s),rowsCache[s]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]},appendRowHtml(o,s,e,i),activeCellNode&&activeRow===s&&(l=!0),counter_rows_rendered++);if(n.length){var d=document.createElement("div");if(d.innerHTML=o.nonFrozen.join(""),r>0){var u=document.createElement("div");u.innerHTML=o.frozen.join("")}for(var h,s=0,c=n.length;c>s;s++)h=rowsCache[n[s]],h.rowNode={frozen:r>0?a.appendChild(u.firstChild):"",nonFrozen:t.appendChild(d.firstChild)};l&&(activeCellNode=getCellNode(activeRow,activeCell))}}function startPostProcessing(){options.enableAsyncPostRender&&(clearTimeout(h_postrender),h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}function invalidatePostProcessingResults(e){delete postProcessedRows[e],postProcessFromRow=Math.min(postProcessFromRow,e),postProcessToRow=Math.max(postProcessToRow,e),startPostProcessing()}function updateRowPositions(){for(var e in rowsCache){var t=getRowTop(e)+"px";rowsCache[e].rowNode.frozen.style.top=t,rowsCache[e].rowNode.nonFrozen.style.top=t}}function render(){if(initialized){var e=getVisibleRange(),t=getRenderedRange();cleanupRows(t),lastRenderedScrollLeft!=scrollLeft&&cleanUpAndRenderCells(t),renderRows(t),postProcessFromRow=e.top,postProcessToRow=Math.min(getDataLengthIncludingAddNew()-1,e.bottom),startPostProcessing(),lastRenderedScrollTop=scrollTop,lastRenderedScrollLeft=scrollLeft,h_render=null}}function handleHeaderRowScroll(){var e=$headerRowScroller_1[0].scrollLeft;e!=$viewport_1[0].scrollLeft&&($viewport_1[0].scrollLeft=e)}function handleScroll(e){void 0!=e&&void 0!=e.scrollTop&&($viewport_1[0].scrollTop=e.scrollTop),scrollTop=$viewport_1[0].scrollTop,scrollLeft=$viewport_1[0].scrollLeft;var t=Math.abs(scrollTop-prevScrollTop),o=Math.abs(scrollLeft-prevScrollLeft);if(o&&(prevScrollLeft=scrollLeft,$headerScroller_1[0].scrollLeft=scrollLeft,$topPanelScroller_1[0].scrollLeft=scrollLeft,$headerRowScroller_1[0].scrollLeft=scrollLeft),t)if(vScrollDir=scrollTop>prevScrollTop?1:-1,prevScrollTop=scrollTop,options.numberOfColumnsToFreeze>0&&($viewport_0[0].scrollTop=scrollTop),viewportH_1>t)scrollTo(scrollTop+offset);else{var l=offset;page=h==viewportH_1?0:Math.min(n-1,Math.floor(scrollTop*((th-viewportH_1)/(h-viewportH_1))*(1/ph))),offset=Math.round(page*cj),l!=offset&&invalidateAllRows()}(o||t)&&(h_render&&clearTimeout(h_render),(Math.abs(lastRenderedScrollTop-scrollTop)>20||Math.abs(lastRenderedScrollLeft-scrollLeft)>20)&&(options.forceSyncScrolling||Math.abs(lastRenderedScrollTop-scrollTop)<viewportH_1&&Math.abs(lastRenderedScrollLeft-scrollLeft)<viewportW_1?render():h_render=setTimeout(render,50),trigger(self.onViewportChanged,{}))),trigger(self.onScroll,{scrollLeft:scrollLeft,scrollTop:scrollTop})}function asyncPostProcessRows(){for(;postProcessToRow>=postProcessFromRow;){var e=vScrollDir>=0?postProcessFromRow++:postProcessToRow--,t=rowsCache[e];if(t&&!(e>=getDataLength())){postProcessedRows[e]||(postProcessedRows[e]={}),ensureCellNodesInRowsCache(e);for(var o in t.cellNodesByColumnIdx)if(t.cellNodesByColumnIdx.hasOwnProperty(o)){o=0|o;var n=columns[o];if(n.asyncPostRender&&!postProcessedRows[e][o]){var l=t.cellNodesByColumnIdx[o];l&&n.asyncPostRender(l,e,getDataItem(e),n),postProcessedRows[e][o]=!0}}return void(h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}}}function updateCellCssStylesOnRenderedRows(e,t){var o,n,l,i;for(var r in rowsCache){if(i=t&&t[r],l=e&&e[r],i)for(n in i)l&&i[n]==l[n]||(o=getCellNode(r,getColumnIndex(n)),o&&$(o).removeClass(i[n]));if(l)for(n in l)i&&i[n]==l[n]||(o=getCellNode(r,getColumnIndex(n)),o&&$(o).addClass(l[n]))}}function addCellCssStyles(e,t){if(cellCssClasses[e])throw"addCellCssStyles: cell CSS hash with key '"+e+"' already exists.";cellCssClasses[e]=t,updateCellCssStylesOnRenderedRows(t,null),trigger(self.onCellCssStylesChanged,{key:e,hash:t})}function removeCellCssStyles(e){cellCssClasses[e]&&(updateCellCssStylesOnRenderedRows(null,cellCssClasses[e]),delete cellCssClasses[e],trigger(self.onCellCssStylesChanged,{key:e,hash:null}))}function setCellCssStyles(e,t){var o=cellCssClasses[e];cellCssClasses[e]=t,updateCellCssStylesOnRenderedRows(t,o),trigger(self.onCellCssStylesChanged,{key:e,hash:t})}function getCellCssStyles(e){return cellCssClasses[e]}function flashCell(e,t,o){function n(e){e&&setTimeout(function(){l.queue(function(){l.toggleClass(options.cellFlashingCssClass).dequeue(),n(e-1)})},o)}if(o=o||100,rowsCache[e]){var l=$(getCellNode(e,t));n(4)}}function handleDragInit(e,t){var o=getCellFromEvent(e);if(!o||!cellExists(o.row,o.cell))return!1;var n=trigger(self.onDragInit,t,e);return e.isImmediatePropagationStopped()?n:!1}function handleDragStart(e,t){var o=getCellFromEvent(e);if(!o||!cellExists(o.row,o.cell))return!1;var n=trigger(self.onDragStart,t,e);return e.isImmediatePropagationStopped()?n:!1}function handleDrag(e,t){return trigger(self.onDrag,t,e)}function handleDragEnd(e,t){trigger(self.onDragEnd,t,e)}function handleKeyDown(e){trigger(self.onKeyDown,{row:activeRow,cell:activeCell},e);var t=e.isImmediatePropagationStopped();if(!t)if(e.shiftKey||e.altKey||e.ctrlKey)9!=e.which||!e.shiftKey||e.ctrlKey||e.altKey||(t=navigatePrev());else if(27==e.which){if(!getEditorLock().isActive())return;cancelEditAndSetFocus()}else 34==e.which?(navigatePageDown(),t=!0):33==e.which?(navigatePageUp(),t=!0):37==e.which?t=navigateLeft():39==e.which?t=navigateRight():38==e.which?t=navigateUp():40==e.which?t=navigateDown():9==e.which?t=navigateNext():13==e.which&&(options.editable&&(currentEditor?activeRow===getDataLength()?navigateDown():commitEditAndSetFocus():getEditorLock().commitCurrentEdit()&&makeActiveCellEditable()),t=!0);if(t){e.stopPropagation(),e.preventDefault();try{e.originalEvent.keyCode=0}catch(o){}}}function handleClick(e){currentEditor||(e.target!=document.activeElement||$(e.target).hasClass("slick-cell"))&&setFocus();var t=getCellFromEvent(e);!t||null!==currentEditor&&activeRow==t.row&&activeCell==t.cell||(trigger(self.onClick,{row:t.row,cell:t.cell},e),e.isImmediatePropagationStopped()||activeCell==t.cell&&activeRow==t.row||!canCellBeActive(t.row,t.cell)||(!getEditorLock().isActive()||getEditorLock().commitCurrentEdit())&&(scrollRowIntoView(t.row,!1),setActiveCellInternal(getCellNode(t.row,t.cell))))}function handleContextMenu(e){var t=$(e.target).closest(".slick-cell",$canvas_1);0!==t.length&&(activeCellNode!==t[0]||null===currentEditor)&&trigger(self.onContextMenu,{},e)}function handleDblClick(e){var t=getCellFromEvent(e);!t||null!==currentEditor&&activeRow==t.row&&activeCell==t.cell||(trigger(self.onDblClick,{row:t.row,cell:t.cell},e),e.isImmediatePropagationStopped()||options.editable&&gotoCell(t.row,t.cell,!0))}function handleHeaderMouseEnter(e){trigger(self.onHeaderMouseEnter,{column:$(this).data("column")},e)}function handleHeaderMouseLeave(e){trigger(self.onHeaderMouseLeave,{column:$(this).data("column")},e)}function handleHeaderContextMenu(e){var t=$(e.target).closest(".slick-header-column",".slick-header-columns"),o=t&&t.data("column");trigger(self.onHeaderContextMenu,{column:o},e)}function handleHeaderClick(e){var t=$(e.target).closest(".slick-header-column",".slick-header-columns"),o=t&&t.data("column");o&&trigger(self.onHeaderClick,{column:o},e)}function handleMouseEnter(e){trigger(self.onMouseEnter,{},e)}function handleMouseLeave(e){trigger(self.onMouseLeave,{},e)}function cellExists(e,t){return!(0>e||e>=getDataLength()||0>t||t>=columns.length)}function getCellFromPoint(e,t){for(var o=getRowFromPosition(t),n=0,l=0,i=0;i<columns.length&&e>l;i++)l+=columns[i].width,n++;return 0>n&&(n=0),{row:o,cell:n-1}}function getCellFromNode(e){var t=/l\d+/.exec(e.className);if(!t)throw"getCellFromNode: cannot get cell - "+e.className;return parseInt(t[0].substr(1,t[0].length-1),10)}function getRowFromNode(e){for(var t in rowsCache){var o=rowsCache[t].rowNode;if(o.frozen===e||o.nonFrozen===e)return 0|t}return null}function getCanvasFromEvent(e){return jQuery(e.target).closest(".grid-canvas")}function getCellFromEvent(e){var t=getCanvasFromEvent(e),o=$(e.target).closest(".slick-cell",t);if(!o.length)return null;var n=getRowFromNode(o[0].parentNode),l=getCellFromNode(o[0]);return null==n||null==l?null:{row:n,cell:l}}function getCellNodeBox(e,t){if(!cellExists(e,t))return null;for(var o=getRowTop(e),n=o+options.rowHeight-1,l=0,i=0;t>i;i++)l+=columns[i].width;var r=l+columns[t].width;return{top:o,left:l,bottom:n,right:r}}function resetActiveCell(){setActiveCellInternal(null,!1)}function setFocus(){-1==tabbingDirection?$focusSink[0].focus():$focusSink2[0].focus()}function scrollCellIntoView(e,t,o){scrollRowIntoView(e,o);var n=getColspan(e,t),l=columnPosLeft[t],i=columnPosRight[t+(n>1?n-1:0)],r=scrollLeft+viewportW_1;scrollLeft>l?($viewport_1.scrollLeft(l),handleScroll(),render()):i>r&&($viewport_1.scrollLeft(Math.min(l,i-$viewport_1[0].clientWidth)),handleScroll(),render())}function setActiveCellInternal(e,t){null!==activeCellNode&&(makeActiveCellNormal(),$(activeCellNode).removeClass("active"),rowsCache[activeRow]&&($(rowsCache[activeRow].rowNode.frozen).removeClass("active"),$(rowsCache[activeRow].rowNode.nonFrozen).removeClass("active")));var o=activeCellNode!==e;activeCellNode=e,null!=activeCellNode?(activeRow=getRowFromNode(activeCellNode.parentNode),activeCell=activePosX=getCellFromNode(activeCellNode),null==t&&(t=activeRow==getDataLength()||options.autoEdit),$(activeCellNode).addClass("active"),$(rowsCache[activeRow].rowNode.frozen).addClass("active"),$(rowsCache[activeRow].rowNode.nonFrozen).addClass("active"),options.editable&&t&&isCellPotentiallyEditable(activeRow,activeCell)&&(clearTimeout(h_editorLoader),options.asyncEditorLoading?h_editorLoader=setTimeout(function(){makeActiveCellEditable()},options.asyncEditorLoadDelay):makeActiveCellEditable())):activeRow=activeCell=null,o&&trigger(self.onActiveCellChanged,getActiveCell())}function clearTextSelection(){if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}else if(window.getSelection){var t=window.getSelection();t&&t.removeAllRanges&&t.removeAllRanges()}}function isCellPotentiallyEditable(e,t){return e<getDataLength()&&!getDataItem(e)?!1:columns[t].cannotTriggerInsert&&e>=getDataLength()?!1:getEditor(e,t)?!0:!1}function makeActiveCellNormal(){if(currentEditor){if(trigger(self.onBeforeCellEditorDestroy,{editor:currentEditor}),currentEditor.destroy(),currentEditor=null,activeCellNode){var e=getDataItem(activeRow);if($(activeCellNode).removeClass("editable invalid"),e){var t=columns[activeCell],o=getFormatter(activeRow,t);activeCellNode.innerHTML=o(activeRow,activeCell,getDataItemValueForColumn(e,t),t,e),invalidatePostProcessingResults(activeRow)}}navigator.userAgent.toLowerCase().match(/msie/)&&clearTextSelection(),getEditorLock().deactivate(editController)}}function makeActiveCellEditable(e){if(activeCellNode){if(!options.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";if(clearTimeout(h_editorLoader),isCellPotentiallyEditable(activeRow,activeCell)){var t=columns[activeCell],o=getDataItem(activeRow);if(trigger(self.onBeforeEditCell,{row:activeRow,cell:activeCell,item:o,column:t})===!1)return void setFocus();getEditorLock().activate(editController),$(activeCellNode).addClass("editable"),e||(activeCellNode.innerHTML=""),currentEditor=new(e||getEditor(activeRow,activeCell))({grid:self,gridPosition:absBox($outerContainer[0]),position:absBox(activeCellNode),container:activeCellNode,column:t,item:o||{},commitChanges:commitEditAndSetFocus,cancelChanges:cancelEditAndSetFocus,maxLength:columns[activeCell].maxLength}),o&&currentEditor.loadValue(o),serializedEditorValue=currentEditor.serializeValue(),currentEditor.position&&handleActiveCellPositionChange()}}}function commitEditAndSetFocus(){getEditorLock().commitCurrentEdit()&&(setFocus(),options.autoEdit&&navigateDown())}function cancelEditAndSetFocus(){getEditorLock().cancelCurrentEdit()&&setFocus()}function absBox(e){var t={top:e.offsetTop,left:e.offsetLeft,bottom:0,right:0,width:$(e).outerWidth(),height:$(e).outerHeight(),visible:!0};t.bottom=t.top+t.height,t.right=t.left+t.width;for(var o=e.offsetParent;(e=e.parentNode)!=document.body;)t.visible&&e.scrollHeight!=e.offsetHeight&&"visible"!=$(e).css("overflowY")&&(t.visible=t.bottom>e.scrollTop&&t.top<e.scrollTop+e.clientHeight),t.visible&&e.scrollWidth!=e.offsetWidth&&"visible"!=$(e).css("overflowX")&&(t.visible=t.right>e.scrollLeft&&t.left<e.scrollLeft+e.clientWidth),t.left-=e.scrollLeft,t.top-=e.scrollTop,e===o&&(t.left+=e.offsetLeft,t.top+=e.offsetTop,o=e.offsetParent),t.bottom=t.top+t.height,t.right=t.left+t.width;return t}function getActiveCellPosition(){return absBox(activeCellNode)}function getGridPosition(){return absBox($outerContainer[0])}function handleActiveCellPositionChange(){if(activeCellNode&&(trigger(self.onActiveCellPositionChanged,{}),currentEditor)){var e=getActiveCellPosition();currentEditor.show&&currentEditor.hide&&(e.visible?currentEditor.show():currentEditor.hide()),currentEditor.position&&currentEditor.position(e)}}function getCellEditor(){return currentEditor}function getActiveCell(){return activeCellNode?{row:activeRow,cell:activeCell}:null}function getActiveCellNode(){return activeCellNode}function scrollRowIntoView(e,t){var o=e*options.rowHeight,n=(e+1)*options.rowHeight-viewportH_1+(viewportHasHScroll_1?scrollbarDimensions.height:0);(e+1)*options.rowHeight>scrollTop+viewportH_1+offset?(scrollTo(t?o:n),render()):e*options.rowHeight<scrollTop+offset&&(scrollTo(t?n:o),render())}function scrollRowToTop(e){scrollTo(e*options.rowHeight),render()}function scrollPage(e){var t=e*numVisibleRows;if(scrollTo((getRowFromPosition(scrollTop)+t)*options.rowHeight),render(),options.enableCellNavigation&&null!=activeRow){var o=activeRow+t;o>=getDataLengthIncludingAddNew()&&(o=getDataLengthIncludingAddNew()-1),0>o&&(o=0);for(var n=0,l=null,i=activePosX;activePosX>=n;)canCellBeActive(o,n)&&(l=n),n+=getColspan(o,n);null!==l?(setActiveCellInternal(getCellNode(o,l)),activePosX=i):resetActiveCell()}}function navigatePageDown(){scrollPage(1)}function navigatePageUp(){scrollPage(-1)}function getColspan(e,t){var o=data.getItemMetadata&&data.getItemMetadata(e);if(!o||!o.columns)return 1;var n=o.columns[columns[t].id]||o.columns[t],l=n&&n.colspan;return l="*"===l?columns.length-t:l||1}function findFirstFocusableCell(e){for(var t=0;t<columns.length;){if(canCellBeActive(e,t))return t;t+=getColspan(e,t)}return null}function findLastFocusableCell(e){for(var t=0,o=null;t<columns.length;)canCellBeActive(e,t)&&(o=t),t+=getColspan(e,t);return o}function gotoRight(e,t){if(t>=columns.length)return null;do t+=getColspan(e,t);while(t<columns.length&&!canCellBeActive(e,t));return t<columns.length?{row:e,cell:t,posX:t}:null}function gotoLeft(e,t){if(0>=t)return null;var o=findFirstFocusableCell(e);if(null===o||o>=t)return null;for(var n,l={row:e,cell:o,posX:o};;){if(n=gotoRight(l.row,l.cell,l.posX),!n)return null;if(n.cell>=t)return l;l=n}}function gotoDown(e,t,o){for(var n;;){if(++e>=getDataLengthIncludingAddNew())return null;for(n=t=0;o>=t;)n=t,t+=getColspan(e,t);if(canCellBeActive(e,n))return{row:e,cell:n,posX:o}}}function gotoUp(e,t,o){for(var n;;){if(--e<0)return null;for(n=t=0;o>=t;)n=t,t+=getColspan(e,t);if(canCellBeActive(e,n))return{row:e,cell:n,posX:o}}}function gotoNext(e,t,o){if(null==e&&null==t&&(e=t=o=0,canCellBeActive(e,t)))return{row:e,cell:t,posX:t};var n=gotoRight(e,t,o);if(n)return n;for(var l=null;++e<getDataLengthIncludingAddNew();)if(l=findFirstFocusableCell(e),null!==l)return{row:e,cell:l,posX:l};return null}function gotoPrev(e,t,o){if(null==e&&null==t&&(e=getDataLengthIncludingAddNew()-1,t=o=columns.length-1,canCellBeActive(e,t)))return{row:e,cell:t,posX:t};for(var n,l;!n&&!(n=gotoLeft(e,t,o));){if(--e<0)return null;t=0,l=findLastFocusableCell(e),null!==l&&(n={row:e,cell:l,posX:l})}return n}function navigateRight(){return navigate("right")}function navigateLeft(){return navigate("left")}function navigateDown(){return navigate("down")}function navigateUp(){return navigate("up")}function navigateNext(){return navigate("next")}function navigatePrev(){return navigate("prev")}function navigate(e){if(!options.enableCellNavigation)return!1;if(!activeCellNode&&"prev"!=e&&"next"!=e)return!1;if(!getEditorLock().commitCurrentEdit())return!0;setFocus();var t={up:-1,down:1,left:-1,right:1,prev:-1,next:1};tabbingDirection=t[e];var o={up:gotoUp,down:gotoDown,left:gotoLeft,right:gotoRight,prev:gotoPrev,next:gotoNext},n=o[e],l=n(activeRow,activeCell,activePosX);if(l){var i=l.row==getDataLength();return scrollCellIntoView(l.row,l.cell,!i),setActiveCellInternal(getCellNode(l.row,l.cell)),activePosX=l.posX,!0}return setActiveCellInternal(getCellNode(activeRow,activeCell)),!1}function getCellNode(e,t){return rowsCache[e]?(ensureCellNodesInRowsCache(e),rowsCache[e].cellNodesByColumnIdx[t]):null}function setActiveCell(e,t){initialized&&(e>getDataLength()||0>e||t>=columns.length||0>t||options.enableCellNavigation&&(scrollCellIntoView(e,t,!1),setActiveCellInternal(getCellNode(e,t),!1)))}function canCellBeActive(e,t){if(!options.enableCellNavigation||e>=getDataLengthIncludingAddNew()||0>e||t>=columns.length||0>t)return!1;var o=data.getItemMetadata&&data.getItemMetadata(e);if(o&&"boolean"==typeof o.focusable)return o.focusable;var n=o&&o.columns;return n&&n[columns[t].id]&&"boolean"==typeof n[columns[t].id].focusable?n[columns[t].id].focusable:n&&n[t]&&"boolean"==typeof n[t].focusable?n[t].focusable:columns[t].focusable}function canCellBeSelected(e,t){if(e>=getDataLength()||0>e||t>=columns.length||0>t)return!1;var o=data.getItemMetadata&&data.getItemMetadata(e);if(o&&"boolean"==typeof o.selectable)return o.selectable;var n=o&&o.columns&&(o.columns[columns[t].id]||o.columns[t]);return n&&"boolean"==typeof n.selectable?n.selectable:columns[t].selectable}function gotoCell(e,t,o){if(initialized&&canCellBeActive(e,t)&&getEditorLock().commitCurrentEdit()){scrollCellIntoView(e,t,!1);var n=getCellNode(e,t);setActiveCellInternal(n,o||e===getDataLength()||options.autoEdit),currentEditor||setFocus()}}function commitCurrentEdit(){var e=getDataItem(activeRow),t=columns[activeCell];if(currentEditor){if(currentEditor.isValueChanged()){var o=currentEditor.validate();if(o.valid){if(activeRow<getDataLength()){var n={row:activeRow,cell:activeCell,editor:currentEditor,serializedValue:currentEditor.serializeValue(),prevSerializedValue:serializedEditorValue,execute:function(){this.editor.applyValue(e,this.serializedValue),updateRow(this.row)},undo:function(){this.editor.applyValue(e,this.prevSerializedValue),updateRow(this.row)}};options.editCommandHandler?(makeActiveCellNormal(),options.editCommandHandler(e,t,n)):(n.execute(),makeActiveCellNormal()),trigger(self.onCellChange,{row:activeRow,cell:activeCell,column:t,item:e})}else{var l={};currentEditor.applyValue(l,currentEditor.serializeValue()),makeActiveCellNormal(),trigger(self.onAddNewRow,{item:l,column:t})}return!getEditorLock().isActive()}return $(activeCellNode).removeClass("invalid"),$(activeCellNode).width(),$(activeCellNode).addClass("invalid"),trigger(self.onValidationError,{editor:currentEditor,cellNode:activeCellNode,validationResults:o,row:activeRow,cell:activeCell,column:t}),currentEditor.focus(),!1}makeActiveCellNormal()}return!0}function cancelCurrentEdit(){return makeActiveCellNormal(),!0}function rowsToRanges(e){for(var t=[],o=columns.length-1,n=0;n<e.length;n++)t.push(new Slick.Range(e[n],0,e[n],o));return t}function getSelectedRows(){if(!selectionModel)throw"Selection model is not set";
return selectedRows}function setSelectedRows(e){if(!selectionModel)throw"Selection model is not set";selectionModel.setSelectedRanges(rowsToRanges(e))}var defaults={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,autoHeight:!1,editorLock:Slick.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:defaultFormatter,forceSyncScrolling:!1,numberOfColumnsToFreeze:0},columnDefaults={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},th,h,ph,n,cj,page=0,offset=0,vScrollDir=1,initialized=!1,uid="slickgrid_"+Math.round(1e6*Math.random()),self=this,$focusSink,$focusSink2,$outerContainer,$container_0,$container_1,$headerScroller_0,$headerScroller_1,$headers_0,$headers_1,$headerRow_0,$headerRow_1,$headerRowScroller_0,$headerRowScroller_1,$headerRowSpacer_0,$headerRowSpacer_1,$topPanelScroller_0,$topPanelScroller_1,$topPanel_0,$topPanel_1,$viewport_0,$viewport_1,$canvas_0,$canvas_1,canvasWidth_0,canvasWidth_1,$style,$boundAncestors,stylesheet,columnCssRulesL,columnCssRulesR,viewportH_1,viewportW_1,viewportHasHScroll_1,viewportHasVScroll_1,headerColumnWidthDiff=0,headerColumnHeightDiff=0,cellWidthDiff=0,cellHeightDiff=0,absoluteColumnMinWidth,numberOfRows=0,tabbingDirection=1,activePosX,activeRow,activeCell,activeCellNode=null,currentEditor=null,serializedEditorValue,editController,rowsCache={},renderedRows=0,numVisibleRows,prevScrollTop=0,scrollTop=0,lastRenderedScrollTop=0,lastRenderedScrollLeft=0,prevScrollLeft=0,scrollLeft=0,selectionModel,selectedRows=[],plugins=[],cellCssClasses={},columnsById={},sortColumns=[],columnPosLeft=[],columnPosRight=[],h_editorLoader=null,h_render=null,h_postrender=null,postProcessedRows={},postProcessToRow=null,postProcessFromRow=null,counter_rows_rendered=0,counter_rows_removed=0;this.debug=function(){var e="";e+="\ncounter_rows_rendered:  "+counter_rows_rendered,e+="\ncounter_rows_removed:  "+counter_rows_removed,e+="\nrenderedRows:  "+renderedRows,e+="\nnumVisibleRows:  "+numVisibleRows,e+="\nmaxSupportedCssHeight:  "+maxSupportedCssHeight,e+="\nn(umber of pages):  "+n,e+="\n(current) page:  "+page,e+="\npage height (ph):  "+ph,e+="\nvScrollDir:  "+vScrollDir,alert(e)},this.eval=function(expr){return eval(expr)},$.extend(this,{slickGridVersion:"2.1",onScroll:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,onHeaderCellRendered:new Slick.Event,onBeforeHeaderCellDestroy:new Slick.Event,onHeaderRowCellRendered:new Slick.Event,onBeforeHeaderRowCellDestroy:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsResized:new Slick.Event,onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,onBeforeCellEditorDestroy:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,registerPlugin:registerPlugin,unregisterPlugin:unregisterPlugin,getColumns:getColumns,setColumns:setColumns,getColumnIndex:getColumnIndex,updateColumnHeader:updateColumnHeader,setNumberOfColumnsToFreeze:setNumberOfColumnsToFreeze,setSortColumn:setSortColumn,setSortColumns:setSortColumns,getSortColumns:getSortColumns,autosizeColumns:autosizeColumns,getOptions:getOptions,setOptions:setOptions,getData:getData,getDataLength:getDataLength,getDataItem:getDataItem,setData:setData,getSelectionModel:getSelectionModel,setSelectionModel:setSelectionModel,getSelectedRows:getSelectedRows,setSelectedRows:setSelectedRows,getContainerNode:getContainerNode,render:render,invalidate:invalidate,invalidateRow:invalidateRow,invalidateRows:invalidateRows,invalidateAllRows:invalidateAllRows,updateCell:updateCell,updateRow:updateRow,getViewport:getVisibleRange,getRenderedRange:getRenderedRange,resizeCanvas:resizeCanvas,updateRowCount:updateRowCount,scrollRowIntoView:scrollRowIntoView,scrollRowToTop:scrollRowToTop,scrollCellIntoView:scrollCellIntoView,getCanvasNode:getCanvasNode,focus:setFocus,getCellFromPoint:getCellFromPoint,getCellFromEvent:getCellFromEvent,getActiveCell:getActiveCell,setActiveCell:setActiveCell,getActiveCellNode:getActiveCellNode,getActiveCellPosition:getActiveCellPosition,resetActiveCell:resetActiveCell,editActiveCell:makeActiveCellEditable,getCellEditor:getCellEditor,getCellNode:getCellNode,getCellNodeBox:getCellNodeBox,canCellBeSelected:canCellBeSelected,canCellBeActive:canCellBeActive,navigatePrev:navigatePrev,navigateNext:navigateNext,navigateUp:navigateUp,navigateDown:navigateDown,navigateLeft:navigateLeft,navigateRight:navigateRight,navigatePageUp:navigatePageUp,navigatePageDown:navigatePageDown,gotoCell:gotoCell,getTopPanel:getTopPanel,setTopPanelVisibility:setTopPanelVisibility,setHeaderRowVisibility:setHeaderRowVisibility,getHeaderRow:getHeaderRow,getHeaderRowColumn:getHeaderRowColumn,getGridPosition:getGridPosition,flashCell:flashCell,addCellCssStyles:addCellCssStyles,setCellCssStyles:setCellCssStyles,removeCellCssStyles:removeCellCssStyles,getCellCssStyles:getCellCssStyles,getUID:getUID,init:finishInitialization,destroy:destroy,getEditorLock:getEditorLock,getEditController:getEditController}),init()}$.extend(!0,window,{Slick:{Grid:SlickGrid}});var scrollbarDimensions,maxSupportedCssHeight}(jQuery)}),define("vendor/slickgrid/slick.editors",["jquery","vendor/slickgrid/slick.core"],function(e){!function(e){function t(t){var o,n;this.init=function(){o=e("<INPUT type=text class='editor-text' />").appendTo(t.container).bind("keydown.nav",function(t){(t.keyCode===e.ui.keyCode.LEFT||t.keyCode===e.ui.keyCode.RIGHT)&&t.stopImmediatePropagation()}).focus().select()},this.destroy=function(){o.remove()},this.focus=function(){o.focus()},this.getValue=function(){return o.val()},this.setValue=function(e){o.val(e)},this.loadValue=function(e){n=e[t.column.field]||"",o.val(n),o[0].defaultValue=n,o.select()},this.serializeValue=function(){return o.val()},this.applyValue=function(e,o){e[t.column.field]=o},this.isValueChanged=function(){return!(""==o.val()&&null==n)&&o.val()!=n},this.validate=function(){if(t.column.validator){var e=t.column.validator(o.val());if(!e.valid)return e}return{valid:!0,msg:null}},this.init()}function o(t){var o,n;this.init=function(){o=e("<INPUT type=text class='editor-text' />"),o.bind("keydown.nav",function(t){(t.keyCode===e.ui.keyCode.LEFT||t.keyCode===e.ui.keyCode.RIGHT)&&t.stopImmediatePropagation()}),o.appendTo(t.container),o.focus().select()},this.destroy=function(){o.remove()},this.focus=function(){o.focus()},this.loadValue=function(e){n=e[t.column.field],o.val(n),o[0].defaultValue=n,o.select()},this.serializeValue=function(){return parseInt(o.val(),10)||0},this.applyValue=function(e,o){e[t.column.field]=o},this.isValueChanged=function(){return!(""==o.val()&&null==n)&&o.val()!=n},this.validate=function(){return isNaN(o.val())?{valid:!1,msg:"Please enter a valid integer"}:{valid:!0,msg:null}},this.init()}function n(t){var o,n,l=!1;this.init=function(){o=e("<INPUT type=text class='editor-text' />"),o.appendTo(t.container),o.focus().select(),o.datepicker({showOn:"button",buttonImageOnly:!0,buttonImage:"../images/calendar.gif",beforeShow:function(){l=!0},onClose:function(){l=!1}}),o.width(o.width()-18)},this.destroy=function(){e.datepicker.dpDiv.stop(!0,!0),o.datepicker("hide"),o.datepicker("destroy"),o.remove()},this.show=function(){l&&e.datepicker.dpDiv.stop(!0,!0).show()},this.hide=function(){l&&e.datepicker.dpDiv.stop(!0,!0).hide()},this.position=function(t){l&&e.datepicker.dpDiv.css("top",t.top+30).css("left",t.left)},this.focus=function(){o.focus()},this.loadValue=function(e){n=e[t.column.field],o.val(n),o[0].defaultValue=n,o.select()},this.serializeValue=function(){return o.val()},this.applyValue=function(e,o){e[t.column.field]=o},this.isValueChanged=function(){return!(""==o.val()&&null==n)&&o.val()!=n},this.validate=function(){return{valid:!0,msg:null}},this.init()}function l(t){var o,n;this.init=function(){o=e("<SELECT tabIndex='0' class='editor-yesno'><OPTION value='yes'>Yes</OPTION><OPTION value='no'>No</OPTION></SELECT>"),o.appendTo(t.container),o.focus()},this.destroy=function(){o.remove()},this.focus=function(){o.focus()},this.loadValue=function(e){o.val((n=e[t.column.field])?"yes":"no"),o.select()},this.serializeValue=function(){return"yes"==o.val()},this.applyValue=function(e,o){e[t.column.field]=o},this.isValueChanged=function(){return o.val()!=n},this.validate=function(){return{valid:!0,msg:null}},this.init()}function i(t){var o,n;this.init=function(){o=e("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>"),o.appendTo(t.container),o.focus()},this.destroy=function(){o.remove()},this.focus=function(){o.focus()},this.loadValue=function(e){n=!!e[t.column.field],n?o.prop("checked",!0):o.prop("checked",!1)},this.serializeValue=function(){return o.prop("checked")},this.applyValue=function(e,o){e[t.column.field]=o},this.isValueChanged=function(){return this.serializeValue()!==n},this.validate=function(){return{valid:!0,msg:null}},this.init()}function r(t){var o,n,l;this.init=function(){o=e("<INPUT type=text class='editor-percentcomplete' />"),o.width(e(t.container).innerWidth()-25),o.appendTo(t.container),n=e("<div class='editor-percentcomplete-picker' />").appendTo(t.container),n.append("<div class='editor-percentcomplete-helper'><div class='editor-percentcomplete-wrapper'><div class='editor-percentcomplete-slider' /><div class='editor-percentcomplete-buttons' /></div></div>"),n.find(".editor-percentcomplete-buttons").append("<button val=0>Not started</button><br/><button val=50>In Progress</button><br/><button val=100>Complete</button>"),o.focus().select(),n.find(".editor-percentcomplete-slider").slider({orientation:"vertical",range:"min",value:l,slide:function(e,t){o.val(t.value)}}),n.find(".editor-percentcomplete-buttons button").bind("click",function(){o.val(e(this).attr("val")),n.find(".editor-percentcomplete-slider").slider("value",e(this).attr("val"))})},this.destroy=function(){o.remove(),n.remove()},this.focus=function(){o.focus()},this.loadValue=function(e){o.val(l=e[t.column.field]),o.select()},this.serializeValue=function(){return parseInt(o.val(),10)||0},this.applyValue=function(e,o){e[t.column.field]=o},this.isValueChanged=function(){return!(""==o.val()&&null==l)&&(parseInt(o.val(),10)||0)!=l},this.validate=function(){return isNaN(parseInt(o.val(),10))?{valid:!1,msg:"Please enter a valid positive number"}:{valid:!0,msg:null}},this.init()}function a(t){var o,n,l,i=this;this.init=function(){var l=e("body");n=e("<DIV style='z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/>").appendTo(l),o=e("<TEXTAREA hidefocus rows=5 style='backround:white;width:250px;height:80px;border:0;outline:0'>").appendTo(n),e("<DIV style='text-align:right'><BUTTON>Save</BUTTON><BUTTON>Cancel</BUTTON></DIV>").appendTo(n),n.find("button:first").bind("click",this.save),n.find("button:last").bind("click",this.cancel),o.bind("keydown",this.handleKeyDown),i.position(t.position),o.focus().select()},this.handleKeyDown=function(o){o.which==e.ui.keyCode.ENTER&&o.ctrlKey?i.save():o.which==e.ui.keyCode.ESCAPE?(o.preventDefault(),i.cancel()):o.which==e.ui.keyCode.TAB&&o.shiftKey?(o.preventDefault(),t.grid.navigatePrev()):o.which==e.ui.keyCode.TAB&&(o.preventDefault(),t.grid.navigateNext())},this.save=function(){t.commitChanges()},this.cancel=function(){o.val(l),t.cancelChanges()},this.hide=function(){n.hide()},this.show=function(){n.show()},this.position=function(e){n.css("top",e.top-5).css("left",e.left-5)},this.destroy=function(){n.remove()},this.focus=function(){o.focus()},this.loadValue=function(e){o.val(l=e[t.column.field]),o.select()},this.serializeValue=function(){return o.val()},this.applyValue=function(e,o){e[t.column.field]=o},this.isValueChanged=function(){return!(""==o.val()&&null==l)&&o.val()!=l},this.validate=function(){return{valid:!0,msg:null}},this.init()}e.extend(!0,window,{Slick:{Editors:{Text:t,Integer:o,Date:n,YesNoSelect:l,Checkbox:i,PercentComplete:r,LongText:a}}})}(e)}),define("vendor/slickgrid/plugins/slick.rowselectionmodel",["jquery","vendor/slickgrid/slick.core"],function(e){!function(e){function t(t){function o(o){m=e.extend(!0,{},R,t),v=o,b.subscribe(v.onActiveCellChanged,l(h)),b.subscribe(v.onKeyDown,l(f)),b.subscribe(v.onClick,l(p))}function n(){b.unsubscribeAll()}function l(e){return function(){g||(g=!0,e.apply(this,arguments),g=!1)}}function i(e){for(var t=[],o=0;o<e.length;o++)for(var n=e[o].fromRow;n<=e[o].toRow;n++)t.push(n);return t}function r(e){for(var t=[],o=v.getColumns().length-1,n=0;n<e.length;n++)t.push(new Slick.Range(e[n],0,e[n],o));return t}function a(e,t){var o,n=[];for(o=e;t>=o;o++)n.push(o);for(o=t;e>o;o++)n.push(o);return n}function s(){return i(C)}function c(e){d(r(e))}function d(e){C=e,w.onSelectedRangesChanged.notify(C)}function u(){return C}function h(e,t){m.selectActiveRow&&null!=t.row&&d([new Slick.Range(t.row,0,t.row,v.getColumns().length-1)])}function f(e){var t=v.getActiveCell();if(t&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&(38==e.which||40==e.which)){var o=s();o.sort(function(e,t){return e-t}),o.length||(o=[t.row]);var n,l=o[0],i=o[o.length-1];n=40==e.which?t.row<i||l==i?++i:++l:t.row<i?--i:--l,n>=0&&n<v.getDataLength()&&(v.scrollRowIntoView(n),C=r(a(l,i)),d(C)),e.preventDefault(),e.stopPropagation()}}function p(t){var o=v.getCellFromEvent(t);if(!o||!v.canCellBeActive(o.row,o.cell))return!1;var n=i(C),l=e.inArray(o.row,n);if(!(t.ctrlKey||t.shiftKey||t.metaKey))return!1;if(v.getOptions().multiSelect)if(-1===l&&(t.ctrlKey||t.metaKey))n.push(o.row),v.setActiveCell(o.row,o.cell);else if(-1!==l&&(t.ctrlKey||t.metaKey))n=e.grep(n,function(e){return e!==o.row}),v.setActiveCell(o.row,o.cell);else if(n.length&&t.shiftKey){var a=n.pop(),s=Math.min(o.row,a),c=Math.max(o.row,a);n=[];for(var u=s;c>=u;u++)u!==a&&n.push(u);n.push(a),v.setActiveCell(o.row,o.cell)}return C=r(n),d(C),t.stopImmediatePropagation(),!0}var v,g,m,C=[],w=this,b=new Slick.EventHandler,R={selectActiveRow:!0};e.extend(this,{getSelectedRows:s,setSelectedRows:c,getSelectedRanges:u,setSelectedRanges:d,init:o,destroy:n,onSelectedRangesChanged:new Slick.Event})}e.extend(!0,window,{Slick:{RowSelectionModel:t}})}(e)}),define("vendor/slickgrid",["vendor/slickgrid/slick.grid","vendor/slickgrid/slick.editors","vendor/slickgrid/plugins/slick.rowselectionmodel"],function(){return Slick}),function(){require(["vendor/slickgrid"])}.call(this),define("compiled/bundles/slickgrid",function(){});
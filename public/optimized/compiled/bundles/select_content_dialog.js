define("translations/select_content_dialog",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{select_content_dialog:{buttons:{add_item:"إضافة عنصر"},errors:{external_tool_url:"لا يمكن حفظ إحدى الأدوات الخارجية بدون أحد عناوين URL.",failed_to_create_item:"فشل إنشاء عنصر جديد",loading_failed:"فشل التحميل"},invalid_lti_resource_selection:"توجد مشكلة أثناء استرداد ارتباط صالح من الأداة الخارجية",link_from_external_tool:"ربط المورد من الأداة الخارجية",titles:{add_item_to_module:"إضافة العنصر إلى الوحدة",find_links_using_service:"بحث عن ارتبطات باستخدام %{service}"}}},de:{select_content_dialog:{buttons:{add_item:"Element hinzufügen"},errors:{external_tool_url:"Ein externes Tool kann ohne URL nicht gespeichert werden.",failed_to_create_item:"Neues Element konnte nicht erstellt werden",loading_failed:"Ladevorgang fehlgeschlagen"},invalid_lti_resource_selection:"Beim Abrufen eines gültigen Links des externen Tools ist ein Problem aufgetreten",link_from_external_tool:"Linkressource von externem Tool",titles:{add_item_to_module:"Element zum Modul hinzufügen",find_links_using_service:"Links suchen mithilfe von %{service}"}}},"en-AU":{select_content_dialog:{buttons:{add_item:"Add Item"},errors:{external_tool_url:"An external tool can't be saved without a URL.",failed_to_create_item:"Failed to Create new Item",loading_failed:"Loading Failed"},invalid_lti_resource_selection:"There was a problem retrieving a valid link from the external tool",link_from_external_tool:"Link Resource from External Tool",titles:{add_item_to_module:"Add Item to Module",find_links_using_service:"Find links using %{service}"}}},"en-GB":{select_content_dialog:{buttons:{add_item:"Add item"},errors:{external_tool_url:"An external tool can't be saved without a URL.",failed_to_create_item:"Failed to create new Item",loading_failed:"Loading failed"},invalid_lti_resource_selection:"There was a problem retrieving a valid link from the external tool",link_from_external_tool:"Link resource from external tool",titles:{add_item_to_module:"Add item to module",find_links_using_service:"Find links using %{service}"}}},es:{select_content_dialog:{buttons:{add_item:"Agregar Elemento"},errors:{external_tool_url:"No se puede guardar una herramienta externa sin una URL.",failed_to_create_item:"No se pudo crear un elemento nuevo",loading_failed:"No se pudo cargar"},invalid_lti_resource_selection:"Ha habido un problema al recuperar un enlace válido de una herramienta externa",link_from_external_tool:"Recurso de enlace de una herramienta externa",titles:{add_item_to_module:"Agregar Elemento al Módulo",find_links_using_service:"Encontrar enlaces usando %{service}"}}},"fa-IR":{select_content_dialog:{buttons:{add_item:"افزودن مورد"},errors:{external_tool_url:"یک ابزار خارجی را بدون نشانی اینترنتی نمی توان ذخیره کرد.",failed_to_create_item:"ایجاد مورد جدید انجام نشد",loading_failed:"بارگذاری انجام نشد"},invalid_lti_resource_selection:"در هنگام بازیابی یک پیوند معتبر از ابزار بیرونی اشکالی رخ داد",link_from_external_tool:"پیوند دادن به منبع از ابزار بیرونی",titles:{add_item_to_module:"افزودن مورد به ماژول",find_links_using_service:"یافتن پیوندها با استفاده از %{service}"}}},fr:{select_content_dialog:{buttons:{add_item:"Ajouter un élément"},errors:{external_tool_url:"Impossible d’enregistrer un outil externe sans URL.",failed_to_create_item:"Échec de création d’un élément",loading_failed:"Échec du chargement"},invalid_lti_resource_selection:"Un problème s’est produit pendant la récupération d’un lien valide de l’outil externe.",link_from_external_tool:"Source de lien de l’outil externe",titles:{add_item_to_module:"Ajouter un élément au module",find_links_using_service:"Chercher des liens à l’aide de %{service}"}}},ja:{select_content_dialog:{buttons:{add_item:"アイテムの追加"},errors:{external_tool_url:"URL を指定しないと、外部ツールを保存できません。",failed_to_create_item:"新しいアイテムの作成に失敗しました",loading_failed:"読み込みに失敗しました"},invalid_lti_resource_selection:"外部ツールから有効なリンクを取得する際に問題が発生しました",link_from_external_tool:"外部ツールからリソースをリンク",titles:{add_item_to_module:"モジュールにアイテムを追加",find_links_using_service:"%{service} を使用してリンクを検索"}}},ko:{select_content_dialog:{buttons:{add_item:"항목 추가"},errors:{external_tool_url:"외부 도구는 URL이 없이 저장할 수 없습니다.",failed_to_create_item:"새 항목 만들기 실패",loading_failed:"로드 실패"},invalid_lti_resource_selection:"외부 도구에서 유효한 링크를 찾아오는 데 문제가 발생했습니다.",link_from_external_tool:"외부 도구에서 리소스 링크",titles:{add_item_to_module:"모듈에 항목 추가",find_links_using_service:"%{service}을(를) 이용해서 링크 찾기"}}},nb:{select_content_dialog:{buttons:{add_item:"Legg til punkt"},errors:{external_tool_url:"Et eksternt verktøy kan ikke lagres uten en URL.",failed_to_create_item:"Oppretting av element mislyktes",loading_failed:"Lasting mislyktes"},invalid_lti_resource_selection:"Et problem oppsto under henting av en gyldig lenke fra det eksterne verktøyet",link_from_external_tool:"Lenkeressurs fra eksternt verktøy",titles:{add_item_to_module:"Legg til element i modul",find_links_using_service:"Finner lenker med %{service}"}}},nl:{select_content_dialog:{buttons:{add_item:"Item toevoegen"},errors:{external_tool_url:"Een extern hulpmiddel kan niet zonder URL  worden opgeslagen.",failed_to_create_item:"Nieuwe item maken mislukt",loading_failed:"Laden mislukt"},invalid_lti_resource_selection:"Er is een probleem opgetreden bij het ophalen van de juiste koppeling vanuit het externe hulpmiddel",link_from_external_tool:"Bron koppelen vanuit extern hulpprogramma",titles:{add_item_to_module:"Item aan module toevoegen",find_links_using_service:"Koppelingen zoeken met %{service}"}}},pl:{select_content_dialog:{buttons:{add_item:"Dodaj element"},errors:{external_tool_url:"Nie można zapisać narzędzia zewnętrznego bez adresu URL.",failed_to_create_item:"Tworzenie nowego elementu nie powiodło się",loading_failed:"Ładowanie nie powiodło się"},invalid_lti_resource_selection:"Wystąpił problem z pobieraniem prawidłowego łącza z narzędzia zewnętrznego",link_from_external_tool:"Połącz zasób z narzędzia zewnętrznego",titles:{add_item_to_module:"Dodaj element do modułu",find_links_using_service:"Znajdź łącza za pomocą %{service}"}}},pt:{select_content_dialog:{buttons:{add_item:"Adicionar item"},errors:{external_tool_url:"Não é possível guardar uma ferramenta externa sem um URL",failed_to_create_item:"Falha ao criar novo item",loading_failed:"Falha no carregamento"},invalid_lti_resource_selection:"Houve um problema ao recuperar um link válido de uma ferramenta externa",link_from_external_tool:"Associar recurso de ferramenta externa",titles:{add_item_to_module:"Adicionar item ao módulo",find_links_using_service:"Localizar link usando %{service}"}}},"pt-BR":{select_content_dialog:{buttons:{add_item:"Adicionar item"},errors:{external_tool_url:"Uma ferramenta externa não pode ser salva sem uma URL.",failed_to_create_item:"Falha ao criar novo item",loading_failed:"Falha no carregamento"},invalid_lti_resource_selection:"Houve um problema ao recuperar um link válido de uma ferramenta externa",link_from_external_tool:"Vincular recurso de ferramenta externa",titles:{add_item_to_module:"Adicionar item ao módulo",find_links_using_service:"Localizar link usando %{service}"}}},ru:{select_content_dialog:{buttons:{add_item:"Добавить элемент"},errors:{external_tool_url:"Внешний инструмент не может быть сохранен без URL-адреса.",failed_to_create_item:"Ошибка создания нового элемента",loading_failed:"Ошибка загрузки"},invalid_lti_resource_selection:"Ошибка получения действительной ссылки из внешнего инструмента",link_from_external_tool:"Ссылка на ресурс из внешнего инструмента",titles:{add_item_to_module:"Добавить элемент в модуль",find_links_using_service:"Поиск ссылок с помощью %{service}"}}},tr:{select_content_dialog:{buttons:{add_item:"Öğe Ekle"},errors:{external_tool_url:"URL olmadan dış araç kaydedilemiyor.",failed_to_create_item:"Yeni Öğe Oluşturma Başarısız",loading_failed:"Yükleme Başarısız Oldu"},invalid_lti_resource_selection:"Dış araçtan geçerli bir bağlantı alırken sorun meydana geldi",link_from_external_tool:"Harici Araçtan Kaynağa Link Ver",titles:{add_item_to_module:"Modüle Bir Öğe Ekle",find_links_using_service:"Bağlantıları %{service}'i kullanarak ara"}}},zh:{select_content_dialog:{buttons:{add_item:"添加项目"},errors:{external_tool_url:"没有 URL，无法保存外部工具。",failed_to_create_item:"无法创建新项目",loading_failed:"加载失败"},invalid_lti_resource_selection:"从外部工具检索有效链接时出现问题",link_from_external_tool:"从外部工具链接资源",titles:{add_item_to_module:"添加项目到单元",find_links_using_service:"使用 %{service} 查找链接"}}}}})}),define("translations/shared.add_assignment",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{shared:{add_assignment:{titles:{add_assignment:"إضافة المهمة"}}}},de:{shared:{add_assignment:{titles:{add_assignment:"Aufgabe hinzufügen"}}}},"en-AU":{shared:{add_assignment:{titles:{add_assignment:"Add Assignment"}}}},"en-GB":{shared:{add_assignment:{titles:{add_assignment:"Add assignment"}}}},es:{shared:{add_assignment:{titles:{add_assignment:"Agregar Tarea"}}}},"fa-IR":{shared:{add_assignment:{titles:{add_assignment:"افزودن تکلیف"}}}},fr:{shared:{add_assignment:{titles:{add_assignment:"Ajouter une tâche"}}}},ja:{shared:{add_assignment:{titles:{add_assignment:"課題の追加"}}}},ko:{shared:{add_assignment:{titles:{add_assignment:"과제 추가"}}}},nb:{shared:{add_assignment:{titles:{add_assignment:"Legg til oppgave"}}}},nl:{shared:{add_assignment:{titles:{add_assignment:"Opdracht toevoegen"}}}},pl:{shared:{add_assignment:{titles:{add_assignment:"Dodaj zadanie"}}}},pt:{shared:{add_assignment:{titles:{add_assignment:"Adicionar tarefa"}}}},"pt-BR":{shared:{add_assignment:{titles:{add_assignment:"Adicionar tarefa"}}}},ru:{shared:{add_assignment:{titles:{add_assignment:"Добавить задание"}}}},tr:{shared:{add_assignment:{titles:{add_assignment:"Ödev Ekle"}}}},zh:{shared:{add_assignment:{titles:{add_assignment:"添加作业"}}}}}})}),function(){define("compiled/legacy/add_assignment",["i18n!shared.add_assignment","jquery","jqueryui/dialog","jquery.instructure_misc_plugins"],function(e,t){return function(i,n,a,o){var l;return l=i,n=n||t("#add_assignment_inline_form").attr("action"),l.change(function(){return l=t(this),"new"===t(this).val()?t("#add_assignment_inline").show().dialog({title:e.t("titles.add_assignment","Add Assignment"),width:300,height:"auto",autoSize:!0,modal:!0,autoOpen:!1,overlay:{backgroundColor:"#000",opacity:.5},open:function(){var e;return o&&t.isFunction(o)&&(e=o.call(l),t("#add_assignment_inline_form :text:first").val(e)),t("#add_assignment_inline_form :text:first").focus().select(),t("#add_assignment_inline_form").find(".weight_assignment_groups").showIf(l.hasClass("weight")),t("#add_assignment_inline_form").data("group_select",l).data("group_selector",a||"").attr("action",n)},close:function(){return"new"===l.val()?l[0].selectedIndex=0:void 0}}).dialog("open").fixDialogButtons():void 0}),"new"===l.val()?l[0].selectedIndex=0:void 0}})}.call(this),define("select_content_dialog",["INST","i18n!select_content_dialog","jquery","compiled/legacy/add_assignment","jquery.instructure_date_and_time","jquery.ajaxJSON","jquery.instructure_forms","jqueryui/dialog","compiled/jquery/fixDialogButtons","jquery.instructure_misc_helpers","jquery.instructure_misc_plugins","jquery.keycodes","jquery.loadingImg","jquery.templateData"],function(e,t,i,n){i(document).ready(function(){i(".add_assignment_inline:not(:first)").remove(),i("#add_assignment_inline_form .datetime_field").not(".datetime_field_enabled").datetime_field(),i("#add_assignment_inline_form").formSubmit({beforeSubmit:function(){i("#add_assignment_inline").loadingImage()},success:function(e){i("#add_assignment_inline").loadingImage("remove");var t=e.assignment,n=i("#add_assignment_inline_form").data("group_select"),a=i("#add_assignment_inline_form").data("group_selector"),o=n;a&&(o=o.add(a)),o.each(function(){var e=i(document.createElement("option"));e.val(t.id).text(t.title),i(this).children("#assignment_group_optgroup_"+t.assignment_group_id).length>0?i(this).children("#assignment_group_optgroup_"+t.assignment_group_id).append(e):i(this).children("option:last").before(e)}),n.val(t.id).change(),i("#add_assignment_inline").dialog("close")}}),i("#add_assignment_inline .cancel_button").click(function(){i("#add_assignment_inline").dialog("close")})}),i(document).ready(function(){var a=null,o=i("#select_context_content_dialog");n(i("#assignments_select .module_item_select")),e=e||{},e.selectContentDialog=function(e){var e=e||{},n=e.for_modules,l=e.select_button_text||t.t("buttons.add_item","Add Item"),r=e.holder_name||"module",_=e.dialog_title||t.t("titles.add_item_to_module","Add Item to Module"),s=n;if(o.data("submitted_function",e.submit),o.find(".context_module_content").showIf(n),o.find(".holder_name").text(r),o.find(".add_item_button").text(l),o.find(".select_item_name").showIf(!e.no_name_input),s&&!a){var d=i("#content_tag_services").empty();i.getUserServices("BookmarkService",function(e){for(var n in e){service=e[n].user_service,$service=i("<a href='#' class='bookmark_service no-hover'/>"),$service.addClass(service.service),$service.data("service",service),$service.attr("title",t.t("titles.find_links_using_service","Find links using %{service}",{service:service.service}));var a=i("<img/>");a.attr("src","/images/"+service.service+"_small_icon.png"),$service.append(a),$service.click(function(e){e.preventDefault(),i.findLinkForService(i(this).data("service").service,function(e){i("#content_tag_create_url").val(e.url),i("#content_tag_create_title").val(e.title)})}),d.append($service),d.append("&nbsp;&nbsp;")}})}i("#select_context_content_dialog #external_urls_select :text").val(""),i("#select_context_content_dialog #context_module_sub_headers_select :text").val(""),i("#add_module_item_select").change(),i("#select_context_content_dialog .module_item_select").change(),i("#select_context_content_dialog").dialog({title:_,width:e.width||400,height:e.height||400}).fixDialogButtons(),i("#select_context_content_dialog").dialog("option","title",_)},i("#select_context_content_dialog .cancel_button").click(function(){o.find(".alert").remove(),o.dialog("close")}),i("#select_context_content_dialog select, #select_context_content_dialog input[type=text], .module_item_select").keycodes("return",function(e){i(e.currentTarget).blur(),i(this).parents(".ui-dialog").find(".add_item_button").last().click()}),i("#select_context_content_dialog .add_item_button").click(function(){var e=function(e){o.dialog("close"),o.find(".alert").remove();var t=o.data("submitted_function");t&&i.isFunction(t)&&t(e)},n=i("#add_module_item_select").val();if("external_url"==n){var a={"item[type]":i("#add_module_item_select").val(),"item[id]":i("#select_context_content_dialog .module_item_option:visible:first .module_item_select").val(),"item[new_tab]":i("#external_url_create_new_tab").attr("checked")?"1":"0","item[indent]":i("#content_tag_indent").val()};a["item[url]"]=i("#content_tag_create_url").val(),a["item[title]"]=i("#content_tag_create_title").val(),e(a)}else if("context_external_tool"==n){var a={"item[type]":i("#add_module_item_select").val(),"item[id]":i("#context_external_tools_select .tools .tool.selected").data("id"),"item[new_tab]":i("#external_tool_create_new_tab").attr("checked")?"1":"0","item[indent]":i("#content_tag_indent").val()};if(a["item[url]"]=i("#external_tool_create_url").val(),a["item[title]"]=i("#external_tool_create_title").val(),o.find(".alert-error").remove(),""===a["item[url]"]){var l=i("<div />",{"class":"alert alert-error",role:"alert"}).css({marginTop:8});l.text(t.t("errors.external_tool_url","An external tool can't be saved without a URL.")),o.prepend(l)}else e(a)}else if("context_module_sub_header"==n){var a={"item[type]":i("#add_module_item_select").val(),"item[id]":i("#select_context_content_dialog .module_item_option:visible:first .module_item_select").val(),"item[indent]":i("#content_tag_indent").val()};a["item[title]"]=i("#sub_header_title").val(),e(a)}else{var r=i("#select_context_content_dialog .module_item_option:visible:first .module_item_select option:selected");r.each(function(){var a=i(this),o={"item[type]":n,"item[id]":a.val(),"item[title]":a.text(),"item[indent]":i("#content_tag_indent").val()};if("new"==o["item[id]"]){i("#select_context_content_dialog").loadingImage();var l=i("#select_context_content_dialog .module_item_option:visible:first .new .add_item_url").attr("href"),r=i("#select_context_content_dialog .module_item_option:visible:first").getFormData(),_=function(t){var n;n="discussion_topic"===o["item[type]"]?t:t[o["item[type]"]],i("#select_context_content_dialog").loadingImage("remove"),o["item[id]"]=n.id,o["item[title]"]=i("#select_context_content_dialog .module_item_option:visible:first .item_title").val(),o["item[title]"]=o["item[title]"]||n.display_name;var a=i(document.createElement("option"));a.val(n.id).text(o["item[title]"]),i("#"+o["item[type]"]+"s_select").find(".module_item_select option:last").after(a),e(o)};"attachment"==o["item[type]"]?i.ajaxJSONFiles(l,"POST",r,i("#module_attachment_uploaded_data"),function(e){_(e)},function(){i("#select_context_content_dialog").loadingImage("remove"),i("#select_context_content_dialog").errorBox(t.t("errors.failed_to_create_item","Failed to Create new Item"))}):i.ajaxJSON(l,"POST",r,function(e){_(e)},function(){i("#select_context_content_dialog").loadingImage("remove"),i("#select_context_content_dialog").errorBox(t.t("errors.failed_to_create_item","Failed to Create new Item"))})}else e(o)})}}),i("#context_external_tools_select .tools").delegate(".tool","click",function(){var e=i(this);if(i(this).hasClass("selected")&&!i(this).hasClass("resource_selection"))return void i(this).removeClass("selected");if(e.parents(".tools").find(".tool.selected").removeClass("selected"),e.addClass("selected"),e.hasClass("resource_selection")){var n=e.data("tool"),a=Math.max(Math.min(i(window).height()-100,550),100),o=n.resource_selection.selection_width||n.selection_width,l=n.resource_selection.selection_height||n.selection_height,r=i("#resource_selection_dialog");0==r.length&&(r=i("<div/>",{id:"resource_selection_dialog",style:"padding: 0; overflow-y: hidden;"}),r.append(i("<iframe/>",{id:"resource_selection_iframe",style:"width: 800px; height: "+a+"px; border: 0;",src:"/images/ajax-loader-medium-444.gif",borderstyle:"0"})),i("body").append(r.hide()),r.dialog({autoOpen:!1,width:"auto",resizable:!0,close:function(){r.find("iframe").attr("src","/images/ajax-loader-medium-444.gif")},title:t.t("link_from_external_tool","Link Resource from External Tool")}).bind("dialogresize",function(){i(this).find("iframe").add(".fix_for_resizing_over_iframe").height(i(this).height()).width(i(this).width())}).bind("dialogresizestop",function(){i(".fix_for_resizing_over_iframe").remove()}).bind("dialogresizestart",function(){i(this).find("iframe").each(function(){i('<div class="fix_for_resizing_over_iframe" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e7}).css(i(this).offset()).appendTo("body")})}).bind("selection",function(e,a){"lti_launch_url"==a.return_type&&a.url?(i("#external_tool_create_url").val(a.url),i("#external_tool_create_title").val(a.text||n.name),i("#context_external_tools_select .domain_message").hide()):(alert(t.t("invalid_lti_resource_selection","There was a problem retrieving a valid link from the external tool")),i("#external_tool_create_url").val(""),i("#external_tool_create_title").val("")),i("#resource_selection_dialog iframe").attr("src","about:blank"),i("#resource_selection_dialog").dialog("close")})),r.dialog("close").dialog("option","width",o||800).dialog("option","height",l||a||400).dialog("open"),r.triggerHandler("dialogresize");var _=i.replaceTags(i("#select_content_resource_selection_url").attr("href"),"id",n.id);r.find("iframe").attr("src",_)}else i("#external_tool_create_url").val(e.data("url")||""),i("#context_external_tools_select .domain_message").showIf(e.data("domain")).find(".domain").text(e.data("domain")),i("#external_tool_create_title").val(e.data("name"))});var l=i("#context_external_tools_select .tools .tool:first").detach();i("#add_module_item_select").change(function(){if(i("#select_context_content_dialog .module_item_option").hide(),i("#"+i(this).val()+"s_select").show().find(".module_item_select").change(),"context_external_tool"==i(this).val()){var e=i("#context_external_tools_select");if(!e.hasClass("loaded")){e.find(".message").text("Loading...");var n=i("#select_context_content_dialog .external_tools_url").attr("href");i.ajaxJSON(n,"GET",{},function(t){e.find(".message").remove(),e.addClass("loaded"),e.find(".tools").empty();for(var i in t){var n=t[i];if(n.url||n.domain||n.resource_selection){var a=l.clone(!0);a.toggleClass("resource_selection",!!n.resource_selection),a.fillTemplateData({data:n,dataValues:["id","url","domain","name"]}),a.data("tool",n),e.find(".tools").append(a.show())}}},function(){e.find(".message").text(t.t("errors.loading_failed","Loading Failed"))})}}}),i("#select_context_content_dialog .module_item_select").change(function(){"new"==i(this).val()?i(this).parents(".module_item_option").find(".new").show().focus().select():i(this).parents(".module_item_option").find(".new").hide()})})}),function(){require(["select_content_dialog"])}.call(this),define("compiled/bundles/select_content_dialog",function(){});
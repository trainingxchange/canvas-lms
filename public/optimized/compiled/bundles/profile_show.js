define("translations/user_profile",["i18nObj","jquery"],function(t,e){e.extend(!0,t,{translations:{ar:{user_profile:{profile_title_too_long:"هذا العنوتن طويل جدًا"}},de:{user_profile:{profile_title_too_long:"Titel ist zu lang"}},"en-AU":{user_profile:{profile_title_too_long:"Title is too long"}},"en-GB":{user_profile:{profile_title_too_long:"Title is too long"}},es:{user_profile:{profile_title_too_long:"El título es demasiado largo"}},"fa-IR":{user_profile:{profile_title_too_long:"عنوان طولانی است"}},fr:{user_profile:{profile_title_too_long:"Titre trop long"}},ja:{user_profile:{profile_title_too_long:"タイトルが長すぎます"}},ko:{user_profile:{profile_title_too_long:"제목이 너무 김"}},nb:{user_profile:{profile_title_too_long:"Tittelen er for lang"}},nl:{user_profile:{profile_title_too_long:"Titel is te lang"}},pl:{user_profile:{profile_title_too_long:"Tytuł jest zbyt długi"}},pt:{user_profile:{profile_title_too_long:"Título demasiado comprido"}},"pt-BR":{user_profile:{profile_title_too_long:"Título longo demais"}},ru:{user_profile:{profile_title_too_long:"Слишком длинный заголовок"}},tr:{user_profile:{profile_title_too_long:"Başlık çok uzun"}},zh:{user_profile:{profile_title_too_long:"标题太长"}}}})}),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};define("compiled/util/ProximityLoader",["jquery","underscore"],function(e,i){var o;return o=function(){function o(o,n){null==n&&(n={}),this._loadScript=t(this._loadScript,this),this._onMove=t(this._onMove,this),this.options=i.extend({},this.defaultOptions,n),this._cacheElements(o),this.deferred=e.Deferred().then(this._loadScript),this.$el.length&&this._attachEvents()}return o.prototype.defaultOptions={callback:e.noop,delay:200,dependencies:[],threshold:150},o.prototype._cacheElements=function(t){return this.$el=e(t),this.$body=e("body")},o.prototype._attachEvents=function(){return this.$body.on(this._eventName(),i.throttle(this._onMove,this.options.delay))},o.prototype._eventName=function(){return"mousemove.proximity."+this.$el.guid},o.prototype._dimensions=function(){return this.__dimensions||(this.__dimensions={bottom:this.$el.offset().top+this.$el.height()+this.options.threshold,left:this.$el.offset().left-this.options.threshold,right:this.$el.offset().left+this.$el.width()+this.options.threshold,top:this.$el.offset().top-this.options.threshold,centerX:this.$el.offset().left+this.$el.width()/2,centerY:this.$el.offset().top+this.$el.height()/2})},o.prototype._onMove=function(t){return this._isBounded(t.pageX,t.pageY)&&this._hasVelocity(t.pageX,t.pageY)&&this.deferred.resolve(),this.pageX=t.pageX,this.pageY=t.pageY,t},o.prototype._loadScript=function(){return this.$body.off(this._eventName()),require(this.options.dependencies,this.options.callback)},o.prototype._isBounded=function(t,e){return this._dimensions().left<t&&this._dimensions().right>t&&this._dimensions().top<e&&this._dimensions().bottom>e},o.prototype._hasVelocity=function(t,e){return Math.abs(this.pageX-this._dimensions().centerX)>Math.abs(t-this._dimensions().centerX)&&Math.abs(this.pageY-this._dimensions().centerY)>Math.abs(e-this._dimensions().centerY)},o}()})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};define("compiled/util/AvatarWidget",["jquery","compiled/util/ProximityLoader"],function(e,i){var o;return o=function(){function o(i){this._openAvatarDialog=t(this._openAvatarDialog,this),this._initializeDialog=t(this._initializeDialog,this),this.$el=e(i),this._initializeLoader(),this._attachEvents()}return o.prototype._attemptedLoads=0,o.prototype._attachEvents=function(){return this.$el.on("click",this._openAvatarDialog)},o.prototype._initializeLoader=function(){return this.loader=new i(this.$el,{callback:this._initializeDialog,dependencies:["compiled/views/profiles/AvatarDialogView"]})},o.prototype._initializeDialog=function(t){return this.avatarDialog=new t},o.prototype._openAvatarDialog=function(t){return null!=t&&t.preventDefault(),"undefined"!=typeof this.avatarDialog?this.avatarDialog.show():this._pollScriptLoad()},o.prototype._pollScriptLoad=function(){if(this.loader.deferred.resolve(),this._attemptedLoads<20)return this._attemptedLoads++,setTimeout(this._openAvatarDialog,100);throw new Error("Failed to load AvatarDialogView")},o}()})}.call(this),function(){var t={}.hasOwnProperty,e=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e};require(["i18n!user_profile","Backbone","jquery","str/htmlEscape","compiled/util/AvatarWidget","compiled/tinymce","jquery.instructure_forms","tinymce.editor_box"],function(t,i,o,n,r){var l,s,a;return s=i.View,new(l=function(i){function l(){return a=l.__super__.constructor.apply(this,arguments)}return e(l,i),l.prototype.el=document.body,l.prototype.events={"click [data-event]":"handleDeclarativeClick","submit #edit_profile_form":"validateForm"},l.prototype.attemptedDependencyLoads=0,l.prototype.initialize=function(){return l.__super__.initialize.apply(this,arguments),new r(".profile-link")},l.prototype.handleDeclarativeClick=function(t){var e,i;return t.preventDefault(),e=o(t.currentTarget),i=e.data("event"),"function"==typeof this[i]?this[i](t,e):void 0},l.prototype.editProfile=function(){return this.initEdit(),this.editProfile=this.showEditForm},l.prototype.showEditForm=function(){return this.$el.addClass("editing").removeClass("not-editing"),this.$(".profile_links").removeClass("span6")},l.prototype.initEdit=function(){var t,e,i,o,n,r,l;if(null!=(n=this.options.links)?n.length:void 0)for(r=this.options.links,i=0,o=r.length;o>i;i++)l=r[i],t=l.title,e=l.url,this.addLinkField(null,null,t,e);else this.addLinkField(),this.addLinkField();return this.showEditForm()},l.prototype.cancelEditProfile=function(){return this.$el.addClass("not-editing").removeClass("editing"),this.$(".profile_links").addClass("span6")},l.prototype.addLinkField=function(t,e,i,r){var l,s;return null==i&&(i=""),null==r&&(r=""),null==(s=this.$linkFields)&&(this.$linkFields=this.$("#profile_link_fields")),l=o('<tr>\n  <td><input type="text" maxlength="255" name="link_titles[]" value="'+n(i)+'"></td>\n  <td>→</td>\n  <td><input type="text" name="link_urls[]" value="'+n(r)+'"></td>\n  <td><a href="#" data-event="removeLinkRow"><i class="icon-end"></i></a></td>\n</tr>'),this.$linkFields.append(l),null!=t?(t.preventDefault(),l.find("input:first").focus()):void 0},l.prototype.removeLinkRow=function(t,e){return e.parents("tr").remove()},l.prototype.validateForm=function(e){var i;return i={property_validations:{"user_profile[title]":function(e){return e&&e.length>255?t.t("profile_title_too_long","Title is too long"):void 0}}},o(e.target).validateForm(i)?void 0:e.preventDefault()},l}(s))(ENV.PROFILE)})}.call(this),define("compiled/bundles/profile_show",function(){});
(function(){var e={}.hasOwnProperty,t=function(t,a){function n(){this.constructor=t}for(var i in a)e.call(a,i)&&(t[i]=a[i]);return n.prototype=a.prototype,t.prototype=new n,t.__super__=a.prototype,t};define("compiled/calendar/CalendarEvent",["jquery","underscore","Backbone","compiled/str/splitAssetString"],function(e,a,n,i){var d,l;return d=function(d){function r(){return l=r.__super__.constructor.apply(this,arguments)}return t(r,d),r.prototype.urlRoot="/api/v1/calendar_events/",r.prototype.dateAttributes=["created_at","end_at","start_at","updated_at"],r.prototype._filterAttributes=function(e){var t;return t=a(e).pick("start_at","end_at","title","description","context_code","remove_child_events","location_name","location_address"),e.use_section_dates&&e.child_event_data&&(t.child_event_data=a.chain(e.child_event_data).compact().filter(this._hasValidInputs).map(this._filterAttributes).value()),t},r.prototype._hasValidInputs=function(e){return e.start_date&&!!e.start_time==!!e.end_time},r.prototype.toJSON=function(){return{calendar_event:this._filterAttributes(r.__super__.toJSON.apply(this,arguments))}},r.prototype.present=function(){return n.Model.prototype.toJSON.call(this)},r.prototype.fetch=function(t){var i,d,l,o,s,c,_;return null==t&&(t={}),t=a.clone(t),l=this,s=t.success,delete t.success,d=null!=(_=t.error)?_:function(){},delete t.error,this.get("id")&&(c=(this.sync||n.sync).call(this,"read",this,t)),this.get("sections_url")&&(o=e.getJSON(this.get("sections_url"))),i=function(e,n){var i,d,o,c,_;return null==e&&(e=[]),null==n&&(n=[]),o=e[0],c=e[1],_=e[2],d=n[0],i=r.mergeSectionsIntoCalendarEvent(o,a.sortBy(d,"id")),l.set(l.parse(i),t)?"function"==typeof s?s(l,i):void 0:!1},e.when(c,o).fail(d).done(i)},r.mergeSectionsIntoCalendarEvent=function(e,t){var n;return null==e&&(e={}),e.course_sections=t,e.use_section_dates=!!(null!=(n=e.child_events)?n.length:void 0),a(e.child_events).each(function(n,d){var l,o;return n=e.child_events[d]=r.prototype.parse(n),o=i(n.context_code)[1],l=a(t).find(function(e){return e.id===o}),l.event=n}),e},r}(n.Model)})}).call(this),define("translations/calendar.edit",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{calendar:{edit:{confirm_delete_calendar_event:"هل تريد بالتأكيد حذف حدث التقويم هذا؟",event_deleted:"تم حذف %{event_title} بنجاح",event_saved:"تم حفظ الحدث بنجاح",missingDueDate:{one:"لم يتم تعيين تاريخ استحقاق لقسم واحد.",other:"لم يتم تعيين تاريخ استحقاق لـ %{sections} أقسام."},titles:{warning:"تحذير"}}}},de:{calendar:{edit:{confirm_delete_calendar_event:"Wollen Sie diesen Kalenderevent wirklich löschen?",event_deleted:"%{event_title} erfolgreich gelöscht",event_saved:"Event erfolgreich gespeichert",missingDueDate:{one:"%{sections} wurde kein Abgabetermin zugeordnet.",other:"%{sections} wurde kein Abgabetermin zugeordnet."},titles:{warning:"Warnung"}}}},"en-AU":{calendar:{edit:{confirm_delete_calendar_event:"Are you sure you want to delete this calendar event?",event_deleted:"%{event_title} deleted successfully",event_saved:"Event Saved Successfully",missingDueDate:{one:"%{sections} do not have a due date assigned.",other:"%{sections} do not have a due date assigned."},titles:{warning:"Warning"}}}},"en-GB":{calendar:{edit:{confirm_delete_calendar_event:"Are you sure you want to delete this calendar event?",event_deleted:"%{event_title} deleted successfully",event_saved:"Event saved successfully",missingDueDate:{one:"%{sections} does not have a due date assigned.",other:"%{sections} do not have a due date assigned."},titles:{warning:"Warning"}}}},es:{calendar:{edit:{confirm_delete_calendar_event:"¿Está seguro de que quiere borrar este evento del calendario?",event_deleted:"%{event_title} borrado correctamente",event_saved:"Evento guardado correctamente",missingDueDate:{one:"%{sections} no tiene una fecha de vencimiento asignada.",other:"%{sections} no tienen una fecha de vencimiento asignada."},titles:{warning:"Aviso"}}}},"fa-IR":{calendar:{edit:{confirm_delete_calendar_event:"مطمئنید که می خواهید این رویداد تقویم حذف شود؟",event_deleted:"%{event_title} با موفقیت حذف شد",event_saved:"رویداد با موفقیت ذخیره شد",missingDueDate:{one:"%{sections} تاریخ مهلت اختصاص داده شده ندارند.",other:"%{sections} تاریخ مهلت اختصاص داده شده ندارند."},titles:{warning:"هشدار"}}}},fr:{calendar:{edit:{confirm_delete_calendar_event:"Voulez-vous vraiment supprimer cet événement de calendrier ?",event_deleted:"%{event_title} a été correctement supprimé.",event_saved:"L’événement a bien été enregistré.",missingDueDate:{one:"%{sections} n’a pas de date d’échéance.",other:"%{sections} n’ont pas de date d’échéance"},titles:{warning:"Avertissement"}}}},ja:{calendar:{edit:{confirm_delete_calendar_event:"このカレンダー イベントを削除してもよろしいですか?",event_deleted:"%{event_title} は正常に削除されました",event_saved:"イベントは正常に保存されました",missingDueDate:{one:"%{sections} には期日が割り当てられていません。",other:"%{sections} には期日が割り当てられていません。"},titles:{warning:"警告"}}}},ko:{calendar:{edit:{confirm_delete_calendar_event:"이 행사를 삭제하시겠습니까?",event_deleted:"%{event_title}을(를) 성공적으로 삭제함",event_saved:"행사를 성공적으로 저장함",missingDueDate:{one:"%{sections}에 할당된 기한이 없습니다.",other:"%{sections}에 할당된 기한이 없습니다."},titles:{warning:"주의"}}}},nb:{calendar:{edit:{confirm_delete_calendar_event:"Er du sikker på at du ønsker å slette denne kalenderhendelsen?",event_deleted:"%{event_title} ble slettet",event_saved:"Hendelsen ble lagret",missingDueDate:{one:"%{sections} har ingen angitt frist.",other:"%{sections} har ingen angitt frist."},titles:{warning:"Advarsel"}}}},nl:{calendar:{edit:{confirm_delete_calendar_event:"Weet je  zeker dat je dit evenement, vermeld op de kalender, wilt verwijderen?",event_deleted:"%{event_title}Succesvol verwijderd",event_saved:"Evenement succesvol opgeslagen",missingDueDate:{one:"%{sections} heeft geen vervaldatum.",other:"%{sections} hebben geen toegewezen inleverdatum."},titles:{warning:"Waarschuwing"}}}},pl:{calendar:{edit:{confirm_delete_calendar_event:"Czy na pewno chcesz usunąć to wydarzenie z kalendarza?",event_deleted:"Wydarzenie %{event_title} usunięte z powodzeniem",event_saved:"Wydarzenie zapisane z powodzeniem",missingDueDate:{one:"Do %{sections} sekcji nie przypisano terminu dostarczenia.",other:"Do %{sections} sekcji nie przypisano terminu dostarczenia."},titles:{warning:"Ostrzeżenie"}}}},pt:{calendar:{edit:{confirm_delete_calendar_event:"Tem a certeza de que pretende eliminar este evento do calendário?",event_deleted:"%{event_title} eliminado com sucesso",event_saved:"Evento guardado com sucesso",missingDueDate:{one:"%{sections} não tem uma data de entrega atribuída.",other:"%{sections} não têm uma data de entrega atribuída."},titles:{warning:"Aviso"}}}},"pt-BR":{calendar:{edit:{confirm_delete_calendar_event:"Tem certeza que deseja excluir este evento do calendário?",event_deleted:"%{event_title} excluído com sucesso",event_saved:"Evento salvo com sucesso",missingDueDate:{one:"%{sections} não tem uma data de entrega atribuída.",other:"%{sections} não têm uma data de entrega atribuída."},titles:{warning:"Aviso"}}}},ru:{calendar:{edit:{confirm_delete_calendar_event:"Вы уверены, что хотите удалить это событие календаря?",event_deleted:"%{event_title} удалено успешно",event_saved:"Событие успешно сохранено",missingDueDate:{one:"Для раздела %{sections} не назначена дата выполнения.",other:"Для разделов %{sections} не назначена дата выполнения."},titles:{warning:"Предупреждение"}}}},tr:{calendar:{edit:{confirm_delete_calendar_event:"Bu takvim etkinliğini silmek istediğinize emin misiniz?",event_deleted:"%{event_title} başarıyla silindi",event_saved:"Olay Başarıyla Kaydedildi",missingDueDate:{one:"%{sections} için atanmış bir bitiş tarihi yok.",other:"%{sections} için atanmış bir bitiş tarihi yok."},titles:{warning:"Uyarı"}}}},zh:{calendar:{edit:{confirm_delete_calendar_event:"是否确定要删除此日历事件?",event_deleted:"%{event_title} 已成功删除",event_saved:"事件已成功保存",missingDueDate:{one:"%{sections} 没有指定的截止时间。",other:"%{sections} 没有指定的截止时间。"},titles:{warning:"警告"}}}}}})}),define("translations/calendar.edit_calendar_event_full",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{buttons:{cancel:"إلغاء"},calendar:{edit_calendar_event_full:{buttons:{create:"إنشاء حدث",update:"تحديث حدث"},date:"التاريخ","delete":"حذف",different_date_for_each_section:"استخدم تاريخًا مختلفًا لكل قسم",edit_calendar_event_header:"تحرير حدث التقويم",end_time:"وقت النهاية",event_description:"وصف الحدث",event_title:"عنوان الحدث",location_address:"العنوان:",location_name:"الموقع:",new_calendar_event_header:"حدث جديد في التقويم",start_time:"وقت البداية"}},editor:{switch_editor_html:"محرر HTML",switch_editor_visual:"المحرر البصري"}},de:{buttons:{cancel:"Abbrechen"},calendar:{edit_calendar_event_full:{buttons:{create:"Event erstellen",update:"Event aktualisieren"},date:"Datum","delete":"Löschen",different_date_for_each_section:"Für jeden Abschnitt ein anderes Datum verwenden",edit_calendar_event_header:"Kalenderevent bearbeiten",end_time:"Endzeit",event_description:"Eventbeschreibung",event_title:"Eventtitel",location_address:"Adresse:",location_name:"Ort:",new_calendar_event_header:"Neues Kalenderevent",start_time:"Anfangszeit"}},editor:{switch_editor_html:"HTML-Editor",switch_editor_visual:"Visual Editor"}},"en-AU":{buttons:{cancel:"Cancel"},calendar:{edit_calendar_event_full:{buttons:{create:"Create Event",update:"Update Event"},date:"Date","delete":"Delete",different_date_for_each_section:"Use a different date for each section",edit_calendar_event_header:"Edit Calendar Event",end_time:"End Time",event_description:"Event Description",event_title:"Event Title",location_address:"Address:",location_name:"Location:",new_calendar_event_header:"New Calendar Event",start_time:"Start Time"}},editor:{switch_editor_html:"HTML Editor",switch_editor_visual:"Visual Editor"}},"en-GB":{buttons:{cancel:"Cancel"},calendar:{edit_calendar_event_full:{buttons:{create:"Create event",update:"Update event"},date:"Date","delete":"Delete",different_date_for_each_section:"Use a different date for each section",edit_calendar_event_header:"Edit calendar event",end_time:"End time",event_description:"Event description",event_title:"Event title",location_address:"Address:",location_name:"Location:",new_calendar_event_header:"New calendar event",start_time:"Start time"}},editor:{switch_editor_html:"HTML Editor",switch_editor_visual:"Visual Editor"}},es:{buttons:{cancel:"Cancelar"},calendar:{edit_calendar_event_full:{buttons:{create:"Crear Evento",update:"Actualizar Evento"},date:"Fecha","delete":"Borrar",different_date_for_each_section:"Usar una fecha diferente para cada sección",edit_calendar_event_header:"Editar el evento del calendario",end_time:"Tiempo de finalización",event_description:"Descripción del evento",event_title:"Título del evento",location_address:"Dirección:",location_name:"Ubicación:",new_calendar_event_header:"Nuevo evento del calendario",start_time:"Hora de inicio"}},editor:{switch_editor_html:"Editor HTML",switch_editor_visual:"Editor visual"}},"fa-IR":{buttons:{cancel:"لغو"},calendar:{edit_calendar_event_full:{buttons:{create:"ایجاد رویداد",update:"بهنگام سازی رویداد"},date:"تاریخ","delete":"حذف",different_date_for_each_section:"استفاده از تاریخ های متفاوت برای هر بخش",edit_calendar_event_header:"ویرایش رویداد تقویم",end_time:"زمان پایان",event_description:"شرح رویداد",event_title:"عنوان رویداد",location_address:"نشانی:",location_name:"مکان:",new_calendar_event_header:"رویداد جدید تقویم",start_time:"زمان شروع"}},editor:{switch_editor_html:"ویرایشگر HTML",switch_editor_visual:"ویرایشگر بصری"}},fr:{buttons:{cancel:"Annuler"},calendar:{edit_calendar_event_full:{buttons:{create:"Créer un événement",update:"Mettre à jour l’événement"},date:"Date","delete":"Supprimer",different_date_for_each_section:"Utiliser une date différente pour chaque section",edit_calendar_event_header:"Modifier l’événement du calendrier",end_time:"Heure de fin",event_description:"Description de l’événement",event_title:"Titre de l’événement",location_address:"Adresse :",location_name:"Lieu :",new_calendar_event_header:"Nouvel événement du calendrier",start_time:"Heure de début"}},editor:{switch_editor_html:"Éditeur HTML",switch_editor_visual:"Éditeur visuel"}},ja:{buttons:{cancel:"キャンセル"},calendar:{edit_calendar_event_full:{buttons:{create:"イベントの作成",update:"イベントの更新"},date:"日付","delete":"削除",different_date_for_each_section:"各セクションに異なる日付を使用する",edit_calendar_event_header:"カレンダー イベントの編集",end_time:"終了時刻",event_description:"イベントの説明",event_title:"イベント タイトル",location_address:"住所:",location_name:"場所:",new_calendar_event_header:"カレンダー イベントの新規作成",start_time:"開始時刻"}},editor:{switch_editor_html:"HTML エディタ",switch_editor_visual:"ビジュアル エディタ"}},ko:{buttons:{cancel:"취소"},calendar:{edit_calendar_event_full:{buttons:{create:"행사 만들기",update:"행사 업데이트"},date:"날짜","delete":"삭제",different_date_for_each_section:"각 섹션에 다른 날짜를 사용",edit_calendar_event_header:"달력 행사 편집",end_time:"끝 시각",event_description:"행사 설명",event_title:"행사 제목",location_name:"위치:",new_calendar_event_header:"새 행사",start_time:"시작 시각"}}},nb:{buttons:{cancel:"Avbryt"},calendar:{edit_calendar_event_full:{buttons:{create:"Opprett hendelse",update:"Oppdater hendelse"},date:"Dato","delete":"Slett",different_date_for_each_section:"Benytt forskjellige datoer for hver klasse",edit_calendar_event_header:"Rediger kalenderhendelse",end_time:"Sluttidspunkt",event_description:"Beskrivelse av hendelse",event_title:"Hendelsens tittel",location_address:"Adresse:",location_name:"Sted:",new_calendar_event_header:"Ny kalenderhendelse",start_time:"Starttidspunkt"}},editor:{switch_editor_html:"HTML-redigering",switch_editor_visual:"Visuell redigering"}},nl:{buttons:{cancel:"Annuleren"},calendar:{edit_calendar_event_full:{buttons:{create:"Gebeurtenis maken",update:"Gebeurtenis bijwerken"},date:"Datum","delete":"Verwijderen",different_date_for_each_section:"Voor iedere sectie een andere datum gebruiken",edit_calendar_event_header:"De gebeurtenis  op de kalender bewerken",end_time:"Eindtijd",event_description:"Beschrijving van gebeurtenis",event_title:"Titel van gebeurtenis",location_address:"Adres:",location_name:"Locatie:",new_calendar_event_header:"Nieuwe gebeurtenis op de kalender",start_time:"Starttijd"}},editor:{switch_editor_html:"HTML Editor",switch_editor_visual:"Visuele Editor"}},pl:{buttons:{cancel:"Anuluj"},calendar:{edit_calendar_event_full:{buttons:{create:"Utwórz wydarzenie",update:"Zaktualizuj wydarzenie"},date:"Data","delete":"Usuń",different_date_for_each_section:"Użyj róznych dat dla każdej z sekcji",edit_calendar_event_header:"Edytuj wydarzenie w kalendarzu",end_time:"Czas zakończenia",event_description:"Opis wydarzenia",event_title:"Tytuł wydarzenia",location_address:"Adres:",location_name:"Położenie:",new_calendar_event_header:"Nowe wydarzenie w kalendarzu",start_time:"Czas rozpoczęcia"}},editor:{switch_editor_html:"Edytor HTML",switch_editor_visual:"Edytor wizualny"}},pt:{buttons:{cancel:"Cancelar"},calendar:{edit_calendar_event_full:{buttons:{create:"Criar um evento",update:"Atualizar evento"},date:"Data","delete":"Excluir",different_date_for_each_section:"Utilizar uma data diferente para cada secção",edit_calendar_event_header:"Editar evento do calendário",end_time:"Hora de fim",event_description:"Descrição do evento",event_title:"Título do evento",location_address:"Morada:",location_name:"Local:",new_calendar_event_header:"Novo evento do calendário",start_time:"Hora de início"}},editor:{switch_editor_html:"Editor HTML",switch_editor_visual:"Editor visual"}},"pt-BR":{buttons:{cancel:"Cancelar"},calendar:{edit_calendar_event_full:{buttons:{create:"Criar um evento",update:"Atualizar evento"},date:"Data","delete":"Excluir",different_date_for_each_section:"Usar uma data diferente para cada turma",edit_calendar_event_header:"Editar evento do calendário",end_time:"Hora de término",event_description:"Descrição do evento",event_title:"Título do evento",location_address:"Endereço:",location_name:"Local:",new_calendar_event_header:"Novo evento do calendário",start_time:"Hora de início"}},editor:{switch_editor_html:"Editor de HTML",switch_editor_visual:"Editor visual"}},ru:{buttons:{cancel:"Отменить"},calendar:{edit_calendar_event_full:{buttons:{create:"Создать событие",update:"Обновить событие"},date:"Дата","delete":"Удалить",different_date_for_each_section:"Используйте разные даты для каждой секции",edit_calendar_event_header:"Редактировать событие календаря",end_time:"Время окончания",event_description:"Описание события",event_title:"Название события",location_address:"Адрес:",location_name:"Местоположение:",new_calendar_event_header:"Новое событие календаря",start_time:"Время начала"}},editor:{switch_editor_html:"Редактор HTML",switch_editor_visual:"Визуальный редактор"}},tr:{buttons:{cancel:"İptal"},calendar:{edit_calendar_event_full:{buttons:{create:"Olay Oluştur",update:"Olayı Güncelle"},date:"Tarih:","delete":"Sil",different_date_for_each_section:"Her bölüm için farklı tarihler kullanın",edit_calendar_event_header:"Takvim Olayını Düzenle",end_time:"Bitiş Zamanı",event_description:"Olay Açıklaması",event_title:"Olay Başlığı",location_address:"Adres:",location_name:"Konum:",new_calendar_event_header:"Yeni Takvim Olayı",start_time:"Başlangıç Zamanı"}},editor:{switch_editor_html:"HTML Düzenleyici",switch_editor_visual:"Görsel Düzenleyici"}},zh:{buttons:{cancel:"取消"},calendar:{edit_calendar_event_full:{buttons:{create:"创建事件",update:"更新事件"},date:"日期","delete":"删除",different_date_for_each_section:"对每个班级应用不同的日期",edit_calendar_event_header:"编辑日历事件",end_time:"结束时间",event_description:"事件说明",event_title:"事件标题",location_address:"地址：",location_name:"位置：",new_calendar_event_header:"新日历事件",start_time:"开始时间"}},editor:{switch_editor_html:"HTML 编辑器",switch_editor_visual:"可视编辑器"}}}})}),define("jst/calendar/editCalendarEventFull",["compiled/handlebars_helpers","i18n!calendar.edit_calendar_event_full"],function(e){var t=e.template,a=e.templates=e.templates||{};return a["calendar/editCalendarEventFull"]=t(function(e,t,a,n,i){function d(e,t){var n,i,d,l="";return i=a.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},n=i?i.call(e,"new_calendar_event_header","New Calendar Event",d):T.call(e,"t","new_calendar_event_header","New Calendar Event",d),(n||0===n)&&(l+=n),l+="\n  "}function l(e,t){var n,i,d;return i=a.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},n=i?i.call(e,"edit_calendar_event_header","Edit Calendar Event",d):T.call(e,"t","edit_calendar_event_header","Edit Calendar Event",d),n||0===n?n:""}function r(){return"use_section_dates"}function o(e,t){var n,i,d,l="";return l+='\n    <label class="label_with_checkbox" for="use_section_dates">\n      '+k((i=a.checkbox||e&&e.checkbox,d={hash:{},data:t},i?i.call(e,"use_section_dates",d):T.call(e,"checkbox","use_section_dates",d)))+"\n      ",i=a.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},n=i?i.call(e,"different_date_for_each_section","Use a different date for each section",d):T.call(e,"t","different_date_for_each_section","Use a different date for each section",d),(n||0===n)&&(l+=n),l+='\n    </label>\n\n    <input type="hidden"\n           name="remove_child_events"\n           value="',n=a.unless.call(e,e&&e.use_section_dates,{hash:{},inverse:z.noop,fn:z.program(8,s,t),data:t}),(n||0===n)&&(l+=n),l+='" />\n  '}function s(){return"1"}function c(e,t){var n,i,d="";return d+=' value="'+k((n=a.tTimeToString||e&&e.tTimeToString,i={hash:{},data:t},n?n.call(e,e&&e.start_at,"tiny",i):T.call(e,"tTimeToString",e&&e.start_at,"tiny",i)))+'" '}function _(e,t){var n,i,d="";return d+=' value="'+k((n=a.tTimeToString||e&&e.tTimeToString,i={hash:{},data:t},n?n.call(e,e&&e.end_at,"tiny",i):T.call(e,"tTimeToString",e&&e.end_at,"tiny",i)))+'" '}function u(e,t){var n,i="";return i+='\n    <table class="formtable show_if_using_sections">\n      ',n=a.each.call(e,e&&e.course_sections,{hash:{},inverse:z.noop,fn:z.program(15,h,t),data:t}),(n||0===n)&&(i+=n),i+="\n    </table>\n  "}function h(e,t){var n,i,d,l="";return l+='\n      <tr class="date_start_end_row">\n        <td colspan="4"><label class="row_header" for="section_',(i=a.id)?n=i.call(e,{hash:{},data:t}):(i=e&&e.id,n=typeof i===S?i.call(e,{hash:{},data:t}):i),l+=k(n)+'_start_date">',(i=a.name)?n=i.call(e,{hash:{},data:t}):(i=e&&e.name,n=typeof i===S?i.call(e,{hash:{},data:t}):i),l+=k(n)+'</label></td>\n      </tr>\n      <tr class="date_start_end_row">\n        <td>\n          <input type="text"\n                 id="section_',(i=a.id)?n=i.call(e,{hash:{},data:t}):(i=e&&e.id,n=typeof i===S?i.call(e,{hash:{},data:t}):i),l+=k(n)+'_start_date"\n                 name="child_event_data[',(i=a.id)?n=i.call(e,{hash:{},data:t}):(i=e&&e.id,n=typeof i===S?i.call(e,{hash:{},data:t}):i),l+=k(n)+'][start_date]"\n                 class="date_field"\n                 value="'+k((i=a.tDateToString||e&&e.tDateToString,d={hash:{},data:t},i?i.call(e,(n=e&&e.event,null==n||n===!1?n:n.start_at),"medium",d):T.call(e,"tDateToString",(n=e&&e.event,null==n||n===!1?n:n.start_at),"medium",d)))+'"\n                 aria-label="',i=a.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},n=i?i.call(e,"date","Date",d):T.call(e,"t","date","Date",d),(n||0===n)&&(l+=n),l+='"\n                 placeholder="',i=a.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},n=i?i.call(e,"date","Date",d):T.call(e,"t","date","Date",d),(n||0===n)&&(l+=n),l+='" />\n        </td>\n        <td>\n          <input type="text"\n                 name="child_event_data[',(i=a.id)?n=i.call(e,{hash:{},data:t}):(i=e&&e.id,n=typeof i===S?i.call(e,{hash:{},data:t}):i),l+=k(n)+'][start_time]"\n                 class="time_field"\n                 ',n=a.unless.call(e,e&&e.all_day,{hash:{},inverse:z.noop,fn:z.program(16,v,t),data:t}),(n||0===n)&&(l+=n),l+='\n                 aria-label="',i=a.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},n=i?i.call(e,"start_time","Start Time",d):T.call(e,"t","start_time","Start Time",d),(n||0===n)&&(l+=n),l+='"\n                 placeholder="',i=a.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},n=i?i.call(e,"start_time","Start Time",d):T.call(e,"t","start_time","Start Time",d),(n||0===n)&&(l+=n),l+='" />\n        </td>\n\n        <td><span class="time_separator">-</span></td>\n\n        <td>\n          <input type="text"\n                 name="child_event_data[',(i=a.id)?n=i.call(e,{hash:{},data:t}):(i=e&&e.id,n=typeof i===S?i.call(e,{hash:{},data:t}):i),l+=k(n)+'][end_time]"\n                 class="time_field"\n                 ',n=a.unless.call(e,e&&e.all_day,{hash:{},inverse:z.noop,fn:z.program(18,m,t),data:t}),(n||0===n)&&(l+=n),l+='\n                 aria-label="',i=a.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},n=i?i.call(e,"end_time","End Time",d):T.call(e,"t","end_time","End Time",d),(n||0===n)&&(l+=n),l+='"\n                 placeholder="',i=a.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},n=i?i.call(e,"end_time","End Time",d):T.call(e,"t","end_time","End Time",d),(n||0===n)&&(l+=n),l+='" />\n          <input type="hidden"\n                 name="child_event_data[',(i=a.id)?n=i.call(e,{hash:{},data:t}):(i=e&&e.id,n=typeof i===S?i.call(e,{hash:{},data:t}):i),l+=k(n)+'][context_code]"\n                 value="course_section_',(i=a.id)?n=i.call(e,{hash:{},data:t}):(i=e&&e.id,n=typeof i===S?i.call(e,{hash:{},data:t}):i),l+=k(n)+'" />\n        </td>\n      </tr>\n      '}function v(e,t){var n,i,d,l="";return l+=' value="'+k((i=a.tTimeToString||e&&e.tTimeToString,d={hash:{},data:t},i?i.call(e,(n=e&&e.event,null==n||n===!1?n:n.start_at),"tiny",d):T.call(e,"tTimeToString",(n=e&&e.event,null==n||n===!1?n:n.start_at),"tiny",d)))+'" '}function m(e,t){var n,i,d,l="";return l+=' value="'+k((i=a.tTimeToString||e&&e.tTimeToString,d={hash:{},data:t},i?i.call(e,(n=e&&e.event,null==n||n===!1?n:n.end_at),"tiny",d):T.call(e,"tTimeToString",(n=e&&e.event,null==n||n===!1?n:n.end_at),"tiny",d)))+'" '}function p(e,t){var n,i,d,l="";return l+='\n      <button type="button" class="btn delete_link">',i=a.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},n=i?i.call(e,"delete","Delete",d):T.call(e,"t","delete","Delete",d),(n||0===n)&&(l+=n),l+="</button>\n    "}function f(e,t){var n,i,d,l="";return l+='\n      <a href="',(i=a.return_to_url)?n=i.call(e,{hash:{},data:t}):(i=e&&e.return_to_url,n=typeof i===S?i.call(e,{hash:{},data:t}):i),l+=k(n)+'" class="btn">',i=a.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},n=i?i.call(e,"#buttons.cancel","Cancel",d):T.call(e,"t","#buttons.cancel","Cancel",d),(n||0===n)&&(l+=n),l+="</a>\n    "}function g(e,t){var n,i,d,l="";return l+="\n        ",i=a.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},n=i?i.call(e,"buttons.create","Create Event",d):T.call(e,"t","buttons.create","Create Event",d),(n||0===n)&&(l+=n),l+="\n      "}function b(e,t){var n,i,d,l="";return l+="\n        ",i=a.t||e&&e.t,d={hash:{scope:"calendar.edit_calendar_event_full"},data:t},n=i?i.call(e,"buttons.update","Update Event",d):T.call(e,"t","buttons.update","Update Event",d),(n||0===n)&&(l+=n),l+="\n      "}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{};var D,y,w,E="",T=a.helperMissing,k=this.escapeExpression,z=this,S="function";return E+='<h1 class="screenreader-only">\n  ',D=a["if"].call(t,t&&t.newRecord,{hash:{},inverse:z.program(3,l,i),fn:z.program(1,d,i),data:i}),(D||0===D)&&(E+=D),E+='\n</h1>\n<form id="editCalendarEventFull" class="',D=a["if"].call(t,t&&t.use_section_dates,{hash:{},inverse:z.noop,fn:z.program(5,r,i),data:i}),(D||0===D)&&(E+=D),E+='">\n  <input type="text"\n         name="title"\n         class="title input-block-level"\n         aria-label="',y=a.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},D=y?y.call(t,"event_title","Event Title",w):T.call(t,"t","event_title","Event Title",w),(D||0===D)&&(E+=D),E+='"\n         placeholder="',y=a.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},D=y?y.call(t,"event_title","Event Title",w):T.call(t,"t","event_title","Event Title",w),(D||0===D)&&(E+=D),E+='"\n         value="',(y=a.title)?D=y.call(t,{hash:{},data:i}):(y=t&&t.title,D=typeof y===S?y.call(t,{hash:{},data:i}):y),E+=k(D)+'"\n         maxlength="255" />\n\n  <div class="clearfix">\n    <a href="#" class="switch_event_description_view pull-right">\n      ',y=a.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},D=y?y.call(t,"#editor.switch_editor_html","HTML Editor",w):T.call(t,"t","#editor.switch_editor_html","HTML Editor",w),(D||0===D)&&(E+=D),E+='\n    </a>\n    <a href="#" class="switch_event_description_view pull-right" style="display:none;">\n      ',y=a.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},D=y?y.call(t,"#editor.switch_editor_visual","Visual Editor",w):T.call(t,"t","#editor.switch_editor_visual","Visual Editor",w),(D||0===D)&&(E+=D),E+='\n    </a>\n  </div>\n  <textarea class="input-block-level"\n            name="description"\n            aria-label="',y=a.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},D=y?y.call(t,"event_description","Event Description",w):T.call(t,"t","event_description","Event Description",w),(D||0===D)&&(E+=D),E+='"\n            style="width: 100%">',(y=a.description)?D=y.call(t,{hash:{},data:i}):(y=t&&t.description,D=typeof y===S?y.call(t,{hash:{},data:i}):y),E+=k(D)+"</textarea>\n\n  ",D=a["if"].call(t,t&&t.course_sections,{hash:{},inverse:z.noop,fn:z.program(7,o,i),data:i}),(D||0===D)&&(E+=D),E+='\n\n  <div class="hide_if_using_sections date_start_end_row">\n    <table>\n      <tbody>\n        <tr>\n          <td>\n            <input type="text"\n                   name="start_date"\n                   class="date_field"\n                   value="'+k((y=a.tDateToString||t&&t.tDateToString,w={hash:{},data:i},y?y.call(t,t&&t.start_at,"medium",w):T.call(t,"tDateToString",t&&t.start_at,"medium",w)))+'"\n                   aria-label="',y=a.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},D=y?y.call(t,"date","Date",w):T.call(t,"t","date","Date",w),(D||0===D)&&(E+=D),E+='"\n                   placeholder="',y=a.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},D=y?y.call(t,"date","Date",w):T.call(t,"t","date","Date",w),(D||0===D)&&(E+=D),E+='" />\n          </td>\n          <td>\n            <input type="text"\n                   name="start_time"\n                   class="time_field"\n                   ',D=a.unless.call(t,t&&t.all_day,{hash:{},inverse:z.noop,fn:z.program(10,c,i),data:i}),(D||0===D)&&(E+=D),E+='\n                   aria-label="',y=a.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},D=y?y.call(t,"start_time","Start Time",w):T.call(t,"t","start_time","Start Time",w),(D||0===D)&&(E+=D),E+='"\n                   placeholder="',y=a.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},D=y?y.call(t,"start_time","Start Time",w):T.call(t,"t","start_time","Start Time",w),(D||0===D)&&(E+=D),E+='" />\n          </td>\n          <td><span class="time_separator">-</span></td>\n          <td>\n            <input type="text"\n                   name="end_time"\n                   class="time_field"\n                   ',D=a.unless.call(t,t&&t.all_day,{hash:{},inverse:z.noop,fn:z.program(12,_,i),data:i}),(D||0===D)&&(E+=D),E+='\n                   aria-label="',y=a.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},D=y?y.call(t,"end_time","End Time",w):T.call(t,"t","end_time","End Time",w),(D||0===D)&&(E+=D),E+='"\n                   placeholder="',y=a.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},D=y?y.call(t,"end_time","End Time",w):T.call(t,"t","end_time","End Time",w),(D||0===D)&&(E+=D),E+='" />\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n  <div>\n    <table id="calendar_event_location_info">\n      <tbody>\n        <tr>\n          <td>\n            <label for="calendar_event_location_name">',y=a.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},D=y?y.call(t,"location_name","Location:",w):T.call(t,"t","location_name","Location:",w),(D||0===D)&&(E+=D),E+='</label>\n            <input id="calendar_event_location_name" name="location_name" size="30" maxlength="255" type="text" value="',(y=a.location_name)?D=y.call(t,{hash:{},data:i}):(y=t&&t.location_name,D=typeof y===S?y.call(t,{hash:{},data:i}):y),E+=k(D)+'"/>\n          </td>\n        </tr>\n        <tr>\n          <td>\n            <label for="calendar_event_location_address">',y=a.t||t&&t.t,w={hash:{scope:"calendar.edit_calendar_event_full"},data:i},D=y?y.call(t,"location_address","Address:",w):T.call(t,"t","location_address","Address:",w),(D||0===D)&&(E+=D),E+='</label>\n            <input id="calendar_event_location_address" name="location_address" size="30" maxlength="255" type="text" value="',(y=a.location_address)?D=y.call(t,{hash:{},data:i}):(y=t&&t.location_address,D=typeof y===S?y.call(t,{hash:{},data:i}):y),E+=k(D)+'"/>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n\n  ',D=a["if"].call(t,t&&t.course_sections,{hash:{},inverse:z.noop,fn:z.program(14,u,i),data:i}),(D||0===D)&&(E+=D),E+='\n\n  <div class="form-actions">\n    ',D=a["if"].call(t,t&&t.url,{hash:{},inverse:z.noop,fn:z.program(20,p,i),data:i}),(D||0===D)&&(E+=D),E+="\n    ",D=a["if"].call(t,t&&t.return_to_url,{hash:{},inverse:z.noop,fn:z.program(22,f,i),data:i}),(D||0===D)&&(E+=D),E+='\n    <button type="submit" class="btn btn-primary">\n      ',D=a["if"].call(t,t&&t.newRecord,{hash:{},inverse:z.program(26,b,i),fn:z.program(24,g,i),data:i}),(D||0===D)&&(E+=D),E+="\n    </button>\n  </div>\n\n</form>\n"}),a["calendar/editCalendarEventFull"]}),define("translations/calendar.missing_due_date_dialog",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{calendar:{missing_due_date_dialog:{buttons:{goBack:"عودة",noDueDate:"لا يوجد تاريخ استحقاق"},modal:{chooseDueDate:"هل تريد العودة للسابق وتحديد تاريخ استحقاق؟"}}}},de:{calendar:{missing_due_date_dialog:{buttons:{goBack:"Zurück",noDueDate:"Kein Abgabetermin"},modal:{chooseDueDate:"Möchten Sie zurückgehen und einen Abgabetermin auswählen?"}}}},"en-AU":{calendar:{missing_due_date_dialog:{buttons:{goBack:"Go Back",noDueDate:"No Due Date"},modal:{chooseDueDate:"Do you want to go back and select a due date?"}}}},"en-GB":{calendar:{missing_due_date_dialog:{buttons:{goBack:"Go Back",noDueDate:"No due date"},modal:{chooseDueDate:"Do you want to go back and select a due date?"}}}},es:{calendar:{missing_due_date_dialog:{buttons:{goBack:"Volver",noDueDate:"Sin fecha de vencimiento"},modal:{chooseDueDate:"¿Desea volver atrás y seleccionar una fecha de vencimiento?"}}}},"fa-IR":{calendar:{missing_due_date_dialog:{buttons:{goBack:"بازگشت",noDueDate:"تاریخ مهلت موجود نیست"},modal:{chooseDueDate:"می خواهید بازگردید و یک تاریخ مهلت را انتخاب کنید؟"}}}},fr:{calendar:{missing_due_date_dialog:{buttons:{goBack:"Retour",noDueDate:"Pas de date d’échéance"},modal:{chooseDueDate:"Voulez-vous revenir en arrière et sélectionner une date d’échéance ?"}}}},ja:{calendar:{missing_due_date_dialog:{buttons:{goBack:"戻る",noDueDate:"期日なし"},modal:{chooseDueDate:"戻って期日を選択しますか?"}}}},ko:{calendar:{missing_due_date_dialog:{buttons:{goBack:"뒤로 가기",noDueDate:"기한 없음"},modal:{chooseDueDate:"뒤로 가서 기한을 선택하시겠습니까?"}}}},nb:{calendar:{missing_due_date_dialog:{buttons:{goBack:"Tilbake",noDueDate:"Ingen frist"},modal:{chooseDueDate:"Vil du gå tilbake og sette en frist?"}}}},nl:{calendar:{missing_due_date_dialog:{buttons:{goBack:"Terug gaan",noDueDate:"Geen inleverdatum"},modal:{chooseDueDate:"Wil je teruggaan en een inleverdatum selecteren?"}}}},pl:{calendar:{missing_due_date_dialog:{buttons:{goBack:"Przejdź wstecz",noDueDate:"Brak terminu dostarczenia"},modal:{chooseDueDate:"Czy chcesz wrócić i wybrać termin oddania?"}}}},pt:{calendar:{missing_due_date_dialog:{buttons:{goBack:"Retroceder",noDueDate:"Sem data de entrega"},modal:{chooseDueDate:"Deseja retroceder e selecionar uma data de entrega?"}}}},"pt-BR":{calendar:{missing_due_date_dialog:{buttons:{goBack:"Voltar",noDueDate:"Sem data de entrega"},modal:{chooseDueDate:"Você deseja voltar e selecionar uma data de entrega?"}}}},ru:{calendar:{missing_due_date_dialog:{buttons:{goBack:"Вернуться назад",noDueDate:"Нет даты выполнения"},modal:{chooseDueDate:"Вы хотите вернуться назад и выбрать дату выполнения?"}}}},tr:{calendar:{missing_due_date_dialog:{buttons:{goBack:"Geri Git",noDueDate:"Bitiş Tarihi Yok"},modal:{chooseDueDate:"Geri dönmek ve bir bitiş tarihi seçmek istiyor musunuz?"}}}},zh:{calendar:{missing_due_date_dialog:{buttons:{goBack:"返回",noDueDate:"无截止时间"},modal:{chooseDueDate:"是否要返回并选择截止时间?"}}}}}})
}),define("jst/calendar/missingDueDateDialog",["compiled/handlebars_helpers","i18n!calendar.missing_due_date_dialog"],function(e){var t=e.template,a=e.templates=e.templates||{};return a["calendar/missingDueDateDialog"]=t(function(e,t,a,n,i){function d(e){var t="";return t+="<b>"+_(typeof e===c?e.apply(e):e)+"</b>"}this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),i=i||{};var l,r,o,s="",c="function",_=this.escapeExpression,u=this,h=a.helperMissing;return s+="<div>\n  <p>\n    ",r=a.toSentence||t&&t.toSentence,o={hash:{},inverse:u.noop,fn:u.program(1,d,i),data:i},l=r?r.call(t,t&&t.sections,o):h.call(t,"toSentence",t&&t.sections,o),(l||0===l)&&(s+=l),s+="\n    ",(r=a.description)?l=r.call(t,{hash:{},data:i}):(r=t&&t.description,l=typeof r===c?r.call(t,{hash:{},data:i}):r),s+=_(l)+"\n  <p>\n  ",r=a.t||t&&t.t,o={hash:{scope:"calendar.missing_due_date_dialog"},data:i},l=r?r.call(t,"modal.chooseDueDate","Do you want to go back and select a due date?",o):h.call(t,"t","modal.chooseDueDate","Do you want to go back and select a due date?",o),(l||0===l)&&(s+=l),s+='\n  </p>\n\n  <div class="button-container form-actions">\n    <button type="button" class="btn">',r=a.t||t&&t.t,o={hash:{scope:"calendar.missing_due_date_dialog"},data:i},l=r?r.call(t,"buttons.noDueDate","No Due Date",o):h.call(t,"t","buttons.noDueDate","No Due Date",o),(l||0===l)&&(s+=l),s+='</button>\n    <button type="button" class="btn btn-primary">',r=a.t||t&&t.t,o={hash:{scope:"calendar.missing_due_date_dialog"},data:i},l=r?r.call(t,"buttons.goBack","Go Back",o):h.call(t,"t","buttons.goBack","Go Back",o),(l||0===l)&&(s+=l),s+="</button>\n  </div>\n</div>\n"}),a["calendar/missingDueDateDialog"]}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,a=function(e,a){function n(){this.constructor=e}for(var i in a)t.call(a,i)&&(e[i]=a[i]);return n.prototype=a.prototype,e.prototype=new n,e.__super__=a.prototype,e};define("compiled/views/calendar/MissingDateDialogView",["jquery","underscore","Backbone","i18n!calendar.edit","jst/calendar/missingDueDateDialog","jqueryui/dialog","compiled/jquery/fixDialogButtons"],function(t,n,i,d,l){var r,o,s;return o=i.View,r=function(i){function r(){return this.cancel=e(this.cancel,this),this.onAction=e(this.onAction,this),s=r.__super__.constructor.apply(this,arguments)}return a(r,i),r.prototype.dialogTitle='<span>\n  <i class="icon-warning"></i>\n  '+d.t("titles.warning","Warning")+"\n</span>",r.prototype.initialize=function(e){return r.__super__.initialize.apply(this,arguments),this.validationFn=e.validationFn,this.labelFn=e.labelFn||this.defaultLabelFn,this.success=e.success},r.prototype.defaultLabelFn=function(e){return t("label[for="+t(e).attr("id")+"]").text()},r.prototype.render=function(){return this.invalidFields=this.validationFn(),this.invalidFields===!0?!1:(this.invalidSectionNames=n.map(this.invalidFields,this.labelFn),this.showDialog(),this)},r.prototype.getInvalidFields=function(){var e,a;return e=n.select(this.$dateFields,function(e){return""===t(e).val()}),a=n.map(e,this.labelFn),a.length>0?[e,a]:!1},r.prototype.showDialog=function(){var e,a;return e=d.t("missingDueDate",{one:"%{sections} does not have a due date assigned.",other:"%{sections} do not have a due date assigned."},{sections:"",count:this.invalidSectionNames.length}),a=l({description:e,sections:this.invalidSectionNames}),this.$dialog=t(a).dialog({dialogClass:"dialog-warning",draggable:!1,modal:!0,resizable:!1,title:t(this.dialogTitle)}).fixDialogButtons().on("click",".btn",this.onAction),this.$dialog.parents(".ui-dialog:first").focus()},r.prototype.onAction=function(e){return t(e.currentTarget).hasClass("btn-primary")?this.cancel(this.invalidFields,this.sectionNames):this.success(this.$dialog)},r.prototype.cancel=function(){return this.$dialog.dialog("close").remove(),this.invalidFields[0].focus()},r}(o)})}.call(this),function(){define("compiled/object/unflatten",["underscore"],function(e){var t;return t=function(t){return e(t).reduce(function(t,a,n){var i,d,l,r;if(l=n.split("]["),r=l.length-1,/\[/.test(l[0])&&/\]$/.test(l[r])?(l[r]=l[r].replace(/\]$/,""),l=l.shift().split("[").concat(l),r=l.length-1):r=0,r)for(d=0,i=t;r>=d;)n=""===l[d]?i.length:l[d],i=i[n]=r>d?i[n]||(l[d+1]&&isNaN(l[d+1])?{}:[]):a,d++;else e.isArray(t[n])?t[n].push(a):t[n]=null!=t[n]?[t[n],a]:a;return t},{})}})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,a=function(e,a){function n(){this.constructor=e}for(var i in a)t.call(a,i)&&(e[i]=a[i]);return n.prototype=a.prototype,e.prototype=new n,e.__super__=a.prototype,e};define("compiled/calendar/EditEventView",["jquery","underscore","i18n!calendar.edit","Backbone","jst/calendar/editCalendarEventFull","compiled/views/calendar/MissingDateDialogView","wikiSidebar","compiled/object/unflatten","tinymce.editor_box","compiled/tinymce"],function(t,n,i,d,l,r,o,s){var c,_;return c=function(d){function c(){return this.toggleUseSectionDates=e(this.toggleUseSectionDates,this),this.toggleUsingSectionClass=e(this.toggleUsingSectionClass,this),this.destroyModel=e(this.destroyModel,this),this.render=e(this.render,this),_=c.__super__.constructor.apply(this,arguments)}return a(c,d),c.prototype.el=t("#content"),c.prototype.template=l,c.prototype.events={"submit form":"submit","change #use_section_dates":"toggleUseSectionDates","click .delete_link":"destroyModel","click .switch_event_description_view":"toggleHtmlView"},c.prototype.initialize=function(){var e=this;return c.__super__.initialize.apply(this,arguments),this.model.fetch().done(function(){var t,a;return ENV.NEW_CALENDAR_EVENT_ATTRIBUTES&&(t=e.model.parse(ENV.NEW_CALENDAR_EVENT_ATTRIBUTES),t.all_day=!!(null!=(a=t.start_at)?a.equals(t.end_at):void 0)&&t.start_at.equals(t.start_at.clearTime()),e.model.set(t)),e.render()}),this.model.on("change:use_section_dates",this.toggleUsingSectionClass)},c.prototype.render=function(){var e;return c.__super__.render.apply(this,arguments),this.$(".date_field").date_field(),this.$(".time_field").time_field(),e=this.$("textarea").editorBox(),o.inited||o.init(),o.attachToEditor(e).show(),this},c.prototype.destroyModel=function(){var e,t=this;return e=i.t("confirm_delete_calendar_event","Are you sure you want to delete this calendar event?"),confirm(e)?this.$el.disableWhileLoading(this.model.destroy({success:function(){return t.redirectWithMessage(i.t("event_deleted","%{event_title} deleted successfully",{event_title:t.model.get("title")}))}})):void 0},c.prototype.toggleUsingSectionClass=function(){return this.$("#editCalendarEventFull").toggleClass("use_section_dates",this.model.get("use_section_dates")),t(".show_if_using_sections input").prop("disabled",!this.model.get("use_section_dates"))},c.prototype.toggleUseSectionDates=function(e){return this.model.set("use_section_dates",!this.model.get("use_section_dates")),this.updateRemoveChildEvents(e)},c.prototype.toggleHtmlView=function(e){return null!=e&&e.preventDefault(),t("textarea[name=description]").editorBox("toggle"),t(e.currentTarget).siblings("a").andSelf().toggle()},c.prototype.updateRemoveChildEvents=function(e){var a;return a=t(e.target).prop("checked")?"":"1",t("input[name=remove_child_events]").val(a)},c.prototype.redirectWithMessage=function(e){return t.flashMessage(e),this.model.get("return_to_url")?window.location=this.model.get("return_to_url"):void 0},c.prototype.submit=function(e){var a,d,l=this;return null!=e&&e.preventDefault(),d=s(this.$el.getFormData()),d.use_section_dates="1"===d.use_section_dates,n.each([d].concat(d.child_event_data),this.setStartEnd),"1"===d.remove_child_events&&delete d.child_event_data,t("#use_section_dates").prop("checked")&&(a=new r({validationFn:function(){var e;return e=t("[name*=start_date]:visible").filter(function(){return""===t(this).val()}),e.length>0?e:!0},labelFn:function(e){return t(e).parents("tr").prev().find("label").text()},success:function(e){return e.dialog("close"),l.$el.disableWhileLoading(l.model.save(d,{success:function(){return l.redirectWithMessage(i.t("event_saved","Event Saved Successfully"))}})),e.remove()}}),a.render())?void 0:this.saveEvent(d)},c.prototype.saveEvent=function(e){var t=this;return this.$el.disableWhileLoading(this.model.save(e,{success:function(){return t.redirectWithMessage(i.t("event_saved","Event Saved Successfully"))}}))},c.prototype.setStartEnd=function(e){return e?(e.start_at=t.unfudgeDateForProfileTimezone(Date.parse(e.start_date+" "+e.start_time)),e.end_at=t.unfudgeDateForProfileTimezone(Date.parse(e.start_date+" "+e.end_time))):void 0},c.type="event",c.title=function(){return c.__super__.constructor.title.call(this,"event","Event")},c}(d.View)})}.call(this),function(){require(["jquery","compiled/calendar/CalendarEvent","compiled/calendar/EditEventView","instructure"],function(e,t,a){return e(function(){var e;return e=new t(ENV.CALENDAR_EVENT),new a({model:e})})})}.call(this),define("compiled/bundles/edit_calendar_event",function(){});
define("translations/jobs",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{jobs:{columns:{attempt:"المحاولة",count:"العدد",id:"المعرف",priority:"الأولوية",run_at:"يعمل عند",runtime:"وقت التشغيل",strand:"جزء",tag:"العلامة",worker:"العامل"},confirm:{destroy_all:"هل تريد بالتأكيد هدم *كل* المهام من هذا النوع ومطابقة هذا الاستعلام؟",hold_all:"هل تريد بالتأكيد استبقاء *كل* المهام من هذا النوع ومطابقة هذا الاستعلام؟",unhold_all:"هل تريد بالتأكيد إلغاء استبقاء *كل* المهام من هذا النوع ومطابقة هذا الاستعلام؟"},titles:{job_handler:"معالج المهام",last_error:"الخطأ الأخير"}}},de:{jobs:{columns:{attempt:"Versuch",count:"Zählstand",id:"ID",priority:"Priorität",run_at:"Frequenz",runtime:"Laufzeit",strand:"Strang",tag:"Tag",worker:"Bearbeiter"},confirm:{destroy_all:"Möchten Sie wirklich *alle* Aufträge zerstören, die dieser Anfrage und Kategorie entsprechen?",hold_all:"Möchten Sie wirklich *alle* Aufträge anhalten, die dieser Anfrage und Kategorie entsprechen?",unhold_all:"Möchten Sie wirklich *alle* Aufträge fortsetzen, die dieser Anfrage und Kategorie entsprechen?"},titles:{job_handler:"Auftrags-handler",last_error:"Letzter Fehler"}}},"en-AU":{jobs:{columns:{attempt:"attempt",count:"count",id:"id",priority:"priority",run_at:"run at",runtime:"runtime",strand:"strand",tag:"tag",worker:"worker"},confirm:{destroy_all:"Are you sure you want to destroy *all* jobs of this type and matching this query?",hold_all:"Are you sure you want to hold *all* jobs of this type and matching this query?",unhold_all:"Are you sure you want to unhold *all* jobs of this type and matching this query?"},titles:{job_handler:"Job Handler",last_error:"Last Error"}}},"en-GB":{jobs:{columns:{attempt:"attempt",count:"count",id:"ID",priority:"priority",run_at:"run at",runtime:"runtime",strand:"strand",tag:"tag",worker:"worker"},confirm:{destroy_all:"Are you sure you want to destroy *all* jobs of this type and matching this query?",hold_all:"Are you sure you want to hold *all* jobs of this type and matching this query?",unhold_all:"Are you sure you want to unhold *all* jobs of this type and matching this query?"},titles:{job_handler:"Job handler",last_error:"Last error"}}},es:{jobs:{columns:{attempt:"intento",count:"recuento",id:"id",priority:"prioridad",run_at:"ejecutar en",runtime:"tiempo de ejecución",strand:"hilo",tag:"etiqueta",worker:"trabajador"},confirm:{destroy_all:"¿Está seguro de que desea destruír *todos* los trabajos de este tipo y aquellos similares a esta búsqueda?",hold_all:"¿Está seguro de que quiere detener *todos* los trabajos de este tipo y aquellos similares a esta búsqueda?",unhold_all:"¿Está seguro de que ya no quiere guardar *todos* los trabajos de este tipo y aquellos similares a esta búsqueda?"},titles:{job_handler:"Controlador de trabajos",last_error:"Último Error"}}},"fa-IR":{jobs:{columns:{attempt:"تلاش",count:"تعداد",id:"شناسه",priority:"اولویت",run_at:"اجرا در",runtime:"زمان اجرا",strand:"رشته",tag:"برچسب",worker:"کارگر"},confirm:{destroy_all:"مطمئنید که می خواهید *همه* این نوع کارها و مطابق با این جستجو از بین بروند؟",hold_all:"مطمئنید که می خواهید *همه* این نوع کارها و مطابق با این جستجو حفظ شوند؟",unhold_all:"مطمئنید که می خواهید حفظ *همه* این نوع کارها و مطابق با این جستجو لغو شود؟"},titles:{job_handler:"گرداننده کار",last_error:"آخرین خطا"}}},fr:{jobs:{columns:{attempt:"tentative",count:"nombre",id:"ID",priority:"priorité",run_at:"exécuter à",runtime:"exécution",strand:"élément",tag:"étiquette",worker:"travailleur"},confirm:{destroy_all:"Voulez-vous vraiment supprimer *toutes* les tâches de ce type et qui correspondent à cette requête ?",hold_all:"Voulez-vous vraiment mettre en attente *toutes* les tâches de ce type et qui correspondent à cette requête ?",unhold_all:"Voulez-vous vraiment reprendre *toutes* les tâches de ce type et qui correspondent à cette requête ?"},titles:{job_handler:"Gestionnaire de tâches",last_error:"Dernière erreur"}}},ja:{jobs:{columns:{attempt:"試行",count:"数",id:"ID",priority:"優先順位",run_at:"実行された場所",runtime:"実行時間",strand:"ストランド",tag:"タグ",worker:"ワーカ"},confirm:{destroy_all:"このクエリに一致するこの種類のジョブを *すべて* 破棄してもよろしいですか?",hold_all:"このクエリに一致するこの種類のジョブを *すべて* 保持してもよろしいですか?",unhold_all:"このクエリに一致するこの種類のジョブを *すべて* 保持解除してもよろしいですか?"},titles:{job_handler:"ジョブ ハンドラ",last_error:"最後のエラー"}}},ko:{jobs:{columns:{attempt:"시도",count:"회수",id:"ID",priority:"우선 순위",run_at:"실행 시각",runtime:"실행 시간",strand:"고립",tag:"태그",worker:"작업자"},confirm:{destroy_all:"이 쿼리와 일치하는 이 유형의 *모든* 작업을 제거하시겠습니까?",hold_all:"이 쿼리와 일치하는 이 유형의 *모든* 작업을 보류하시겠습니까?",unhold_all:"이 쿼리와 일치하는 이 유형의 *모든* 작업을 보류 해제하시겠습니까?"},titles:{job_handler:"작업 처리기",last_error:"마지막 오류"}}},nb:{jobs:{columns:{attempt:"forsøk",count:"antall",id:"id",priority:"prioritet",run_at:"kjør på",runtime:"runtime",strand:"tråd",tag:"merke",worker:"arbeider"},confirm:{destroy_all:"Er du sikker på at du vil ødelegge *alle* jobber av denne typen som matcher denne spørringen?",hold_all:"Er du sikker på at du vil stoppe *alle* jobber av denne typen som matcher denne spørringen?",unhold_all:"Er du sikker på at du vil starte opp igjen *alle* jobber av denne typen som matcher denne spørringen?"},titles:{job_handler:"Jobb-behandler",last_error:"Siste feil"}}},nl:{jobs:{columns:{attempt:"poging",count:"aantal",id:"id",priority:"prioriteit",run_at:"uitvoeren op",runtime:"runtime",strand:"stranden",tag:"label",worker:"werker"},confirm:{destroy_all:"Weet je zeker dat je *alle* opdrachten van dit type en die met deze query overeenkomen, wilt vernietigen?",hold_all:"Weet je zeker dat je *alle* opdrachten van dit type en die met deze query overeenkomen, in de wachtstand wilt houden?",unhold_all:"Weet je zeker dat je *alle* opdrachten van dit type en die met deze query overeenkomen, uit de wachtstand wilt halen?"},titles:{job_handler:"Taakhandler",last_error:"Laatste fout"}}},pl:{jobs:{columns:{attempt:"próba",count:"liczba",id:"identyfikator",priority:"priorytet",run_at:"uruchom o",runtime:"środowisko uruchomieniowe",strand:"porzucone",tag:"etykieta",worker:"pracownik"},confirm:{destroy_all:"Czy na pewno chcesz zakończyć *wszystkie* zadania tego typu oraz pasujące do tego zapytania?",hold_all:"Czy na pewno chcesz wstrzymać *wszystkie* zadania tego typu oraz pasujące do tego zapytania?",unhold_all:"Czy na pewno chcesz wznowić *wszystkie* zadania tego typu oraz pasujące do tego zapytania?"},titles:{job_handler:"Obsługa zadań",last_error:"Ostatni błąd"}}},pt:{jobs:{columns:{attempt:"tentativa",count:"contagem",id:"id",priority:"prioridade",run_at:"executar em",runtime:"tempo de execução",strand:"parte",tag:"tag",worker:"trabalhador"},confirm:{destroy_all:"Tem a certeza de que pretende destruir *todos* os trabalhos deste tipo correspondentes a esta consulta?",hold_all:"Tem a certeza de que pretende manter *todos* os trabalhos deste tipo correspondentes a esta consulta?",unhold_all:"Tem a certeza de que não pretende manter *todos* os trabalhos deste tipo correspondentes a esta consulta?"},titles:{job_handler:"Gestor de trabalhos",last_error:"Último erro"}}},"pt-BR":{jobs:{columns:{attempt:"tentativa",count:"contar",id:"id",priority:"prioridade",run_at:"executar em",runtime:"tempo de execução",strand:"parte",tag:"tag",worker:"operário"},confirm:{destroy_all:"Tem certeza que deseja destruir *todos* os trabalhos deste tipo e que correspondem a esta consulta?",hold_all:"Tem certeza que deseja manter *todos* os trabalhos deste tipo e que correspondem a esta consulta?",unhold_all:"Tem certeza que deseja liberar *todos* os trabalhos deste tipo e que correspondem a esta consulta?"},titles:{job_handler:"Manipulador de trabalho",last_error:"Último erro"}}},ru:{jobs:{columns:{attempt:"попытка",count:"Итоговая сумма",id:"идентификатор",priority:"приоритет",run_at:"работает на",runtime:"время выполнения",strand:"конфликт",tag:"тег",worker:"сотрудник"},confirm:{destroy_all:"Вы уверены, что хотите уничтожить *все* работы такого типа и соответствующих этому запросу?",hold_all:"Вы уверены, что хотите сохранить *все* работы такого типа и соответствующих этому вопросу?",unhold_all:"Вы уверены, что хотите раскрыть *все* работы такого типа и соответствующих этому вопросу?"},titles:{job_handler:"Обработчик задания",last_error:"Последняя ошибка"}}},tr:{jobs:{columns:{attempt:"giriş hakkı",count:"sayı",id:"id",priority:"öncelik",run_at:"şu zamanda çalıştır",runtime:"çalışma zamanı",strand:"dizi",tag:"etiket",worker:"çalışan"},confirm:{destroy_all:"Bu türdeki ve bu sorguya uyan *tüm* görevleri silmek istediğinize emin misiniz?",hold_all:"Bu türdeki ve bu sorguya uyan *tüm* görevleri askıya almak istediğinize emin misiniz?",unhold_all:"Bu türdeki ve bu sorguya uyan *tüm* görevleri devam ettirmek istediğinize emin misiniz?"},titles:{job_handler:"Görev İşleyici",last_error:"En Son Hata"}}},zh:{jobs:{columns:{attempt:"已尝试次数",count:"计数",id:"id",priority:"优先级",run_at:"运行位置",runtime:"运行时",strand:"股",tag:"标签",worker:"工作者"},confirm:{destroy_all:"是否确定要摧毁符合此询问的此类型的*所有*任务?",hold_all:"是否确定要保留符合此询问的此类型的*所有*任务?",unhold_all:"是否确定要释放符合此询问的此类型的*所有*任务?"},titles:{job_handler:"任务处理程序",last_error:"上次的错误"}}}}})}),define("vendor/slickgrid/lib/jquery.event.drag-2.2",["jquery"],function(){!function(e){e.fn.drag=function(t,o,n){var r="string"==typeof t?t:"",i=e.isFunction(t)?t:e.isFunction(o)?o:null;return 0!==r.indexOf("drag")&&(r="drag"+r),n=(t==i?o:n)||{},i?this.bind(r,n,i):this.trigger(r)};var t=e.event,o=t.special,n=o.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(t){var o=e.data(this,n.datakey),r=t.data||{};o.related+=1,e.each(n.defaults,function(e){void 0!==r[e]&&(o[e]=r[e])})},remove:function(){e.data(this,n.datakey).related-=1},setup:function(){if(!e.data(this,n.datakey)){var o=e.extend({related:0},n.defaults);e.data(this,n.datakey,o),t.add(this,"touchstart mousedown",n.init,o),this.attachEvent&&this.attachEvent("ondragstart",n.dontstart)}},teardown:function(){var o=e.data(this,n.datakey)||{};o.related||(e.removeData(this,n.datakey),t.remove(this,"touchstart mousedown",n.init),n.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",n.dontstart))},init:function(r){if(!n.touched){var i,l=r.data;if(!(0!=r.which&&l.which>0&&r.which!=l.which||e(r.target).is(l.not)||l.handle&&!e(r.target).closest(l.handle,r.currentTarget).length||(n.touched="touchstart"==r.type?this:null,l.propagates=1,l.mousedown=this,l.interactions=[n.interaction(this,l)],l.target=r.target,l.pageX=r.pageX,l.pageY=r.pageY,l.dragging=null,i=n.hijack(r,"draginit",l),!l.propagates)))return i=n.flatten(i),i&&i.length&&(l.interactions=[],e.each(i,function(){l.interactions.push(n.interaction(this,l))})),l.propagates=l.interactions.length,l.drop!==!1&&o.drop&&o.drop.handler(r,l),n.textselect(!1),n.touched?t.add(n.touched,"touchmove touchend",n.handler,l):t.add(document,"mousemove mouseup",n.handler,l),!n.touched||l.live?!1:void 0}},interaction:function(t,o){var r=e(t)[o.relative?"position":"offset"]()||{top:0,left:0};return{drag:t,callback:new n.callback,droppable:[],offset:r}},handler:function(r){var i=r.data;switch(r.type){case!i.dragging&&"touchmove":r.preventDefault();case!i.dragging&&"mousemove":if(Math.pow(r.pageX-i.pageX,2)+Math.pow(r.pageY-i.pageY,2)<Math.pow(i.distance,2))break;r.target=i.target,n.hijack(r,"dragstart",i),i.propagates&&(i.dragging=!0);case"touchmove":r.preventDefault();case"mousemove":if(i.dragging){if(n.hijack(r,"drag",i),i.propagates){i.drop!==!1&&o.drop&&o.drop.handler(r,i);break}r.type="mouseup"}case"touchend":case"mouseup":default:n.touched?t.remove(n.touched,"touchmove touchend",n.handler):t.remove(document,"mousemove mouseup",n.handler),i.dragging&&(i.drop!==!1&&o.drop&&o.drop.handler(r,i),n.hijack(r,"dragend",i)),n.textselect(!0),i.click===!1&&i.dragging&&e.data(i.mousedown,"suppress.click",(new Date).getTime()+5),i.dragging=n.touched=!1}},hijack:function(o,r,i,l,a){if(i){var s,d,c,u={event:o.originalEvent,type:o.type},h=r.indexOf("drop")?"drag":"drop",p=l||0,f=isNaN(l)?i.interactions.length:l;o.type=r,o.originalEvent=null,i.results=[];do if(d=i.interactions[p]){if("dragend"!==r&&d.cancelled)continue;c=n.properties(o,i,d),d.results=[],e(a||d[h]||i.droppable).each(function(l,a){return c.target=a,o.isPropagationStopped=function(){return!1},s=a?t.dispatch.call(a,o,c):null,s===!1?("drag"==h&&(d.cancelled=!0,i.propagates-=1),"drop"==r&&(d[h][l]=null)):"dropinit"==r&&d.droppable.push(n.element(s)||a),"dragstart"==r&&(d.proxy=e(n.element(s)||d.drag)[0]),d.results.push(s),delete o.result,"dropinit"!==r?s:void 0}),i.results[p]=n.flatten(d.results),"dropinit"==r&&(d.droppable=n.flatten(d.droppable)),"dragstart"!=r||d.cancelled||c.update()}while(++p<f);return o.type=u.type,o.originalEvent=u.event,n.flatten(i.results)}},properties:function(e,t,o){var r=o.callback;return r.drag=o.drag,r.proxy=o.proxy||o.drag,r.startX=t.pageX,r.startY=t.pageY,r.deltaX=e.pageX-t.pageX,r.deltaY=e.pageY-t.pageY,r.originalX=o.offset.left,r.originalY=o.offset.top,r.offsetX=r.originalX+r.deltaX,r.offsetY=r.originalY+r.deltaY,r.drop=n.flatten((o.drop||[]).slice()),r.available=n.flatten((o.droppable||[]).slice()),r},element:function(e){return e&&(e.jquery||1==e.nodeType)?e:void 0},flatten:function(t){return e.map(t,function(t){return t&&t.jquery?e.makeArray(t):t&&t.length?n.flatten(t):t})},textselect:function(t){e(document)[t?"unbind":"bind"]("selectstart",n.dontstart).css("MozUserSelect",t?"":"none"),document.unselectable=t?"off":"on"},dontstart:function(){return!1},callback:function(){}};n.callback.prototype={update:function(){o.drop&&this.available.length&&e.each(this.available,function(e){o.drop.locate(this,e)})}};var r=t.dispatch;t.dispatch=function(t){return e.data(this,"suppress."+t.type)-(new Date).getTime()>0?void e.removeData(this,"suppress."+t.type):r.apply(this,arguments)};var i=t.fixHooks.touchstart=t.fixHooks.touchmove=t.fixHooks.touchend=t.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(t,o){if(o){var n=o.touches&&o.touches[0]||o.changedTouches&&o.changedTouches[0]||null;n&&e.each(i.props,function(e,o){t[o]=n[o]})}return t}};o.draginit=o.dragstart=o.dragend=n}(jQuery)}),define("vendor/slickgrid/slick.core",["jquery","vendor/slickgrid/lib/jquery.event.drag-2.2"],function(){!function(e){function t(){var e=!1,t=!1;this.stopPropagation=function(){e=!0},this.isPropagationStopped=function(){return e},this.stopImmediatePropagation=function(){t=!0},this.isImmediatePropagationStopped=function(){return t}}function o(){var e=[];this.subscribe=function(t){e.push(t)},this.unsubscribe=function(t){for(var o=e.length-1;o>=0;o--)e[o]===t&&e.splice(o,1)},this.notify=function(o,n,r){n=n||new t,r=r||this;for(var i,l=0;l<e.length&&!n.isPropagationStopped()&&!n.isImmediatePropagationStopped();l++)i=e[l].call(r,n,o);return i}}function n(){var e=[];this.subscribe=function(t,o){return e.push({event:t,handler:o}),t.subscribe(o),this},this.unsubscribe=function(t,o){for(var n=e.length;n--;)if(e[n].event===t&&e[n].handler===o)return e.splice(n,1),void t.unsubscribe(o);return this},this.unsubscribeAll=function(){for(var t=e.length;t--;)e[t].event.unsubscribe(e[t].handler);return e=[],this}}function r(e,t,o,n){void 0===o&&void 0===n&&(o=e,n=t),this.fromRow=Math.min(e,o),this.fromCell=Math.min(t,n),this.toRow=Math.max(e,o),this.toCell=Math.max(t,n),this.isSingleRow=function(){return this.fromRow==this.toRow},this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell},this.contains=function(e,t){return e>=this.fromRow&&e<=this.toRow&&t>=this.fromCell&&t<=this.toCell},this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}}function i(){this.__nonDataRow=!0}function l(){this.__group=!0,this.level=0,this.count=0,this.value=null,this.title=null,this.collapsed=!1,this.totals=null,this.rows=[],this.groups=null,this.groupingKey=null}function a(){this.__groupTotals=!0,this.group=null}function s(){var e=null;this.isActive=function(t){return t?e===t:null!==e},this.activate=function(t){if(t!==e){if(null!==e)throw"SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController";if(!t.commitCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()";if(!t.cancelCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()";e=t}},this.deactivate=function(t){if(e!==t)throw"SlickGrid.EditorLock.deactivate: specified editController is not the currently active one";e=null},this.commitCurrentEdit=function(){return e?e.commitCurrentEdit():!0},this.cancelCurrentEdit=function(){return e?e.cancelCurrentEdit():!0}}e.extend(!0,window,{Slick:{Event:o,EventData:t,EventHandler:n,Range:r,NonDataRow:i,Group:l,GroupTotals:a,EditorLock:s,GlobalEditorLock:new s}}),l.prototype=new i,l.prototype.equals=function(e){return this.value===e.value&&this.count===e.count&&this.collapsed===e.collapsed&&this.title===e.title},a.prototype=new i}(jQuery)}),define("vendor/slickgrid/slick.grid",["jquery","vendor/slickgrid/slick.core"],function(jQuery){if("undefined"==typeof jQuery)throw"SlickGrid requires jquery module to be loaded";if(!jQuery.fn.drag)throw"SlickGrid requires jquery.event.drag module to be loaded";if("undefined"==typeof Slick)throw"slick.core.js not loaded";!function($){function SlickGrid(container,data,columns,options){function init(){if($outerContainer=$(container),$container_1=$outerContainer,$outerContainer.length<1)throw new Error("SlickGrid requires a valid container, "+container+" does not exist in the DOM.");maxSupportedCssHeight=maxSupportedCssHeight||getMaxSupportedCssHeight(),scrollbarDimensions=scrollbarDimensions||measureScrollbar(),options=$.extend({},defaults,options),validateAndEnforceOptions(),columnDefaults.width=options.defaultColumnWidth,columnsById={};for(var e=0;e<columns.length;e++){var t=columns[e]=$.extend({},columnDefaults,columns[e]);columnsById[t.id]=e,t.minWidth&&t.width<t.minWidth&&(t.width=t.minWidth),t.maxWidth&&t.width>t.maxWidth&&(t.width=t.maxWidth)}if(options.enableColumnReorder&&!$.fn.sortable)throw new Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");if(editController={commitCurrentEdit:commitCurrentEdit,cancelCurrentEdit:cancelCurrentEdit},$outerContainer.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),$container_1.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),/relative|absolute|fixed/.test($outerContainer.css("position"))||$outerContainer.css("position","relative"),/relative|absolute|fixed/.test($container_1.css("position"))||$container_1.css("position","relative"),$focusSink=$("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo($outerContainer),options.numberOfColumnsToFreeze>0){for(var o=0,n={overflow:"hidden",position:"absolute",left:0,top:0,bottom:0,outline:0},r=uid+" ui-widget",e=0,i=columns.length;i>e&&e<options.numberOfColumnsToFreeze;e++)o+=columns[e].width;$container_0=$("<div class='container_0'></div>").css($.extend({},n,{width:o})).addClass(r).appendTo($outerContainer),$container_1=$("<div class='container_1'></div>").css($.extend({},n,{left:o,right:0})).addClass(r).appendTo($outerContainer),$headerScroller_0=$("<div class='headerScroller_0 slick-header ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_0),$headers_0=$("<div class='headers_0 slick-header-columns' style='left:-1000px' />").appendTo($headerScroller_0),$headerRowScroller_0=$("<div class='headerRowScroller_0 slick-headerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_0),$headerRow_0=$("<div class='headerRow_0 slick-headerrow-columns' />").appendTo($headerRowScroller_0),$headerRowSpacer_0=$("<div class='headerRowSpacer_0' style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($headerRowScroller_0),$topPanelScroller_0=$("<div class='topPanelScroller_0 slick-top-panel-scroller ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_0),$topPanel_0=$("<div class='topPanel_0 slick-top-panel' style='width:10000px' />").appendTo($topPanelScroller_0),options.showTopPanel||$topPanelScroller_0.hide(),options.showHeaderRow||$headerRowScroller_0.hide(),$viewport_0=$("<div class='viewport_0 slick-viewport' style='width:100%;overflow:hidden;outline:0;position:relative;'>").appendTo($container_0),$canvas_0=$("<div class='canvas_0 grid-canvas' />").appendTo($viewport_0)}$headerScroller_1=$("<div class='headerScroller_1 slick-header ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_1),$headers_1=$("<div class='headers_1 slick-header-columns' style='left:-1000px' />").appendTo($headerScroller_1);var l=getHeadersWidth();options.numberOfColumnsToFreeze>0?($headers_0.width(l.frozen+1e3),$headers_1.width(l.nonFrozen)):$headers_1.width(l.nonFrozen),$headerRowScroller_1=$("<div class='headerRowScroller_1 slick-headerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_1),$headerRow_1=$("<div class='headerRow_1 slick-headerrow-columns' />").appendTo($headerRowScroller_1),$headerRowSpacer_1=$("<div class='headerRowSpacer_1' style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($headerRowScroller_1);var a=getCanvasWidth();$headerRowSpacer_1.css("width",a.nonFrozen+scrollbarDimensions.width+"px"),options.numberOfColumnsToFreeze>0&&$headerRowSpacer_0.css("width",a.frozen+"px"),$topPanelScroller_1=$("<div class='topPanelScroller_1 slick-top-panel-scroller ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_1),$topPanel_1=$("<div class='topPanel_1 slick-top-panel' style='width:10000px' />").appendTo($topPanelScroller_1),options.showTopPanel||$topPanelScroller_1.hide(),options.showHeaderRow||$headerRowScroller_1.hide(),$viewport_1=$("<div class='viewport_1 slick-viewport' style='width:100%;overflow:auto;outline:0;position:relative;'>").appendTo($container_1),$viewport_1.css("overflow-y",options.autoHeight?"hidden":"auto"),$canvas_1=$("<div class='canvas_1 grid-canvas' />").appendTo($viewport_1),$focusSink2=$focusSink.clone().appendTo($outerContainer),options.explicitInitialization||finishInitialization()}function finishInitialization(){initialized||(initialized=!0,viewportW_1=parseFloat($.css($outerContainer[0],"width",!0)),measureCellPaddingAndBorder(),disableSelection($headers_1),options.enableTextSelectionOnCells||$viewport_1.bind("selectstart.ui",function(e){return $(e.target).is("input,textarea")}),updateColumnCaches(),createColumnHeaders(),setupColumnSort(),createCssRules(),resizeCanvas(),bindAncestorScrollEvents(),$outerContainer.bind("resize.slickgrid",resizeCanvas),$container_1.bind("resize.slickgrid",resizeCanvas),$viewport_1.bind("scroll",handleScroll).bind("click",handleClick),$headerScroller_1.bind("contextmenu",handleHeaderContextMenu).bind("click",handleHeaderClick).delegate(".slick-header-column","mouseenter",handleHeaderMouseEnter).delegate(".slick-header-column","mouseleave",handleHeaderMouseLeave),$headerRowScroller_1.bind("scroll",handleHeaderRowScroll),$focusSink.add($focusSink2).bind("keydown",handleKeyDown),$canvas_1.bind("keydown",handleKeyDown).bind("click",handleClick).bind("dblclick",handleDblClick).bind("contextmenu",handleContextMenu).bind("draginit",handleDragInit).bind("dragstart",{distance:3},handleDragStart).bind("drag",handleDrag).bind("dragend",handleDragEnd).delegate(".slick-cell","mouseenter",handleMouseEnter).delegate(".slick-cell","mouseleave",handleMouseLeave),options.numberOfColumnsToFreeze>0&&($container_0.bind("resize.slickgrid",resizeCanvas),$viewport_0.bind("mousewheel",function(e){var t=e.originalEvent.wheelDelta,o=scrollTop-t;0>o&&(o=0),handleScroll({wheelDelta:t,scrollTop:o})}),$headerScroller_0.bind("contextmenu",handleHeaderContextMenu).bind("click",handleHeaderClick).delegate(".slick-header-column","mouseenter",handleHeaderMouseEnter).delegate(".slick-header-column","mouseleave",handleHeaderMouseLeave),$headerRowScroller_0.bind("scroll",handleHeaderRowScroll),$canvas_0.bind("keydown",handleKeyDown).bind("click",handleClick).bind("dblclick",handleDblClick).bind("contextmenu",handleContextMenu).bind("draginit",handleDragInit).bind("dragstart",{distance:3},handleDragStart).bind("drag",handleDrag).bind("dragend",handleDragEnd).delegate(".slick-cell","mouseenter",handleMouseEnter).delegate(".slick-cell","mouseleave",handleMouseLeave)))}function registerPlugin(e){plugins.unshift(e),e.init(self)}function unregisterPlugin(e){for(var t=plugins.length;t>=0;t--)if(plugins[t]===e){plugins[t].destroy&&plugins[t].destroy(),plugins.splice(t,1);break}}function setSelectionModel(e){selectionModel&&(selectionModel.onSelectedRangesChanged.unsubscribe(handleSelectedRangesChanged),selectionModel.destroy&&selectionModel.destroy()),selectionModel=e,selectionModel&&(selectionModel.init(self),selectionModel.onSelectedRangesChanged.subscribe(handleSelectedRangesChanged))}function getSelectionModel(){return selectionModel}function getCanvasNode(){var e=$canvas_1[0];return e}function measureScrollbar(){var e=$("<div style='position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo("body"),t={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),t}function getHeadersWidth(){for(var e=0,t=0,o=options.numberOfColumnsToFreeze,n=0,r=columns.length;r>n;n++){var i=columns[n].width;o>n?e+=i:t+=i}return e+=1e3,t+=scrollbarDimensions.width,t=Math.max(t,viewportW_1)+1e3,{frozen:e,nonFrozen:t}}function getCanvasWidth(){for(var e=viewportHasVScroll_1?viewportW_1-scrollbarDimensions.width:viewportW_1,t=0,o=0,n=options.numberOfColumnsToFreeze,r=columns.length;r--;){var i=columns[r].width;n>r?t+=i:o+=i}return o=options.fullWidthRows?Math.max(o,e):o,{frozen:t,nonFrozen:o}}function updateCanvasWidth(e){var t=canvasWidth_0,o=canvasWidth_1,n=getCanvasWidth();canvasWidth_0=n.frozen,canvasWidth_1=n.nonFrozen;var r=getHeadersWidth(),i=0;options.numberOfColumnsToFreeze>0&&canvasWidth_0!=t&&($canvas_0.width(canvasWidth_0),$headerRow_0.width(canvasWidth_0),$headers_0.width(r.frozen),$headerRowSpacer_0.width(canvasWidth_0),void 0!=t&&(i=canvasWidth_0-t,canvasWidth_1-=i,viewportW_1-=i,$container_0[0].style.width=parseInt($container_0[0].style.width)+i+"px",$container_1[0].style.left=canvasWidth_0+"px",$container_1[0].style.width=parseInt($container_1[0].style.width)-i+"px")),(canvasWidth_1!=o||0!=i)&&($canvas_1.width(canvasWidth_1),$headerRow_1.width(canvasWidth_1),$headers_1.width(r.nonFrozen),viewportHasHScroll_1=canvasWidth_1>viewportW_1-scrollbarDimensions.width),$headerRowSpacer_1.width(canvasWidth_1+(viewportHasVScroll_1?scrollbarDimensions.width:0)),(canvasWidth_1!=o||e||0!=i)&&applyColumnWidths()}function disableSelection(e){e&&e.jquery&&e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function getMaxSupportedCssHeight(){for(var e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,o=$("<div style='display:none' />").appendTo(document.body);;){var n=2*e;if(o.css("height",n),n>t||o.height()!==n)break;e=n}return o.remove(),e}function bindAncestorScrollEvents(){for(var e=$canvas_1[0];(e=e.parentNode)!=document.body&&null!=e;)if(e==$viewport_1[0]||e.scrollWidth!=e.clientWidth||e.scrollHeight!=e.clientHeight){var t=$(e);$boundAncestors=$boundAncestors?$boundAncestors.add(t):t,t.bind("scroll."+uid,handleActiveCellPositionChange)}}function unbindAncestorScrollEvents(){$boundAncestors&&($boundAncestors.unbind("scroll."+uid),$boundAncestors=null)}function updateColumnHeader(e,t,o){if(initialized){var n=getColumnIndex(e);if(null!=n){var r=columns[n],i=[];options.numberOfColumnsToFreeze>0&&i.push($headers_0.children()),i.push($headers_1.children());for(var l=0;l<i.length;l++){var a=$headers[l].eq(n);a&&(void 0!==t&&(columns[n].name=t),void 0!==o&&(columns[n].toolTip=o),trigger(self.onBeforeHeaderCellDestroy,{node:a[0],column:r}),a.attr("title",o||"").children().eq(0).html(t),trigger(self.onHeaderCellRendered,{node:a[0],column:r}))}}}}function getHeaderRow(){return $headerRow_1[0]}function getHeaderRowColumn(e){var t,o=getColumnIndex(e);t=options.numberOfColumnsToFreeze?$($.merge($.merge([],$headerRow_0),$headerRow_1)):$headerRow_1;var n=t.children().eq(o);return n&&n[0]}function createColumnHeaders(){function e(){$(this).addClass("ui-state-hover")}function t(){$(this).removeClass("ui-state-hover")}$headers_1.find(".slick-header-column").each(function(){var e=$(this).data("column");e&&trigger(self.onBeforeHeaderCellDestroy,{node:this,column:e})}),$headers_1.empty();var o=getHeadersWidth();$headers_1.width(o.nonFrozen);var n=options.numberOfColumnsToFreeze;n>0&&($headers_0.empty(),$headers_0.width(o.frozen));var r;r=$headerRow_1,n>0&&(r=$($.merge($.merge([],$headerRow_0),$headerRow_1))),r.find(".slick-headerrow-column").each(function(){var e=$(this).data("column");e&&trigger(self.onBeforeHeaderRowCellDestroy,{node:this,column:e})}),r.empty();for(var i=0;i<columns.length;i++){var l=columns[i],a=$("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+l.name+"</span>").width(l.width-headerColumnWidthDiff).attr("id",""+uid+l.id).attr("title",l.toolTip||"").data("column",l).addClass(l.headerCssClass||"").appendTo(n>i?$headers_0:$headers_1);if((options.enableColumnReorder||l.sortable)&&a.on("mouseenter",e).on("mouseleave",t),l.sortable&&(a.addClass("slick-header-sortable"),a.append("<span class='slick-sort-indicator' />")),trigger(self.onHeaderCellRendered,{node:a[0],column:l}),options.showHeaderRow){var s=$("<div class='ui-state-default slick-headerrow-column l"+i+" r"+i+"'></div>").data("column",l).appendTo(n>i?$headerRow_0:$headerRow_1);trigger(self.onHeaderRowCellRendered,{node:s[0],column:l})}}setSortColumns(sortColumns),setupColumnResize(),options.enableColumnReorder&&setupColumnReorder()}function setupColumnSort(){$headers_1.add(options.numberOfColumnsToFreeze?$headers_0:null).click(function(e){if(e.metaKey=e.metaKey||e.ctrlKey,!$(e.target).hasClass("slick-resizable-handle")){var t=$(e.target).closest(".slick-header-column");if(t.length){var o=t.data("column");if(o.sortable){if(!getEditorLock().commitCurrentEdit())return;for(var n=null,r=0;r<sortColumns.length;r++)if(sortColumns[r].columnId==o.id){n=sortColumns[r],n.sortAsc=!n.sortAsc;break}e.metaKey&&options.multiColumnSort?n&&sortColumns.splice(r,1):((e.shiftKey||e.metaKey)&&options.multiColumnSort||(sortColumns=[]),n?0==sortColumns.length&&sortColumns.push(n):(n={columnId:o.id,sortAsc:o.defaultSortAsc},sortColumns.push(n))),setSortColumns(sortColumns),options.multiColumnSort?trigger(self.onSort,{multiColumnSort:!0,sortCols:$.map(sortColumns,function(e){return{sortCol:columns[getColumnIndex(e.columnId)],sortAsc:e.sortAsc}})},e):trigger(self.onSort,{multiColumnSort:!1,sortCol:o,sortAsc:n.sortAsc},e)}}}})}function setupColumnReorder(){options.numberOfColumnsToFreeze>0&&($headers_0.filter(":ui-sortable").sortable("destroy"),$headers_0.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",forcePlaceholderSize:!0,start:function(e,t){t.placeholder.width(t.helper.outerWidth()-headerColumnWidthDiff),$(t.helper).addClass("slick-header-column-active")},beforeStop:function(e,t){$(t.helper).removeClass("slick-header-column-active")},stop:function(e){if(!getEditorLock().commitCurrentEdit())return void $(this).sortable("cancel");for(var t=$headers_0.sortable("toArray"),o=[],n=0;n<t.length;n++){var r=t[n].replace(uid,""),i=getColumnIndex(r),l=columns[i];o.push(l)}for(var a=options.numberOfColumnsToFreeze;a<columns.length;a++)o.push(columns[a]);
setColumns(o),trigger(self.onColumnsReordered,{}),e.stopPropagation(),setupColumnResize()}})),$headers_1.filter(":ui-sortable").sortable("destroy"),$headers_1.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",forcePlaceholderSize:!0,start:function(e,t){$(t.helper).addClass("slick-header-column-active")},beforeStop:function(e,t){$(t.helper).removeClass("slick-header-column-active")},stop:function(e){if(!getEditorLock().commitCurrentEdit())return void $(this).sortable("cancel");for(var t=$headers_1.sortable("toArray"),o=[],n=0;n<options.numberOfColumnsToFreeze;n++)o.push(columns[n]);for(var r=0;r<t.length;r++){var i=t[r].replace(uid,""),l=getColumnIndex(i),a=columns[l];o.push(a)}setColumns(o),trigger(self.onColumnsReordered,{}),e.stopPropagation(),setupColumnResize()}})}function setupColumnResize(){var e,t,o,n,r,i,l,a,s,d,c=[];options.numberOfColumnsToFreeze>0&&c.push($headers_0.children()),c.push($headers_1.children());for(var u=0;u<c.length;u++){if(r=c[u],d=isPartOfAFrozenColumn(r),r.find(".slick-resizable-handle").remove(),r.each(function(e){var t=getIndexOffset(d,e);columns[t].resizable&&(void 0===a&&(a=e),s=e)}),void 0===a)return;r.each(function(c,u){a>c||options.forceFitColumns&&c>=s||(e=$(u),$("<div class='slick-resizable-handle' />").appendTo(u).bind("dragstart",function(e){if(d=isPartOfAFrozenColumn(this),r=getColumnElements(this),!getEditorLock().commitCurrentEdit())return!1;n=e.pageX,$(this).parent().addClass("slick-header-column-active");var a=null,s=null;if(r.each(function(e,t){var o=getIndexOffset(d,e);columns[o].previousWidth=$(t).outerWidth()}),options.forceFitColumns){a=0,s=0;var u;for(t=c+1;t<r.length;t++)u=getIndexOffset(d,t),o=columns[u],o.resizable&&(null!==s&&(o.maxWidth?s+=o.maxWidth-o.previousWidth:s=null),a+=o.previousWidth-Math.max(o.minWidth||0,absoluteColumnMinWidth))}var h=0,p=0;for(t=0;c>=t;t++){var f=getIndexOffset(d,t);o=columns[f],o.resizable&&(null!==p&&(o.maxWidth?p+=o.maxWidth-o.previousWidth:p=null),h+=o.previousWidth-Math.max(o.minWidth||0,absoluteColumnMinWidth))}null===a&&(a=1e5),null===h&&(h=1e5),null===s&&(s=1e5),null===p&&(p=1e5),l=n+Math.min(a,p),i=n-Math.min(h,s)}).bind("drag",function(e){d=isPartOfAFrozenColumn(this),r=getColumnElements(this);var a,s,u=Math.min(l,Math.max(i,e.pageX))-n;if(0>u){for(s=u,t=c;t>=0;t--)o=columns[getIndexOffset(d,t)],o.resizable&&(a=Math.max(o.minWidth||0,absoluteColumnMinWidth),s&&o.previousWidth+s<a?(s+=o.previousWidth-a,o.width=a):(o.width=o.previousWidth+s,s=0));if(options.forceFitColumns)for(s=-u,t=c+1;t<r.length;t++)o=columns[getIndexOffset(d,t)],o.resizable&&(s&&o.maxWidth&&o.maxWidth-o.previousWidth<s?(s-=o.maxWidth-o.previousWidth,o.width=o.maxWidth):(o.width=o.previousWidth+s,s=0))}else{for(s=u,t=c;t>=0;t--)o=columns[getIndexOffset(d,t)],o.resizable&&(s&&o.maxWidth&&o.maxWidth-o.previousWidth<s?(s-=o.maxWidth-o.previousWidth,o.width=o.maxWidth):(o.width=o.previousWidth+s,s=0));if(options.forceFitColumns)for(s=-u,t=c+1;t<r.length;t++)o=columns[getIndexOffset(d,t)],o.resizable&&(a=Math.max(o.minWidth||0,absoluteColumnMinWidth),s&&o.previousWidth+s<a?(s+=o.previousWidth-a,o.width=a):(o.width=o.previousWidth+s,s=0))}applyColumnHeaderWidths(),options.numberOfColumnsToFreeze>0&&updateCanvasWidth(!0),options.syncColumnCellResize&&applyColumnWidths()}).bind("dragend",function(){d=isPartOfAFrozenColumn(this),r=getColumnElements(this);var e;$(this).parent().removeClass("slick-header-column-active");for(var t=0;t<r.length;t++)o=columns[getIndexOffset(d,t)],e=$(r[t]).outerWidth(),o.previousWidth!==e&&o.rerenderOnResize&&invalidateAllRows();updateCanvasWidth(!0),render(),trigger(self.onColumnsResized,{})}))})}}function getIndexOffset(e,t){var o=e?t:t+options.numberOfColumnsToFreeze;return o}function isPartOfAFrozenColumn(e){var t=!1,o=$(e).hasClass("headers_0");return t=o?!0:$(e).parents(".headers_0").length>0}function getColumnElements(e){var t=$(e).parents(".slick-header-columns").children();return t}function getVBoxDelta(e){var t=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],o=0;return $.each(t,function(t,n){o+=parseFloat(e.css(n))||0}),o}function measureCellPaddingAndBorder(){var e,t=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],o=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];e=$("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo($headers_1),headerColumnWidthDiff=headerColumnHeightDiff=0,"border-box"!=e.css("box-sizing")&&"border-box"!=e.css("-moz-box-sizing")&&"border-box"!=e.css("-webkit-box-sizing")&&($.each(t,function(t,o){headerColumnWidthDiff+=parseFloat(e.css(o))||0}),$.each(o,function(t,o){headerColumnHeightDiff+=parseFloat(e.css(o))||0})),e.remove();var n=$("<div class='slick-row' />").appendTo($canvas_1);e=$("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(n),cellWidthDiff=cellHeightDiff=0,"border-box"!=e.css("box-sizing")&&"border-box"!=e.css("-moz-box-sizing")&&"border-box"!=e.css("-webkit-box-sizing")&&($.each(t,function(t,o){cellWidthDiff+=parseFloat(e.css(o))||0}),$.each(o,function(t,o){cellHeightDiff+=parseFloat(e.css(o))||0})),n.remove(),absoluteColumnMinWidth=Math.max(headerColumnWidthDiff,cellWidthDiff)}function createCssRules(){$style=$("<style type='text/css' rel='stylesheet' />").appendTo($("head"));for(var e=options.rowHeight-cellHeightDiff,t=["."+uid+" .slick-header-column { left: 1000px; }","."+uid+" .slick-top-panel { height:"+options.topPanelHeight+"px; }","."+uid+" .slick-headerrow-columns { height:"+options.headerRowHeight+"px; }","."+uid+" .slick-cell { height:"+e+"px; }","."+uid+" .slick-row { height:"+options.rowHeight+"px; }"],o=0;o<columns.length;o++)t.push("."+uid+" .l"+o+" { }"),t.push("."+uid+" .r"+o+" { }");$style[0].styleSheet?$style[0].styleSheet.cssText=t.join(" "):$style[0].appendChild(document.createTextNode(t.join(" ")))}function getColumnCssRules(e){if(!stylesheet){for(var t=document.styleSheets,o=0;o<t.length;o++)if((t[o].ownerNode||t[o].owningElement)==$style[0]){stylesheet=t[o];break}if(!stylesheet)throw new Error("Cannot find stylesheet.");columnCssRulesL=[],columnCssRulesR=[];for(var n,r,i=stylesheet.cssRules||stylesheet.rules,o=0;o<i.length;o++){var l=i[o].selectorText;(n=/\.l\d+/.exec(l))?(r=parseInt(n[0].substr(2,n[0].length-2),10),columnCssRulesL[r]=i[o]):(n=/\.r\d+/.exec(l))&&(r=parseInt(n[0].substr(2,n[0].length-2),10),columnCssRulesR[r]=i[o])}}return{left:columnCssRulesL[e],right:columnCssRulesR[e]}}function removeCssRules(){$style.remove(),stylesheet=null}function destroy(){getEditorLock().cancelCurrentEdit(),trigger(self.onBeforeDestroy,{});for(var e=plugins.length;e--;)unregisterPlugin(plugins[e]);options.enableColumnReorder&&(options.numberOfColumnsToFreeze>0&&$headers_0.filter(":ui-sortable").sortable("destroy"),$headers_1.filter(":ui-sortable").sortable("destroy")),unbindAncestorScrollEvents(),$outerContainer.unbind(".slickgrid"),removeCssRules(),$canvas_1.unbind("draginit dragstart dragend drag"),$outerContainer.empty().removeClass(uid)}function trigger(e,t,o){return o=o||new Slick.EventData,t=t||{},t.grid=self,e.notify(t,o,self)}function getUID(){return uid}function getEditorLock(){return options.editorLock}function getEditController(){return editController}function getColumnIndex(e){return columnsById[e]}function autosizeColumns(){var e,t,o,n=[],r=0,i=0,l=viewportHasVScroll_1?viewportW_1-scrollbarDimensions.width:viewportW_1;for(e=0;e<columns.length;e++)t=columns[e],n.push(t.width),i+=t.width,t.resizable&&(r+=t.width-Math.max(t.minWidth,absoluteColumnMinWidth));for(o=i;i>l&&r;){var a=(i-l)/r;for(e=0;e<columns.length&&i>l;e++){t=columns[e];var s=n[e];if(!(!t.resizable||s<=t.minWidth||absoluteColumnMinWidth>=s)){var d=Math.max(t.minWidth,absoluteColumnMinWidth),c=Math.floor(a*(s-d))||1;c=Math.min(c,s-d),i-=c,r-=c,n[e]-=c}}if(o==i)break;o=i}for(o=i;l>i;){var u=l/i;for(e=0;e<columns.length&&l>i;e++)if(t=columns[e],t.resizable&&!(t.maxWidth<=t.width)){var h=Math.min(Math.floor(u*t.width)-t.width,t.maxWidth-t.width||1e6)||1;i+=h,n[e]+=h}if(o==i)break;o=i}var p=!1;for(e=0;e<columns.length;e++)columns[e].rerenderOnResize&&columns[e].width!=n[e]&&(p=!0),columns[e].width=n[e];applyColumnHeaderWidths(),updateCanvasWidth(!0),p&&(invalidateAllRows(),render())}function applyWidthToHeaders(e){for(var t,o=isPartOfAFrozenColumn(e),n=e.children(),r=0,i=n.length;i>r;r++){t=$(n[r]);var l=getIndexOffset(o,r);t.width()!==columns[l].width-headerColumnWidthDiff&&t.width(columns[l].width-headerColumnWidthDiff)}}function applyColumnHeaderWidths(){initialized&&(options.numberOfColumnsToFreeze>0&&applyWidthToHeaders($headers_0),applyWidthToHeaders($headers_1),updateColumnCaches())}function applyColumnWidths(){for(var e,t,o=0,n=0,r=options.numberOfColumnsToFreeze,i=columns.length,l=0;i>l;l++)e=columns[l].width,t=getColumnCssRules(l),r>l?(t.left.style.left=n+"px",t.right.style.right=canvasWidth_0-n-e+"px",n+=columns[l].width):(t.left.style.left=o+"px",t.right.style.right=canvasWidth_1-o-e+"px",o+=columns[l].width)}function setNumberOfColumnsToFreeze(e){options.numberOfColumnsToFreeze=e}function setSortColumn(e,t){setSortColumns([{columnId:e,sortAsc:t}])}function setSortColumns(e){sortColumns=e;var t=$headers_1.children().add(options.numberOfColumnsToFreeze?$headers_0.children():null);t.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc"),$.each(sortColumns,function(e,o){null==o.sortAsc&&(o.sortAsc=!0);var n=getColumnIndex(o.columnId);null!=n&&t.eq(n).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(o.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function getSortColumns(){return sortColumns}function handleSelectedRangesChanged(e,t){selectedRows=[];for(var o={},n=0;n<t.length;n++)for(var r=t[n].fromRow;r<=t[n].toRow;r++){o[r]||(selectedRows.push(r),o[r]={});for(var i=t[n].fromCell;i<=t[n].toCell;i++)canCellBeSelected(r,i)&&(o[r][columns[i].id]=options.selectedCellCssClass)}setCellCssStyles(options.selectedCellCssClass,o),trigger(self.onSelectedRowsChanged,{rows:getSelectedRows()},e)}function getColumns(){return columns}function updateColumnCaches(){columnPosLeft=[],columnPosRight=[];for(var e=0,t=0,o=options.numberOfColumnsToFreeze,n=0,r=columns.length;r>n;n++)o>n?(columnPosLeft[n]=e,columnPosRight[n]=e+columns[n].width,e+=columns[n].width):(columnPosLeft[n]=t,columnPosRight[n]=t+columns[n].width,t+=columns[n].width)}function setColumns(e){columns=e,columnsById={};for(var t=0;t<columns.length;t++){var o=columns[t]=$.extend({},columnDefaults,columns[t]);columnsById[o.id]=t,o.minWidth&&o.width<o.minWidth&&(o.width=o.minWidth),o.maxWidth&&o.width>o.maxWidth&&(o.width=o.maxWidth)}updateColumnCaches(),initialized&&(invalidateAllRows(),createColumnHeaders(),removeCssRules(),createCssRules(),resizeCanvas(),applyColumnWidths(),handleScroll())}function getOptions(){return options}function setOptions(e){getEditorLock().commitCurrentEdit()&&(makeActiveCellNormal(),options.enableAddRow!==e.enableAddRow&&invalidateRow(getDataLength()),options=$.extend(options,e),validateAndEnforceOptions(),$viewport_1.css("overflow-y",options.autoHeight?"hidden":"auto"),render())}function validateAndEnforceOptions(){options.autoHeight&&(options.leaveSpaceForNewRows=!1)}function setData(e,t){data=e,invalidateAllRows(),updateRowCount(),t&&scrollTo(0)}function getData(){return data}function getDataLength(){return data.getLength?data.getLength():data.length}function getDataLengthIncludingAddNew(){return getDataLength()+(options.enableAddRow?1:0)}function getDataItem(e){return data.getItem?data.getItem(e):data[e]}function getTopPanel(){return $topPanel_1[0]}function setTopPanelVisibility(e){options.showTopPanel!=e&&(options.showTopPanel=e,e?$topPanelScroller_1.slideDown("fast",resizeCanvas):$topPanelScroller_1.slideUp("fast",resizeCanvas))}function setHeaderRowVisibility(e){options.showHeaderRow!=e&&(options.showHeaderRow=e,e?$headerRowScroller_1.slideDown("fast",resizeCanvas):$headerRowScroller_1.slideUp("fast",resizeCanvas))}function getContainerNode(){return $outerContainer.get(0)}function getRowTop(e){return options.rowHeight*e-offset}function getRowFromPosition(e){return Math.floor((e+offset)/options.rowHeight)}function scrollTo(e){e=Math.max(e,0),e=Math.min(e,th-viewportH_1+(viewportHasHScroll_1?scrollbarDimensions.height:0));var t=offset;page=Math.min(n-1,Math.floor(e/ph)),offset=Math.round(page*cj);var o=e-offset;if(offset!=t){var r=getVisibleRange(o);cleanupRows(r),updateRowPositions()}prevScrollTop!=o&&(vScrollDir=o+offset>prevScrollTop+t?1:-1,$viewport_1[0].scrollTop=lastRenderedScrollTop=scrollTop=prevScrollTop=o,options.numberOfColumnsToFreeze>0&&($viewport_0[0].scrollTop=scrollTop),trigger(self.onViewportChanged,{}))}function defaultFormatter(e,t,o){return null==o?"":(o+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function getFormatter(e,t){var o=data.getItemMetadata&&data.getItemMetadata(e),n=o&&o.columns&&(o.columns[t.id]||o.columns[getColumnIndex(t.id)]);return n&&n.formatter||o&&o.formatter||t.formatter||options.formatterFactory&&options.formatterFactory.getFormatter(t)||options.defaultFormatter}function getEditor(e,t){var o=columns[t],n=data.getItemMetadata&&data.getItemMetadata(e),r=n&&n.columns;return r&&r[o.id]&&void 0!==r[o.id].editor?r[o.id].editor:r&&r[t]&&void 0!==r[t].editor?r[t].editor:o.editor||options.editorFactory&&options.editorFactory.getEditor(o)}function getDataItemValueForColumn(e,t){return options.dataItemColumnValueExtractor?options.dataItemColumnValueExtractor(e,t):e[t.field]}function appendRowHtml(e,t,o,n){var r=options.numberOfColumnsToFreeze,i=getDataItem(t),l=n>t&&!i,a="slick-row"+(l?" loading":"")+(t===activeRow?" active":"")+(t%2==1?" odd":" even"),s=data.getItemMetadata&&data.getItemMetadata(t);s&&s.cssClasses&&(a+=" "+s.cssClasses);var d="<div class='ui-widget-content "+a+"' style='top:"+getRowTop(t)+"px;' >";e.nonFrozen.push(d),r>0&&e.frozen.push(d);for(var c,u,h=0,p=columns.length;p>h;h++){if(u=columns[h],c=1,s&&s.columns){var f=s.columns[u.id]||s.columns[h];c=f&&f.colspan||1,"*"===c&&(c=p-h)}if(r&&r>h)appendCellHtml(e,t,h,c,i);else if(columnPosRight[Math.min(p-1,h+c-1)]>o.leftPx){if(columnPosLeft[h]>o.rightPx)break;appendCellHtml(e,t,h,c,i)}c>1&&(h+=c-1)}e.nonFrozen.push("</div>"),r>0&&e.frozen.push("</div>")}function appendCellHtml(e,t,o,n,r){var i=columns[o],l="slick-cell l"+o+" r"+Math.min(columns.length-1,o+n-1)+(i.cssClass?" "+i.cssClass:"");t===activeRow&&o===activeCell&&(l+=" active");for(var a in cellCssClasses)cellCssClasses[a][t]&&cellCssClasses[a][t][i.id]&&(l+=" "+cellCssClasses[a][t][i.id]);var s="<div class='"+l+"'>",d=options.numberOfColumnsToFreeze;if(d>o?e.frozen.push(s):e.nonFrozen.push(s),r){var c=getDataItemValueForColumn(r,i),u=getFormatter(t,i)(t,o,c,i,r);d>o?e.frozen.push(u):e.nonFrozen.push(getFormatter(t,i)(t,o,c,i,r))}d>o?e.frozen.push("</div>"):e.nonFrozen.push("</div>"),rowsCache[t].cellRenderQueue.push(o),rowsCache[t].cellColSpans[o]=n}function cleanupRows(e){for(var t in rowsCache)(t=parseInt(t,10))!==activeRow&&(t<e.top||t>e.bottom)&&removeRowFromCache(t)}function invalidate(){updateRowCount(),invalidateAllRows(),render()}function invalidateAllRows(){currentEditor&&makeActiveCellNormal();for(var e in rowsCache)removeRowFromCache(e)}function removeRowFromCache(e){var t=rowsCache[e];if(t){var o=t.rowNode;options.numberOfColumnsToFreeze>0?(o.nonFrozen&&$canvas_1[0].removeChild(o.nonFrozen),o.frozen&&$canvas_0[0].removeChild(o.frozen)):$canvas_1[0].removeChild(o.nonFrozen),delete rowsCache[e],delete postProcessedRows[e],renderedRows--,counter_rows_removed++}}function invalidateRows(e){var t,o;if(e&&e.length)for(vScrollDir=0,t=0,o=e.length;o>t;t++)currentEditor&&activeRow===e[t]&&makeActiveCellNormal(),rowsCache[e[t]]&&removeRowFromCache(e[t])}function invalidateRow(e){invalidateRows([e])}function updateCell(e,t){var o=getCellNode(e,t);if(o){var n=columns[t],r=getDataItem(e);currentEditor&&activeRow===e&&activeCell===t?currentEditor.loadValue(r):(o.innerHTML=r?getFormatter(e,n)(e,t,getDataItemValueForColumn(r,n),n,r):"",invalidatePostProcessingResults(e))}}function updateRow(e){var t=rowsCache[e];if(t){ensureCellNodesInRowsCache(e);var o=getDataItem(e);for(var n in t.cellNodesByColumnIdx)if(t.cellNodesByColumnIdx.hasOwnProperty(n)){n=0|n;var r=columns[n],i=t.cellNodesByColumnIdx[n];e===activeRow&&n===activeCell&&currentEditor?currentEditor.loadValue(o):i.innerHTML=o?getFormatter(e,r)(e,n,getDataItemValueForColumn(o,r),r,o):""}invalidatePostProcessingResults(e)}}function getViewportHeight(){return parseFloat($.css($outerContainer[0],"height",!0))-parseFloat($.css($outerContainer[0],"paddingTop",!0))-parseFloat($.css($outerContainer[0],"paddingBottom",!0))-parseFloat($.css($headerScroller_1[0],"height"))-getVBoxDelta($headerScroller_1)-(options.showTopPanel?options.topPanelHeight+getVBoxDelta($topPanelScroller_1):0)-(options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller_1):0)}function resizeCanvas(){initialized&&(viewportH_1=options.autoHeight?options.rowHeight*getDataLengthIncludingAddNew():getViewportHeight(),numVisibleRows=Math.ceil(viewportH_1/options.rowHeight),viewportW_1=parseFloat($.css($outerContainer[0],"width",!0)),options.autoHeight||($viewport_1.height(viewportH_1),options.numberOfColumnsToFreeze&&$viewport_0.height(viewportH_1)),options.forceFitColumns&&autosizeColumns(),updateRowCount(),handleScroll(),lastRenderedScrollLeft=-1,render())}function updateRowCount(){getDataLength();if(initialized){numberOfRows=getDataLengthIncludingAddNew()+(options.leaveSpaceForNewRows?numVisibleRows-1:0);var e=viewportHasVScroll_1;viewportHasVScroll_1=!options.autoHeight&&numberOfRows*options.rowHeight>viewportH_1;var t=getDataLengthIncludingAddNew()-1;for(var o in rowsCache)o>=t&&removeRowFromCache(o);activeCellNode&&activeRow>t&&resetActiveCell();var r=h;th=Math.max(options.rowHeight*numberOfRows,viewportH_1-scrollbarDimensions.height),maxSupportedCssHeight>th?(h=ph=th,n=1,cj=0):(h=maxSupportedCssHeight,ph=h/100,n=Math.floor(th/ph),cj=(th-h)/(n-1)),h!==r&&($canvas_1.css("height",h),scrollTop=$viewport_1[0].scrollTop,options.numberOfColumnsToFreeze>0&&$canvas_0.css("height",h+scrollbarDimensions.height));var i=th-viewportH_1>=scrollTop+offset;0==th||0==scrollTop?page=offset=0:scrollTo(i?scrollTop+offset:th-viewportH_1),h!=r&&options.autoHeight&&resizeCanvas(),options.forceFitColumns&&e!=viewportHasVScroll_1&&autosizeColumns(),updateCanvasWidth(!1)}}function getVisibleRange(e,t){return null==e&&(e=scrollTop),null==t&&(t=scrollLeft),{top:getRowFromPosition(e),bottom:getRowFromPosition(e+viewportH_1),leftPx:t,rightPx:t+viewportW_1}}function getRenderedRange(e,t){var o=getVisibleRange(e,t),n=Math.round(viewportH_1/options.rowHeight),r=3;return-1==vScrollDir?(o.top-=n,o.bottom+=r):1==vScrollDir?(o.top-=r,o.bottom+=n):(o.top-=r,o.bottom+=r),o.top=Math.max(0,o.top),o.bottom=Math.min(getDataLengthIncludingAddNew()-1,o.bottom),o.leftPx-=viewportW_1,o.rightPx+=viewportW_1,o.leftPx=Math.max(0,o.leftPx),o.rightPx=Math.min(canvasWidth_1,o.rightPx),o}function ensureCellNodesInRowsCache(e){var t=rowsCache[e];if(t&&t.cellRenderQueue.length){var o=t.rowNode.nonFrozen.lastChild;if(options.numberOfColumnsToFreeze>0)var n=t.rowNode.frozen.lastChild;for(var r=options.numberOfColumnsToFreeze;t.cellRenderQueue.length;){var i=t.cellRenderQueue.pop();r>i?(t.cellNodesByColumnIdx[i]=n,n.previousSibling&&(n=n.previousSibling)):(t.cellNodesByColumnIdx[i]=o,o.previousSibling&&(o=o.previousSibling))}}}function cleanUpCells(e,t){var o=0,n=rowsCache[t],r=[];for(var i in n.cellNodesByColumnIdx)if(n.cellNodesByColumnIdx.hasOwnProperty(i)){i=0|i;var l=n.cellColSpans[i];(columnPosLeft[i]>e.rightPx||columnPosRight[Math.min(columns.length-1,i+l-1)]<e.leftPx)&&(t!=activeRow||i!=activeCell)&&r.push(i)}for(var a,s,d=r.pop();null!=d&&0!=d;){a=n.cellNodesByColumnIdx[d],s=n.rowNode.nonFrozen.childNodes;for(var i=0;i<s.length;i++)if(s[i]==a){n.rowNode.nonFrozen.removeChild(a),delete n.cellColSpans[d],delete n.cellNodesByColumnIdx[d],postProcessedRows[t]&&delete postProcessedRows[t][d],o++;break}d=r.length>0?r.pop():null}}function cleanUpAndRenderCells(e){for(var t,o,n,r={frozen:[],nonFrozen:[]},i=[],l=0,a=e.top,s=e.bottom;s>=a;a++)if(t=rowsCache[a]){ensureCellNodesInRowsCache(a),cleanUpCells(e,a),o=0;var d=data.getItemMetadata&&data.getItemMetadata(a);d=d&&d.columns;for(var c=getDataItem(a),u=0,h=columns.length;h>u&&!(columnPosLeft[u]>e.rightPx);u++)if(null==(n=t.cellColSpans[u])){if(n=1,d){var p=d[columns[u].id]||d[u];n=p&&p.colspan||1,"*"===n&&(n=h-u)}columnPosRight[Math.min(h-1,u+n-1)]>e.leftPx&&(appendCellHtml(r,a,u,n,c),o++),u+=n>1?n-1:0}else u+=n>1?n-1:0;o&&(l+=o,i.push(a))}if(r.nonFrozen.length){var f=document.createElement("div");f.innerHTML=r.nonFrozen.join("");var m=document.createElement("div");m.innerHTML=r.frozen.join("");for(var g,v,w,C=options.numberOfColumnsToFreeze;null!=(g=i.pop());){t=rowsCache[g];for(var b;null!=(b=t.cellRenderQueue.pop());)w=m.lastChild,v=f.lastChild,C>b?(t.rowNode.frozen.appendChild(w),t.cellNodesByColumnIdx[b]=w):(t.rowNode.nonFrozen.appendChild(v),t.cellNodesByColumnIdx[b]=v)}}}function renderRows(e){var t=$canvas_1[0],o={frozen:[],nonFrozen:[]},n=[],r=!1,i=getDataLength(),l=options.numberOfColumnsToFreeze;if(l)var a=$canvas_0[0];for(var s=e.top,d=e.bottom;d>=s;s++)rowsCache[s]||(renderedRows++,n.push(s),rowsCache[s]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]},appendRowHtml(o,s,e,i),activeCellNode&&activeRow===s&&(r=!0),counter_rows_rendered++);if(n.length){var c=document.createElement("div");if(c.innerHTML=o.nonFrozen.join(""),l>0){var u=document.createElement("div");u.innerHTML=o.frozen.join("")}for(var h,s=0,d=n.length;d>s;s++)h=rowsCache[n[s]],h.rowNode={frozen:l>0?a.appendChild(u.firstChild):"",nonFrozen:t.appendChild(c.firstChild)};r&&(activeCellNode=getCellNode(activeRow,activeCell))}}function startPostProcessing(){options.enableAsyncPostRender&&(clearTimeout(h_postrender),h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}function invalidatePostProcessingResults(e){delete postProcessedRows[e],postProcessFromRow=Math.min(postProcessFromRow,e),postProcessToRow=Math.max(postProcessToRow,e),startPostProcessing()}function updateRowPositions(){for(var e in rowsCache){var t=getRowTop(e)+"px";rowsCache[e].rowNode.frozen.style.top=t,rowsCache[e].rowNode.nonFrozen.style.top=t}}function render(){if(initialized){var e=getVisibleRange(),t=getRenderedRange();cleanupRows(t),lastRenderedScrollLeft!=scrollLeft&&cleanUpAndRenderCells(t),renderRows(t),postProcessFromRow=e.top,postProcessToRow=Math.min(getDataLengthIncludingAddNew()-1,e.bottom),startPostProcessing(),lastRenderedScrollTop=scrollTop,lastRenderedScrollLeft=scrollLeft,h_render=null}}function handleHeaderRowScroll(){var e=$headerRowScroller_1[0].scrollLeft;e!=$viewport_1[0].scrollLeft&&($viewport_1[0].scrollLeft=e)}function handleScroll(e){void 0!=e&&void 0!=e.scrollTop&&($viewport_1[0].scrollTop=e.scrollTop),scrollTop=$viewport_1[0].scrollTop,scrollLeft=$viewport_1[0].scrollLeft;var t=Math.abs(scrollTop-prevScrollTop),o=Math.abs(scrollLeft-prevScrollLeft);if(o&&(prevScrollLeft=scrollLeft,$headerScroller_1[0].scrollLeft=scrollLeft,$topPanelScroller_1[0].scrollLeft=scrollLeft,$headerRowScroller_1[0].scrollLeft=scrollLeft),t)if(vScrollDir=scrollTop>prevScrollTop?1:-1,prevScrollTop=scrollTop,options.numberOfColumnsToFreeze>0&&($viewport_0[0].scrollTop=scrollTop),viewportH_1>t)scrollTo(scrollTop+offset);else{var r=offset;page=h==viewportH_1?0:Math.min(n-1,Math.floor(scrollTop*((th-viewportH_1)/(h-viewportH_1))*(1/ph))),offset=Math.round(page*cj),r!=offset&&invalidateAllRows()}(o||t)&&(h_render&&clearTimeout(h_render),(Math.abs(lastRenderedScrollTop-scrollTop)>20||Math.abs(lastRenderedScrollLeft-scrollLeft)>20)&&(options.forceSyncScrolling||Math.abs(lastRenderedScrollTop-scrollTop)<viewportH_1&&Math.abs(lastRenderedScrollLeft-scrollLeft)<viewportW_1?render():h_render=setTimeout(render,50),trigger(self.onViewportChanged,{}))),trigger(self.onScroll,{scrollLeft:scrollLeft,scrollTop:scrollTop})}function asyncPostProcessRows(){for(;postProcessToRow>=postProcessFromRow;){var e=vScrollDir>=0?postProcessFromRow++:postProcessToRow--,t=rowsCache[e];if(t&&!(e>=getDataLength())){postProcessedRows[e]||(postProcessedRows[e]={}),ensureCellNodesInRowsCache(e);for(var o in t.cellNodesByColumnIdx)if(t.cellNodesByColumnIdx.hasOwnProperty(o)){o=0|o;var n=columns[o];if(n.asyncPostRender&&!postProcessedRows[e][o]){var r=t.cellNodesByColumnIdx[o];r&&n.asyncPostRender(r,e,getDataItem(e),n),postProcessedRows[e][o]=!0}}return void(h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}}}function updateCellCssStylesOnRenderedRows(e,t){var o,n,r,i;for(var l in rowsCache){if(i=t&&t[l],r=e&&e[l],i)for(n in i)r&&i[n]==r[n]||(o=getCellNode(l,getColumnIndex(n)),o&&$(o).removeClass(i[n]));if(r)for(n in r)i&&i[n]==r[n]||(o=getCellNode(l,getColumnIndex(n)),o&&$(o).addClass(r[n]))}}function addCellCssStyles(e,t){if(cellCssClasses[e])throw"addCellCssStyles: cell CSS hash with key '"+e+"' already exists.";cellCssClasses[e]=t,updateCellCssStylesOnRenderedRows(t,null),trigger(self.onCellCssStylesChanged,{key:e,hash:t})}function removeCellCssStyles(e){cellCssClasses[e]&&(updateCellCssStylesOnRenderedRows(null,cellCssClasses[e]),delete cellCssClasses[e],trigger(self.onCellCssStylesChanged,{key:e,hash:null}))}function setCellCssStyles(e,t){var o=cellCssClasses[e];cellCssClasses[e]=t,updateCellCssStylesOnRenderedRows(t,o),trigger(self.onCellCssStylesChanged,{key:e,hash:t})}function getCellCssStyles(e){return cellCssClasses[e]}function flashCell(e,t,o){function n(e){e&&setTimeout(function(){r.queue(function(){r.toggleClass(options.cellFlashingCssClass).dequeue(),n(e-1)})},o)}if(o=o||100,rowsCache[e]){var r=$(getCellNode(e,t));n(4)}}function handleDragInit(e,t){var o=getCellFromEvent(e);if(!o||!cellExists(o.row,o.cell))return!1;var n=trigger(self.onDragInit,t,e);return e.isImmediatePropagationStopped()?n:!1}function handleDragStart(e,t){var o=getCellFromEvent(e);if(!o||!cellExists(o.row,o.cell))return!1;var n=trigger(self.onDragStart,t,e);return e.isImmediatePropagationStopped()?n:!1}function handleDrag(e,t){return trigger(self.onDrag,t,e)}function handleDragEnd(e,t){trigger(self.onDragEnd,t,e)}function handleKeyDown(e){trigger(self.onKeyDown,{row:activeRow,cell:activeCell},e);var t=e.isImmediatePropagationStopped();if(!t)if(e.shiftKey||e.altKey||e.ctrlKey)9!=e.which||!e.shiftKey||e.ctrlKey||e.altKey||(t=navigatePrev());else if(27==e.which){if(!getEditorLock().isActive())return;cancelEditAndSetFocus()}else 34==e.which?(navigatePageDown(),t=!0):33==e.which?(navigatePageUp(),t=!0):37==e.which?t=navigateLeft():39==e.which?t=navigateRight():38==e.which?t=navigateUp():40==e.which?t=navigateDown():9==e.which?t=navigateNext():13==e.which&&(options.editable&&(currentEditor?activeRow===getDataLength()?navigateDown():commitEditAndSetFocus():getEditorLock().commitCurrentEdit()&&makeActiveCellEditable()),t=!0);if(t){e.stopPropagation(),e.preventDefault();try{e.originalEvent.keyCode=0}catch(o){}}}function handleClick(e){currentEditor||(e.target!=document.activeElement||$(e.target).hasClass("slick-cell"))&&setFocus();var t=getCellFromEvent(e);!t||null!==currentEditor&&activeRow==t.row&&activeCell==t.cell||(trigger(self.onClick,{row:t.row,cell:t.cell},e),e.isImmediatePropagationStopped()||activeCell==t.cell&&activeRow==t.row||!canCellBeActive(t.row,t.cell)||(!getEditorLock().isActive()||getEditorLock().commitCurrentEdit())&&(scrollRowIntoView(t.row,!1),setActiveCellInternal(getCellNode(t.row,t.cell))))}function handleContextMenu(e){var t=$(e.target).closest(".slick-cell",$canvas_1);0!==t.length&&(activeCellNode!==t[0]||null===currentEditor)&&trigger(self.onContextMenu,{},e)}function handleDblClick(e){var t=getCellFromEvent(e);!t||null!==currentEditor&&activeRow==t.row&&activeCell==t.cell||(trigger(self.onDblClick,{row:t.row,cell:t.cell},e),e.isImmediatePropagationStopped()||options.editable&&gotoCell(t.row,t.cell,!0))}function handleHeaderMouseEnter(e){trigger(self.onHeaderMouseEnter,{column:$(this).data("column")},e)}function handleHeaderMouseLeave(e){trigger(self.onHeaderMouseLeave,{column:$(this).data("column")},e)}function handleHeaderContextMenu(e){var t=$(e.target).closest(".slick-header-column",".slick-header-columns"),o=t&&t.data("column");trigger(self.onHeaderContextMenu,{column:o},e)}function handleHeaderClick(e){var t=$(e.target).closest(".slick-header-column",".slick-header-columns"),o=t&&t.data("column");o&&trigger(self.onHeaderClick,{column:o},e)}function handleMouseEnter(e){trigger(self.onMouseEnter,{},e)}function handleMouseLeave(e){trigger(self.onMouseLeave,{},e)}function cellExists(e,t){return!(0>e||e>=getDataLength()||0>t||t>=columns.length)}function getCellFromPoint(e,t){for(var o=getRowFromPosition(t),n=0,r=0,i=0;i<columns.length&&e>r;i++)r+=columns[i].width,n++;return 0>n&&(n=0),{row:o,cell:n-1}}function getCellFromNode(e){var t=/l\d+/.exec(e.className);if(!t)throw"getCellFromNode: cannot get cell - "+e.className;return parseInt(t[0].substr(1,t[0].length-1),10)}function getRowFromNode(e){for(var t in rowsCache){var o=rowsCache[t].rowNode;if(o.frozen===e||o.nonFrozen===e)return 0|t}return null}function getCanvasFromEvent(e){return jQuery(e.target).closest(".grid-canvas")}function getCellFromEvent(e){var t=getCanvasFromEvent(e),o=$(e.target).closest(".slick-cell",t);if(!o.length)return null;var n=getRowFromNode(o[0].parentNode),r=getCellFromNode(o[0]);return null==n||null==r?null:{row:n,cell:r}}function getCellNodeBox(e,t){if(!cellExists(e,t))return null;for(var o=getRowTop(e),n=o+options.rowHeight-1,r=0,i=0;t>i;i++)r+=columns[i].width;var l=r+columns[t].width;return{top:o,left:r,bottom:n,right:l}}function resetActiveCell(){setActiveCellInternal(null,!1)}function setFocus(){-1==tabbingDirection?$focusSink[0].focus():$focusSink2[0].focus()}function scrollCellIntoView(e,t,o){scrollRowIntoView(e,o);var n=getColspan(e,t),r=columnPosLeft[t],i=columnPosRight[t+(n>1?n-1:0)],l=scrollLeft+viewportW_1;scrollLeft>r?($viewport_1.scrollLeft(r),handleScroll(),render()):i>l&&($viewport_1.scrollLeft(Math.min(r,i-$viewport_1[0].clientWidth)),handleScroll(),render())}function setActiveCellInternal(e,t){null!==activeCellNode&&(makeActiveCellNormal(),$(activeCellNode).removeClass("active"),rowsCache[activeRow]&&($(rowsCache[activeRow].rowNode.frozen).removeClass("active"),$(rowsCache[activeRow].rowNode.nonFrozen).removeClass("active")));var o=activeCellNode!==e;activeCellNode=e,null!=activeCellNode?(activeRow=getRowFromNode(activeCellNode.parentNode),activeCell=activePosX=getCellFromNode(activeCellNode),null==t&&(t=activeRow==getDataLength()||options.autoEdit),$(activeCellNode).addClass("active"),$(rowsCache[activeRow].rowNode.frozen).addClass("active"),$(rowsCache[activeRow].rowNode.nonFrozen).addClass("active"),options.editable&&t&&isCellPotentiallyEditable(activeRow,activeCell)&&(clearTimeout(h_editorLoader),options.asyncEditorLoading?h_editorLoader=setTimeout(function(){makeActiveCellEditable()},options.asyncEditorLoadDelay):makeActiveCellEditable())):activeRow=activeCell=null,o&&trigger(self.onActiveCellChanged,getActiveCell())}function clearTextSelection(){if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}else if(window.getSelection){var t=window.getSelection();t&&t.removeAllRanges&&t.removeAllRanges()}}function isCellPotentiallyEditable(e,t){return e<getDataLength()&&!getDataItem(e)?!1:columns[t].cannotTriggerInsert&&e>=getDataLength()?!1:getEditor(e,t)?!0:!1}function makeActiveCellNormal(){if(currentEditor){if(trigger(self.onBeforeCellEditorDestroy,{editor:currentEditor}),currentEditor.destroy(),currentEditor=null,activeCellNode){var e=getDataItem(activeRow);
if($(activeCellNode).removeClass("editable invalid"),e){var t=columns[activeCell],o=getFormatter(activeRow,t);activeCellNode.innerHTML=o(activeRow,activeCell,getDataItemValueForColumn(e,t),t,e),invalidatePostProcessingResults(activeRow)}}navigator.userAgent.toLowerCase().match(/msie/)&&clearTextSelection(),getEditorLock().deactivate(editController)}}function makeActiveCellEditable(e){if(activeCellNode){if(!options.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";if(clearTimeout(h_editorLoader),isCellPotentiallyEditable(activeRow,activeCell)){var t=columns[activeCell],o=getDataItem(activeRow);if(trigger(self.onBeforeEditCell,{row:activeRow,cell:activeCell,item:o,column:t})===!1)return void setFocus();getEditorLock().activate(editController),$(activeCellNode).addClass("editable"),e||(activeCellNode.innerHTML=""),currentEditor=new(e||getEditor(activeRow,activeCell))({grid:self,gridPosition:absBox($outerContainer[0]),position:absBox(activeCellNode),container:activeCellNode,column:t,item:o||{},commitChanges:commitEditAndSetFocus,cancelChanges:cancelEditAndSetFocus,maxLength:columns[activeCell].maxLength}),o&&currentEditor.loadValue(o),serializedEditorValue=currentEditor.serializeValue(),currentEditor.position&&handleActiveCellPositionChange()}}}function commitEditAndSetFocus(){getEditorLock().commitCurrentEdit()&&(setFocus(),options.autoEdit&&navigateDown())}function cancelEditAndSetFocus(){getEditorLock().cancelCurrentEdit()&&setFocus()}function absBox(e){var t={top:e.offsetTop,left:e.offsetLeft,bottom:0,right:0,width:$(e).outerWidth(),height:$(e).outerHeight(),visible:!0};t.bottom=t.top+t.height,t.right=t.left+t.width;for(var o=e.offsetParent;(e=e.parentNode)!=document.body;)t.visible&&e.scrollHeight!=e.offsetHeight&&"visible"!=$(e).css("overflowY")&&(t.visible=t.bottom>e.scrollTop&&t.top<e.scrollTop+e.clientHeight),t.visible&&e.scrollWidth!=e.offsetWidth&&"visible"!=$(e).css("overflowX")&&(t.visible=t.right>e.scrollLeft&&t.left<e.scrollLeft+e.clientWidth),t.left-=e.scrollLeft,t.top-=e.scrollTop,e===o&&(t.left+=e.offsetLeft,t.top+=e.offsetTop,o=e.offsetParent),t.bottom=t.top+t.height,t.right=t.left+t.width;return t}function getActiveCellPosition(){return absBox(activeCellNode)}function getGridPosition(){return absBox($outerContainer[0])}function handleActiveCellPositionChange(){if(activeCellNode&&(trigger(self.onActiveCellPositionChanged,{}),currentEditor)){var e=getActiveCellPosition();currentEditor.show&&currentEditor.hide&&(e.visible?currentEditor.show():currentEditor.hide()),currentEditor.position&&currentEditor.position(e)}}function getCellEditor(){return currentEditor}function getActiveCell(){return activeCellNode?{row:activeRow,cell:activeCell}:null}function getActiveCellNode(){return activeCellNode}function scrollRowIntoView(e,t){var o=e*options.rowHeight,n=(e+1)*options.rowHeight-viewportH_1+(viewportHasHScroll_1?scrollbarDimensions.height:0);(e+1)*options.rowHeight>scrollTop+viewportH_1+offset?(scrollTo(t?o:n),render()):e*options.rowHeight<scrollTop+offset&&(scrollTo(t?n:o),render())}function scrollRowToTop(e){scrollTo(e*options.rowHeight),render()}function scrollPage(e){var t=e*numVisibleRows;if(scrollTo((getRowFromPosition(scrollTop)+t)*options.rowHeight),render(),options.enableCellNavigation&&null!=activeRow){var o=activeRow+t;o>=getDataLengthIncludingAddNew()&&(o=getDataLengthIncludingAddNew()-1),0>o&&(o=0);for(var n=0,r=null,i=activePosX;activePosX>=n;)canCellBeActive(o,n)&&(r=n),n+=getColspan(o,n);null!==r?(setActiveCellInternal(getCellNode(o,r)),activePosX=i):resetActiveCell()}}function navigatePageDown(){scrollPage(1)}function navigatePageUp(){scrollPage(-1)}function getColspan(e,t){var o=data.getItemMetadata&&data.getItemMetadata(e);if(!o||!o.columns)return 1;var n=o.columns[columns[t].id]||o.columns[t],r=n&&n.colspan;return r="*"===r?columns.length-t:r||1}function findFirstFocusableCell(e){for(var t=0;t<columns.length;){if(canCellBeActive(e,t))return t;t+=getColspan(e,t)}return null}function findLastFocusableCell(e){for(var t=0,o=null;t<columns.length;)canCellBeActive(e,t)&&(o=t),t+=getColspan(e,t);return o}function gotoRight(e,t){if(t>=columns.length)return null;do t+=getColspan(e,t);while(t<columns.length&&!canCellBeActive(e,t));return t<columns.length?{row:e,cell:t,posX:t}:null}function gotoLeft(e,t){if(0>=t)return null;var o=findFirstFocusableCell(e);if(null===o||o>=t)return null;for(var n,r={row:e,cell:o,posX:o};;){if(n=gotoRight(r.row,r.cell,r.posX),!n)return null;if(n.cell>=t)return r;r=n}}function gotoDown(e,t,o){for(var n;;){if(++e>=getDataLengthIncludingAddNew())return null;for(n=t=0;o>=t;)n=t,t+=getColspan(e,t);if(canCellBeActive(e,n))return{row:e,cell:n,posX:o}}}function gotoUp(e,t,o){for(var n;;){if(--e<0)return null;for(n=t=0;o>=t;)n=t,t+=getColspan(e,t);if(canCellBeActive(e,n))return{row:e,cell:n,posX:o}}}function gotoNext(e,t,o){if(null==e&&null==t&&(e=t=o=0,canCellBeActive(e,t)))return{row:e,cell:t,posX:t};var n=gotoRight(e,t,o);if(n)return n;for(var r=null;++e<getDataLengthIncludingAddNew();)if(r=findFirstFocusableCell(e),null!==r)return{row:e,cell:r,posX:r};return null}function gotoPrev(e,t,o){if(null==e&&null==t&&(e=getDataLengthIncludingAddNew()-1,t=o=columns.length-1,canCellBeActive(e,t)))return{row:e,cell:t,posX:t};for(var n,r;!n&&!(n=gotoLeft(e,t,o));){if(--e<0)return null;t=0,r=findLastFocusableCell(e),null!==r&&(n={row:e,cell:r,posX:r})}return n}function navigateRight(){return navigate("right")}function navigateLeft(){return navigate("left")}function navigateDown(){return navigate("down")}function navigateUp(){return navigate("up")}function navigateNext(){return navigate("next")}function navigatePrev(){return navigate("prev")}function navigate(e){if(!options.enableCellNavigation)return!1;if(!activeCellNode&&"prev"!=e&&"next"!=e)return!1;if(!getEditorLock().commitCurrentEdit())return!0;setFocus();var t={up:-1,down:1,left:-1,right:1,prev:-1,next:1};tabbingDirection=t[e];var o={up:gotoUp,down:gotoDown,left:gotoLeft,right:gotoRight,prev:gotoPrev,next:gotoNext},n=o[e],r=n(activeRow,activeCell,activePosX);if(r){var i=r.row==getDataLength();return scrollCellIntoView(r.row,r.cell,!i),setActiveCellInternal(getCellNode(r.row,r.cell)),activePosX=r.posX,!0}return setActiveCellInternal(getCellNode(activeRow,activeCell)),!1}function getCellNode(e,t){return rowsCache[e]?(ensureCellNodesInRowsCache(e),rowsCache[e].cellNodesByColumnIdx[t]):null}function setActiveCell(e,t){initialized&&(e>getDataLength()||0>e||t>=columns.length||0>t||options.enableCellNavigation&&(scrollCellIntoView(e,t,!1),setActiveCellInternal(getCellNode(e,t),!1)))}function canCellBeActive(e,t){if(!options.enableCellNavigation||e>=getDataLengthIncludingAddNew()||0>e||t>=columns.length||0>t)return!1;var o=data.getItemMetadata&&data.getItemMetadata(e);if(o&&"boolean"==typeof o.focusable)return o.focusable;var n=o&&o.columns;return n&&n[columns[t].id]&&"boolean"==typeof n[columns[t].id].focusable?n[columns[t].id].focusable:n&&n[t]&&"boolean"==typeof n[t].focusable?n[t].focusable:columns[t].focusable}function canCellBeSelected(e,t){if(e>=getDataLength()||0>e||t>=columns.length||0>t)return!1;var o=data.getItemMetadata&&data.getItemMetadata(e);if(o&&"boolean"==typeof o.selectable)return o.selectable;var n=o&&o.columns&&(o.columns[columns[t].id]||o.columns[t]);return n&&"boolean"==typeof n.selectable?n.selectable:columns[t].selectable}function gotoCell(e,t,o){if(initialized&&canCellBeActive(e,t)&&getEditorLock().commitCurrentEdit()){scrollCellIntoView(e,t,!1);var n=getCellNode(e,t);setActiveCellInternal(n,o||e===getDataLength()||options.autoEdit),currentEditor||setFocus()}}function commitCurrentEdit(){var e=getDataItem(activeRow),t=columns[activeCell];if(currentEditor){if(currentEditor.isValueChanged()){var o=currentEditor.validate();if(o.valid){if(activeRow<getDataLength()){var n={row:activeRow,cell:activeCell,editor:currentEditor,serializedValue:currentEditor.serializeValue(),prevSerializedValue:serializedEditorValue,execute:function(){this.editor.applyValue(e,this.serializedValue),updateRow(this.row)},undo:function(){this.editor.applyValue(e,this.prevSerializedValue),updateRow(this.row)}};options.editCommandHandler?(makeActiveCellNormal(),options.editCommandHandler(e,t,n)):(n.execute(),makeActiveCellNormal()),trigger(self.onCellChange,{row:activeRow,cell:activeCell,column:t,item:e})}else{var r={};currentEditor.applyValue(r,currentEditor.serializeValue()),makeActiveCellNormal(),trigger(self.onAddNewRow,{item:r,column:t})}return!getEditorLock().isActive()}return $(activeCellNode).removeClass("invalid"),$(activeCellNode).width(),$(activeCellNode).addClass("invalid"),trigger(self.onValidationError,{editor:currentEditor,cellNode:activeCellNode,validationResults:o,row:activeRow,cell:activeCell,column:t}),currentEditor.focus(),!1}makeActiveCellNormal()}return!0}function cancelCurrentEdit(){return makeActiveCellNormal(),!0}function rowsToRanges(e){for(var t=[],o=columns.length-1,n=0;n<e.length;n++)t.push(new Slick.Range(e[n],0,e[n],o));return t}function getSelectedRows(){if(!selectionModel)throw"Selection model is not set";return selectedRows}function setSelectedRows(e){if(!selectionModel)throw"Selection model is not set";selectionModel.setSelectedRanges(rowsToRanges(e))}var defaults={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,autoHeight:!1,editorLock:Slick.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:defaultFormatter,forceSyncScrolling:!1,numberOfColumnsToFreeze:0},columnDefaults={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},th,h,ph,n,cj,page=0,offset=0,vScrollDir=1,initialized=!1,uid="slickgrid_"+Math.round(1e6*Math.random()),self=this,$focusSink,$focusSink2,$outerContainer,$container_0,$container_1,$headerScroller_0,$headerScroller_1,$headers_0,$headers_1,$headerRow_0,$headerRow_1,$headerRowScroller_0,$headerRowScroller_1,$headerRowSpacer_0,$headerRowSpacer_1,$topPanelScroller_0,$topPanelScroller_1,$topPanel_0,$topPanel_1,$viewport_0,$viewport_1,$canvas_0,$canvas_1,canvasWidth_0,canvasWidth_1,$style,$boundAncestors,stylesheet,columnCssRulesL,columnCssRulesR,viewportH_1,viewportW_1,viewportHasHScroll_1,viewportHasVScroll_1,headerColumnWidthDiff=0,headerColumnHeightDiff=0,cellWidthDiff=0,cellHeightDiff=0,absoluteColumnMinWidth,numberOfRows=0,tabbingDirection=1,activePosX,activeRow,activeCell,activeCellNode=null,currentEditor=null,serializedEditorValue,editController,rowsCache={},renderedRows=0,numVisibleRows,prevScrollTop=0,scrollTop=0,lastRenderedScrollTop=0,lastRenderedScrollLeft=0,prevScrollLeft=0,scrollLeft=0,selectionModel,selectedRows=[],plugins=[],cellCssClasses={},columnsById={},sortColumns=[],columnPosLeft=[],columnPosRight=[],h_editorLoader=null,h_render=null,h_postrender=null,postProcessedRows={},postProcessToRow=null,postProcessFromRow=null,counter_rows_rendered=0,counter_rows_removed=0;this.debug=function(){var e="";e+="\ncounter_rows_rendered:  "+counter_rows_rendered,e+="\ncounter_rows_removed:  "+counter_rows_removed,e+="\nrenderedRows:  "+renderedRows,e+="\nnumVisibleRows:  "+numVisibleRows,e+="\nmaxSupportedCssHeight:  "+maxSupportedCssHeight,e+="\nn(umber of pages):  "+n,e+="\n(current) page:  "+page,e+="\npage height (ph):  "+ph,e+="\nvScrollDir:  "+vScrollDir,alert(e)},this.eval=function(expr){return eval(expr)},$.extend(this,{slickGridVersion:"2.1",onScroll:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,onHeaderCellRendered:new Slick.Event,onBeforeHeaderCellDestroy:new Slick.Event,onHeaderRowCellRendered:new Slick.Event,onBeforeHeaderRowCellDestroy:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsResized:new Slick.Event,onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,onBeforeCellEditorDestroy:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,registerPlugin:registerPlugin,unregisterPlugin:unregisterPlugin,getColumns:getColumns,setColumns:setColumns,getColumnIndex:getColumnIndex,updateColumnHeader:updateColumnHeader,setNumberOfColumnsToFreeze:setNumberOfColumnsToFreeze,setSortColumn:setSortColumn,setSortColumns:setSortColumns,getSortColumns:getSortColumns,autosizeColumns:autosizeColumns,getOptions:getOptions,setOptions:setOptions,getData:getData,getDataLength:getDataLength,getDataItem:getDataItem,setData:setData,getSelectionModel:getSelectionModel,setSelectionModel:setSelectionModel,getSelectedRows:getSelectedRows,setSelectedRows:setSelectedRows,getContainerNode:getContainerNode,render:render,invalidate:invalidate,invalidateRow:invalidateRow,invalidateRows:invalidateRows,invalidateAllRows:invalidateAllRows,updateCell:updateCell,updateRow:updateRow,getViewport:getVisibleRange,getRenderedRange:getRenderedRange,resizeCanvas:resizeCanvas,updateRowCount:updateRowCount,scrollRowIntoView:scrollRowIntoView,scrollRowToTop:scrollRowToTop,scrollCellIntoView:scrollCellIntoView,getCanvasNode:getCanvasNode,focus:setFocus,getCellFromPoint:getCellFromPoint,getCellFromEvent:getCellFromEvent,getActiveCell:getActiveCell,setActiveCell:setActiveCell,getActiveCellNode:getActiveCellNode,getActiveCellPosition:getActiveCellPosition,resetActiveCell:resetActiveCell,editActiveCell:makeActiveCellEditable,getCellEditor:getCellEditor,getCellNode:getCellNode,getCellNodeBox:getCellNodeBox,canCellBeSelected:canCellBeSelected,canCellBeActive:canCellBeActive,navigatePrev:navigatePrev,navigateNext:navigateNext,navigateUp:navigateUp,navigateDown:navigateDown,navigateLeft:navigateLeft,navigateRight:navigateRight,navigatePageUp:navigatePageUp,navigatePageDown:navigatePageDown,gotoCell:gotoCell,getTopPanel:getTopPanel,setTopPanelVisibility:setTopPanelVisibility,setHeaderRowVisibility:setHeaderRowVisibility,getHeaderRow:getHeaderRow,getHeaderRowColumn:getHeaderRowColumn,getGridPosition:getGridPosition,flashCell:flashCell,addCellCssStyles:addCellCssStyles,setCellCssStyles:setCellCssStyles,removeCellCssStyles:removeCellCssStyles,getCellCssStyles:getCellCssStyles,getUID:getUID,init:finishInitialization,destroy:destroy,getEditorLock:getEditorLock,getEditController:getEditController}),init()}$.extend(!0,window,{Slick:{Grid:SlickGrid}});var scrollbarDimensions,maxSupportedCssHeight}(jQuery)}),define("vendor/slickgrid/slick.editors",["jquery","vendor/slickgrid/slick.core"],function(e){!function(e){function t(t){var o,n;this.init=function(){o=e("<INPUT type=text class='editor-text' />").appendTo(t.container).bind("keydown.nav",function(t){(t.keyCode===e.ui.keyCode.LEFT||t.keyCode===e.ui.keyCode.RIGHT)&&t.stopImmediatePropagation()}).focus().select()},this.destroy=function(){o.remove()},this.focus=function(){o.focus()},this.getValue=function(){return o.val()},this.setValue=function(e){o.val(e)},this.loadValue=function(e){n=e[t.column.field]||"",o.val(n),o[0].defaultValue=n,o.select()},this.serializeValue=function(){return o.val()},this.applyValue=function(e,o){e[t.column.field]=o},this.isValueChanged=function(){return!(""==o.val()&&null==n)&&o.val()!=n},this.validate=function(){if(t.column.validator){var e=t.column.validator(o.val());if(!e.valid)return e}return{valid:!0,msg:null}},this.init()}function o(t){var o,n;this.init=function(){o=e("<INPUT type=text class='editor-text' />"),o.bind("keydown.nav",function(t){(t.keyCode===e.ui.keyCode.LEFT||t.keyCode===e.ui.keyCode.RIGHT)&&t.stopImmediatePropagation()}),o.appendTo(t.container),o.focus().select()},this.destroy=function(){o.remove()},this.focus=function(){o.focus()},this.loadValue=function(e){n=e[t.column.field],o.val(n),o[0].defaultValue=n,o.select()},this.serializeValue=function(){return parseInt(o.val(),10)||0},this.applyValue=function(e,o){e[t.column.field]=o},this.isValueChanged=function(){return!(""==o.val()&&null==n)&&o.val()!=n},this.validate=function(){return isNaN(o.val())?{valid:!1,msg:"Please enter a valid integer"}:{valid:!0,msg:null}},this.init()}function n(t){var o,n,r=!1;this.init=function(){o=e("<INPUT type=text class='editor-text' />"),o.appendTo(t.container),o.focus().select(),o.datepicker({showOn:"button",buttonImageOnly:!0,buttonImage:"../images/calendar.gif",beforeShow:function(){r=!0},onClose:function(){r=!1}}),o.width(o.width()-18)},this.destroy=function(){e.datepicker.dpDiv.stop(!0,!0),o.datepicker("hide"),o.datepicker("destroy"),o.remove()},this.show=function(){r&&e.datepicker.dpDiv.stop(!0,!0).show()},this.hide=function(){r&&e.datepicker.dpDiv.stop(!0,!0).hide()},this.position=function(t){r&&e.datepicker.dpDiv.css("top",t.top+30).css("left",t.left)},this.focus=function(){o.focus()},this.loadValue=function(e){n=e[t.column.field],o.val(n),o[0].defaultValue=n,o.select()},this.serializeValue=function(){return o.val()},this.applyValue=function(e,o){e[t.column.field]=o},this.isValueChanged=function(){return!(""==o.val()&&null==n)&&o.val()!=n},this.validate=function(){return{valid:!0,msg:null}},this.init()}function r(t){var o,n;this.init=function(){o=e("<SELECT tabIndex='0' class='editor-yesno'><OPTION value='yes'>Yes</OPTION><OPTION value='no'>No</OPTION></SELECT>"),o.appendTo(t.container),o.focus()},this.destroy=function(){o.remove()},this.focus=function(){o.focus()},this.loadValue=function(e){o.val((n=e[t.column.field])?"yes":"no"),o.select()},this.serializeValue=function(){return"yes"==o.val()},this.applyValue=function(e,o){e[t.column.field]=o},this.isValueChanged=function(){return o.val()!=n},this.validate=function(){return{valid:!0,msg:null}},this.init()}function i(t){var o,n;this.init=function(){o=e("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>"),o.appendTo(t.container),o.focus()},this.destroy=function(){o.remove()},this.focus=function(){o.focus()},this.loadValue=function(e){n=!!e[t.column.field],n?o.prop("checked",!0):o.prop("checked",!1)},this.serializeValue=function(){return o.prop("checked")},this.applyValue=function(e,o){e[t.column.field]=o},this.isValueChanged=function(){return this.serializeValue()!==n},this.validate=function(){return{valid:!0,msg:null}},this.init()}function l(t){var o,n,r;this.init=function(){o=e("<INPUT type=text class='editor-percentcomplete' />"),o.width(e(t.container).innerWidth()-25),o.appendTo(t.container),n=e("<div class='editor-percentcomplete-picker' />").appendTo(t.container),n.append("<div class='editor-percentcomplete-helper'><div class='editor-percentcomplete-wrapper'><div class='editor-percentcomplete-slider' /><div class='editor-percentcomplete-buttons' /></div></div>"),n.find(".editor-percentcomplete-buttons").append("<button val=0>Not started</button><br/><button val=50>In Progress</button><br/><button val=100>Complete</button>"),o.focus().select(),n.find(".editor-percentcomplete-slider").slider({orientation:"vertical",range:"min",value:r,slide:function(e,t){o.val(t.value)}}),n.find(".editor-percentcomplete-buttons button").bind("click",function(){o.val(e(this).attr("val")),n.find(".editor-percentcomplete-slider").slider("value",e(this).attr("val"))})},this.destroy=function(){o.remove(),n.remove()},this.focus=function(){o.focus()},this.loadValue=function(e){o.val(r=e[t.column.field]),o.select()},this.serializeValue=function(){return parseInt(o.val(),10)||0},this.applyValue=function(e,o){e[t.column.field]=o},this.isValueChanged=function(){return!(""==o.val()&&null==r)&&(parseInt(o.val(),10)||0)!=r},this.validate=function(){return isNaN(parseInt(o.val(),10))?{valid:!1,msg:"Please enter a valid positive number"}:{valid:!0,msg:null}},this.init()}function a(t){var o,n,r,i=this;this.init=function(){var r=e("body");n=e("<DIV style='z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/>").appendTo(r),o=e("<TEXTAREA hidefocus rows=5 style='backround:white;width:250px;height:80px;border:0;outline:0'>").appendTo(n),e("<DIV style='text-align:right'><BUTTON>Save</BUTTON><BUTTON>Cancel</BUTTON></DIV>").appendTo(n),n.find("button:first").bind("click",this.save),n.find("button:last").bind("click",this.cancel),o.bind("keydown",this.handleKeyDown),i.position(t.position),o.focus().select()},this.handleKeyDown=function(o){o.which==e.ui.keyCode.ENTER&&o.ctrlKey?i.save():o.which==e.ui.keyCode.ESCAPE?(o.preventDefault(),i.cancel()):o.which==e.ui.keyCode.TAB&&o.shiftKey?(o.preventDefault(),t.grid.navigatePrev()):o.which==e.ui.keyCode.TAB&&(o.preventDefault(),t.grid.navigateNext())},this.save=function(){t.commitChanges()},this.cancel=function(){o.val(r),t.cancelChanges()},this.hide=function(){n.hide()},this.show=function(){n.show()},this.position=function(e){n.css("top",e.top-5).css("left",e.left-5)},this.destroy=function(){n.remove()},this.focus=function(){o.focus()},this.loadValue=function(e){o.val(r=e[t.column.field]),o.select()},this.serializeValue=function(){return o.val()},this.applyValue=function(e,o){e[t.column.field]=o},this.isValueChanged=function(){return!(""==o.val()&&null==r)&&o.val()!=r},this.validate=function(){return{valid:!0,msg:null}},this.init()}e.extend(!0,window,{Slick:{Editors:{Text:t,Integer:o,Date:n,YesNoSelect:r,Checkbox:i,PercentComplete:l,LongText:a}}})}(e)}),define("vendor/slickgrid/plugins/slick.rowselectionmodel",["jquery","vendor/slickgrid/slick.core"],function(e){!function(e){function t(t){function o(o){v=e.extend(!0,{},y,t),m=o,b.subscribe(m.onActiveCellChanged,r(h)),b.subscribe(m.onKeyDown,r(p)),b.subscribe(m.onClick,r(f))}function n(){b.unsubscribeAll()}function r(e){return function(){g||(g=!0,e.apply(this,arguments),g=!1)}}function i(e){for(var t=[],o=0;o<e.length;o++)for(var n=e[o].fromRow;n<=e[o].toRow;n++)t.push(n);return t}function l(e){for(var t=[],o=m.getColumns().length-1,n=0;n<e.length;n++)t.push(new Slick.Range(e[n],0,e[n],o));return t}function a(e,t){var o,n=[];for(o=e;t>=o;o++)n.push(o);for(o=t;e>o;o++)n.push(o);return n}function s(){return i(w)}function d(e){c(l(e))}function c(e){w=e,C.onSelectedRangesChanged.notify(w)}function u(){return w}function h(e,t){v.selectActiveRow&&null!=t.row&&c([new Slick.Range(t.row,0,t.row,m.getColumns().length-1)])}function p(e){var t=m.getActiveCell();if(t&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&(38==e.which||40==e.which)){var o=s();o.sort(function(e,t){return e-t}),o.length||(o=[t.row]);var n,r=o[0],i=o[o.length-1];n=40==e.which?t.row<i||r==i?++i:++r:t.row<i?--i:--r,n>=0&&n<m.getDataLength()&&(m.scrollRowIntoView(n),w=l(a(r,i)),c(w)),e.preventDefault(),e.stopPropagation()}}function f(t){var o=m.getCellFromEvent(t);if(!o||!m.canCellBeActive(o.row,o.cell))return!1;var n=i(w),r=e.inArray(o.row,n);if(!(t.ctrlKey||t.shiftKey||t.metaKey))return!1;if(m.getOptions().multiSelect)if(-1===r&&(t.ctrlKey||t.metaKey))n.push(o.row),m.setActiveCell(o.row,o.cell);else if(-1!==r&&(t.ctrlKey||t.metaKey))n=e.grep(n,function(e){return e!==o.row}),m.setActiveCell(o.row,o.cell);else if(n.length&&t.shiftKey){var a=n.pop(),s=Math.min(o.row,a),d=Math.max(o.row,a);n=[];for(var u=s;d>=u;u++)u!==a&&n.push(u);n.push(a),m.setActiveCell(o.row,o.cell)}return w=l(n),c(w),t.stopImmediatePropagation(),!0}var m,g,v,w=[],C=this,b=new Slick.EventHandler,y={selectActiveRow:!0};e.extend(this,{getSelectedRows:s,setSelectedRows:d,getSelectedRanges:u,setSelectedRanges:c,init:o,destroy:n,onSelectedRangesChanged:new Slick.Event})}e.extend(!0,window,{Slick:{RowSelectionModel:t}})}(e)}),define("vendor/slickgrid",["vendor/slickgrid/slick.grid","vendor/slickgrid/slick.editors","vendor/slickgrid/plugins/slick.rowselectionmodel"],function(){return Slick}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,o=function(e,o){function n(){this.constructor=e}for(var r in o)t.call(o,r)&&(e[r]=o[r]);return n.prototype=o.prototype,e.prototype=new n,e.__super__=o.prototype,e};define("compiled/jobs",["i18n!jobs","jquery","vendor/slickgrid","jquery.ajaxJSON","jqueryui/dialog"],function(t,n,r){var i,l,a,s,d;return s=function(e){return n("#show-job .show-field").each(function(t,o){var r;return r=o.id.replace("job-",""),n(o).text(e[r]||"")}),n("#job-id-link").attr("href","/jobs?flavor=id&q="+e.id)},d=null,i=function(){function t(t,o,r){this.options=t,this.type_name=o,this.grid_name=r,this.change_flavor=e(this.change_flavor,this),this.refresh=e(this.refresh,this),this.restoreSelection=e(this.restoreSelection,this),this.saveSelection=e(this.saveSelection,this),this.setTimer=e(this.setTimer,this),this.data=[],this.$element=n(this.grid_name),this.setTimer(),this.query=""}return t.prototype.setTimer=function(){var e=this;return setTimeout(this.refresh,0),this.options.refresh_rate?setTimeout(function(){return e.refresh(e.setTimer)},this.options.refresh_rate):void 0},t.prototype.saveSelection=function(){var e,t,o,n,r;if("running"===this.type_name){for(this.oldSelected={},n=this.grid.getSelectedRows(),r=[],t=0,o=n.length;o>t;t++)e=n[t],r.push(this.oldSelected[this.data[e].id]=!0);return r}},t.prototype.restoreSelection=function(){var e,t,o,n,r,i;if("running"===this.type_name){for(e=0,o=[],i=this.data,n=0,r=i.length;r>n;n++)t=i[n],this.oldSelected[t.id]&&o.push(e),e+=1;return this.restoringSelection=!0,this.grid.setSelectedRows(o),this.restoringSelection=!1}},t.prototype.refresh=function(e){var t=this;return this.$element.queue(function(){return n.ajaxJSON(t.options.url,"GET",{flavor:t.options.flavor,q:t.query},function(o){var n,r,i,l,a,s,d,c;for(t.saveSelection(),t.data.length=0,t.loading={},s=o[t.type_name],i=0,a=s.length;a>i;i++)r=s[i],t.data.push(r);if(o.total&&o.total>t.data.length)for(n=l=d=t.data.length,c=o.total;c>=d?c>l:l>c;n=c>=d?++l:--l)t.data.push({});return t.sortData?t.sort(null,t.sortData):(t.grid.invalidate(),t.restoreSelection()),"function"==typeof e&&e(),"function"==typeof t.updated&&t.updated(),t.$element.dequeue()})})},t.prototype.change_flavor=function(e){return this.options.flavor=e,this.grid.setSelectedRows([]),this.refresh()},t.prototype.grid_options=function(){return{rowHeight:20}},t.prototype.init=function(){return this.columns=this.build_columns(),this.loading={},this.grid=new r.Grid(this.grid_name,this.data,this.columns,this.grid_options()),this},t}(),window.Jobs=function(i){function l(t,o,r){null==o&&(o="jobs"),null==r&&(r="#jobs-grid"),this.id_formatter=e(this.id_formatter,this),this.load=e(this.load,this),this.attempts_formatter=e(this.attempts_formatter,this),this.change_flavor=e(this.change_flavor,this),this.show_search=e(this.show_search,this),t.max_attempts&&(l.max_attempts=t.max_attempts),l.__super__.constructor.call(this,t,o,r),t.starting_query&&(this.query=t.starting_query),this.show_search(n("#jobs-flavor").val())}return o(l,i),l.prototype.search=function(e){return this.query=e,this.refresh()},l.prototype.show_search=function(e){switch(e){case"id":case"strand":case"tag":return n("#jobs-search").show(),n("#jobs-search").attr("placeholder",e);default:return n("#jobs-search").hide()}},l.prototype.change_flavor=function(e){return this.show_search(e),l.__super__.change_flavor.call(this,e)},l.prototype.attempts_formatter=function(e,t,o){var n,r,i;return this.data[e].id?(r=this.data[e].max_attempts||l.max_attempts,0===o?n="":r>o?n="has-failed-attempts":o===this.options.on_hold_attempt_count?(n="on-hold",o="hold"):n="has-failed-max-attempts",i="hold"===o?"":"/ "+r,"<span class='"+n+"'>"+o+i+"</span>"):""},l.prototype.load=function(e){var t=this;return this.$element.queue(function(){return e-=e%t.options.limit,t.loading[e]?void t.$element.dequeue():(t.loading[e]=!0,n.ajaxJSON(t.options.url,"GET",{flavor:t.options.flavor,q:t.query,offset:e},function(o){var n;return[].splice.apply(t.data,[e,e+o[t.type_name].length-e].concat(n=o[t.type_name])),n,t.grid.invalidate(),t.$element.dequeue()}))})},l.prototype.id_formatter=function(e){return this.data[e].id?this.data[e].id:(this.load(e),"<span class='unloaded-id'>-</span>")},l.prototype.build_columns=function(){return[{id:"id",name:t.t("columns.id","id"),field:"id",width:100,formatter:this.id_formatter},{id:"tag",name:t.t("columns.tag","tag"),field:"tag",width:200},{id:"attempts",name:t.t("columns.attempt","attempt"),field:"attempts",width:65,formatter:this.attempts_formatter},{id:"priority",name:t.t("columns.priority","priority"),field:"priority",width:60},{id:"strand",name:t.t("columns.strand","strand"),field:"strand",width:100},{id:"run_at",name:t.t("columns.run_at","run at"),field:"run_at",width:165}]},l.prototype.init=function(){var e=this;return l.__super__.init.call(this),this.grid.setSelectionModel(new r.RowSelectionModel),this.grid.onSelectedRowsChanged.subscribe(function(){var t,o;if(!e.restoringSelection)return o=e.grid.getSelectedRows(),t=1===(null!=o?o.length:void 0)?o[0]:-1,d=e.data[o[0]]||{},s(d)}),this},l.prototype.selectAll=function(){var e;return this.grid.setSelectedRows(function(){e=[];for(var t=0,o=this.data.length;o>=0?o>t:t>o;o>=0?t++:t--)e.push(t);return e}.apply(this)),this.grid.onSelectedRowsChanged.notify()},l.prototype.onSelected=function(e){var o,r,i,l;return i={flavor:this.options.flavor,q:this.query,update_action:e},this.grid.getSelectedRows().length<1?void alert("No jobs are selected"):(o=this.grid.getSelectedRows().length>1&&this.grid.getSelectedRows().length===this.data.length,!o||(r=function(){switch(e){case"hold":return t.t("confirm.hold_all","Are you sure you want to hold *all* jobs of this type and matching this query?");case"unhold":return t.t("confirm.unhold_all","Are you sure you want to unhold *all* jobs of this type and matching this query?");case"destroy":return t.t("confirm.destroy_all","Are you sure you want to destroy *all* jobs of this type and matching this query?")}}(),confirm(r))?(o||(i.job_ids=function(){var e,t,o,n;for(o=this.grid.getSelectedRows(),n=[],e=0,t=o.length;t>e;e++)l=o[e],n.push(this.data[l].id);return n}.call(this)),n.ajaxJSON(this.options.batch_update_url,"POST",i,this.refresh),this.grid.setSelectedRows([])):void 0)},l.prototype.updated=function(){return n("#jobs-total").text(this.data.length),1===this.data.length&&"jobs"===this.type_name?(this.grid.setSelectedRows([0]),this.grid.onSelectedRowsChanged.notify()):void 0},l.prototype.getFullJobDetails=function(e){return!d||d.handler?e():n.ajaxJSON(""+this.options.job_url+"/"+d.id,"GET",{flavor:this.options.flavor},function(t){return d.handler=t.handler,d.last_error=t.last_error,s(d),e()})},l}(i),a=function(n){function r(t){this.runtime_formatter=e(this.runtime_formatter,this),r.__super__.constructor.call(this,t,"running","#running-grid")}return o(r,n),r.prototype.runtime_formatter=function(e,t,o){var n,r,i,l;return i=(new Date-Date.parse(o))/1e3,r=i>=this.options.super_slow_threshold?"super-slow":i>this.options.slow_threshold?"slow":"",n="HH:mm:ss",i>86400&&(n="d\\dHH:mm:ss"),l=new Date(null,null,null,null,null,i).toString(n),i>2419200&&(l="FOREVA"),"<span class='"+r+"'>"+l+"</span>"},r.prototype.build_columns=function(){var e,o,n,i;for(o=[{id:"worker",name:t.t("columns.worker","worker"),field:"locked_by",width:90}].concat(r.__super__.build_columns.call(this)),o.pop(),o.push({id:"runtime",name:t.t("columns.runtime","runtime"),field:"locked_at",width:85,formatter:this.runtime_formatter}),n=0,i=o.length;i>n;n++)e=o[n],e.sortable=!0;
return o},r.prototype.updated=function(){},r.prototype.init=function(){var e=this;return r.__super__.init.call(this),this.sort=function(t,o){var n;return e.sortData=o,t&&e.saveSelection(),n=o.sortCol.field,e.data.sort(function(e,t){var r,i,l;return r=e[n]||"",i=t[n]||"",l=r>i?1:i>r?-1:0,o.sortAsc||(l=-l),"locked_at"===n&&(l=-l),l}),e.grid.invalidate(),e.restoreSelection()},this.grid.onSort.subscribe(this.sort),this.grid.setSortColumn("runtime",!1),this.sortData={sortCol:{field:"locked_at"},sortAsc:!1}},r}(Jobs),l=function(e){function i(e){i.__super__.constructor.call(this,e,"tags","#tags-grid")}return o(i,e),i.prototype.build_columns=function(){return[{id:"tag",name:t.t("columns.tag","tag"),field:"tag",width:200},{id:"count",name:t.t("columns.count","count"),field:"count",width:50}]},i.prototype.grid_options=function(){return n.extend(i.__super__.grid_options.call(this),{enableCellNavigation:!1})},i.prototype.init=function(){return i.__super__.init.call(this),this.grid.setSelectionModel(new r.RowSelectionModel),this},i}(i),n.extend(window,{Jobs:Jobs,Workers:a,Tags:l}),n(document).ready(function(){var e;return n("#tags-flavor").change(function(){return window.tags.change_flavor(n(this).val())}),n("#jobs-flavor").change(function(){return window.jobs.change_flavor(n(this).val())}),n("#jobs-refresh").click(function(){return window.jobs.refresh()}),e=void 0===n("#jobs-search")[0].onsearch?"change":"search",n("#jobs-search").bind(e,function(){return window.jobs.search(n(this).val())}),n("#select-all-jobs").click(function(){return window.jobs.selectAll()}),n("#hold-jobs").click(function(){return window.jobs.onSelected("hold")}),n("#un-hold-jobs").click(function(){return window.jobs.onSelected("unhold")}),n("#delete-jobs").click(function(){return window.jobs.onSelected("destroy")}),n("#job-handler-show").click(function(){return window.jobs.getFullJobDetails(function(){return n("#job-handler-wrapper").clone().dialog({title:t.t("titles.job_handler","Job Handler"),width:900,height:700,modal:!0})}),!1}),n("#job-last_error-show").click(function(){return window.jobs.getFullJobDetails(function(){return n("#job-last_error-wrapper").clone().dialog({title:t.t("titles.last_error","Last Error"),width:900,height:700,modal:!0})}),!1})}),{Jobs:Jobs,Workers:a,Tags:l}})}.call(this),function(){require(["jquery","compiled/jobs"],function(e,t){return window.jobs=new t.Jobs(ENV.JOBS.opts).init(),window.running=new t.Workers(ENV.JOBS.running_opts).init(),window.tags=new t.Tags(ENV.JOBS.tags_opts).init()})}.call(this),define("compiled/bundles/jobs",function(){});
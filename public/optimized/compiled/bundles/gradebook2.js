define("translations/LongTextEditor",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{LongTextEditor:{cancel:"إلغاء",save:"حفظ"}},de:{LongTextEditor:{cancel:"Abbrechen",save:"Speichern"}},"en-AU":{LongTextEditor:{cancel:"Cancel",save:"Save"}},"en-GB":{LongTextEditor:{cancel:"Cancel",save:"Save"}},es:{LongTextEditor:{cancel:"Cancelar",save:"Guardar"}},"fa-IR":{LongTextEditor:{cancel:"لغو",save:"ذخیره سازی"}},fr:{LongTextEditor:{cancel:"Annuler",save:"Enregistrer"}},ja:{LongTextEditor:{cancel:"キャンセル",save:"保存"}},ko:{LongTextEditor:{cancel:"취소",save:"저장"}},nb:{LongTextEditor:{cancel:"Avbryt",save:"Lagre"}},nl:{LongTextEditor:{cancel:"Annuleren",save:"Opslaan"}},pl:{LongTextEditor:{cancel:"Anuluj",save:"Zapisz"}},pt:{LongTextEditor:{cancel:"Cancelar",save:"Guardar"}},"pt-BR":{LongTextEditor:{cancel:"Cancelar",save:"Salvar"}},ru:{LongTextEditor:{cancel:"Отменить",save:"Сохранить"}},tr:{LongTextEditor:{cancel:"İptal",save:"Kaydet"}},zh:{LongTextEditor:{cancel:"取消",save:"保存"}}}})}),define("slickgrid.long_text_editor",["jquery","i18n!LongTextEditor"],function(e,t){function n(n){var o,i,a,s=this;this.init=function(){var a=e("body");i=e("<DIV class=dontblur style='z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/>").appendTo(a),o=e("<TEXTAREA hidefocus maxlength="+n.maxLength+" rows=5 style='backround:white;width:250px;height:80px;border:0;outline:0'>").appendTo(i);var r=t.t("save","Save"),l=t.t("cancel","Cancel");e("<DIV style='text-align:right'><BUTTON>"+r+"</BUTTON><BUTTON>"+l+"</BUTTON></DIV>").appendTo(i),i.find("button:first").bind("click",this.save),i.find("button:last").bind("click",this.cancel),o.bind("keydown",this.handleKeyDown),s.position(n.position),o.focus().select()},this.handleKeyDown=function(t){t.which==e.ui.keyCode.ENTER&&t.ctrlKey?s.save():t.which==e.ui.keyCode.ESCAPE?(t.preventDefault(),s.cancel()):t.which==e.ui.keyCode.TAB&&t.shiftKey?(t.preventDefault(),n.grid.navigatePrev()):t.which==e.ui.keyCode.TAB&&(t.preventDefault(),n.grid.navigateNext())},this.save=function(){n.commitChanges()},this.cancel=function(){o.val(a),n.cancelChanges()},this.hide=function(){i.hide()},this.show=function(){i.show()},this.position=function(e){i.css("top",e.top-5).css("left",e.left-5)},this.destroy=function(){i.remove()},this.focus=function(){o.focus()},this.loadValue=function(e){o.val(a=e[n.column.field]),o.select()},this.serializeValue=function(){return o.val()},this.applyValue=function(e,t){e[n.column.field]=t},this.isValueChanged=function(){return!(""==o.val()&&null==a)&&o.val()!=a},this.validate=function(){return{valid:!0,msg:null}},this.init()}return n}),define("jst/KeyboardNavDialog",["compiled/handlebars_helpers"],function(e){var t=e.template,n=e.templates=e.templates||{};return n.KeyboardNavDialog=t(function(e,t,n,o,i){function a(e,t){var o,i,a="";return a+='\n  <li>\n    <span class="keycode">',(i=n.key)?o=i.call(e,{hash:{},data:t}):(i=e&&e.key,o=typeof i===l?i.call(e,{hash:{},data:t}):i),a+=u(o)+'</span>\n    <span class="colon">:</span>\n    <span class="description">',(i=n.desc)?o=i.call(e,{hash:{},data:t}):(i=e&&e.desc,o=typeof i===l?i.call(e,{hash:{},data:t}):i),a+=u(o)+"</span>\n  </li>\n  "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,r="",l="function",u=this.escapeExpression,d=this;return r+='<ul class="navigation_list" tabindex="-1">\n  ',s=n.each.call(t,t&&t.keyBindings,{hash:{},inverse:d.noop,fn:d.program(1,a,i),data:i}),(s||0===s)&&(r+=s),r+="\n</ul>\n"}),n.KeyboardNavDialog}),define("vendor/slickgrid/lib/jquery.event.drag-2.2",["jquery"],function(){!function(e){e.fn.drag=function(t,n,o){var i="string"==typeof t?t:"",a=e.isFunction(t)?t:e.isFunction(n)?n:null;return 0!==i.indexOf("drag")&&(i="drag"+i),o=(t==a?n:o)||{},a?this.bind(i,o,a):this.trigger(i)};var t=e.event,n=t.special,o=n.drag={defaults:{which:1,distance:0,not:":input",handle:null,relative:!1,drop:!0,click:!1},datakey:"dragdata",noBubble:!0,add:function(t){var n=e.data(this,o.datakey),i=t.data||{};n.related+=1,e.each(o.defaults,function(e){void 0!==i[e]&&(n[e]=i[e])})},remove:function(){e.data(this,o.datakey).related-=1},setup:function(){if(!e.data(this,o.datakey)){var n=e.extend({related:0},o.defaults);e.data(this,o.datakey,n),t.add(this,"touchstart mousedown",o.init,n),this.attachEvent&&this.attachEvent("ondragstart",o.dontstart)}},teardown:function(){var n=e.data(this,o.datakey)||{};n.related||(e.removeData(this,o.datakey),t.remove(this,"touchstart mousedown",o.init),o.textselect(!0),this.detachEvent&&this.detachEvent("ondragstart",o.dontstart))},init:function(i){if(!o.touched){var a,s=i.data;if(!(0!=i.which&&s.which>0&&i.which!=s.which||e(i.target).is(s.not)||s.handle&&!e(i.target).closest(s.handle,i.currentTarget).length||(o.touched="touchstart"==i.type?this:null,s.propagates=1,s.mousedown=this,s.interactions=[o.interaction(this,s)],s.target=i.target,s.pageX=i.pageX,s.pageY=i.pageY,s.dragging=null,a=o.hijack(i,"draginit",s),!s.propagates)))return a=o.flatten(a),a&&a.length&&(s.interactions=[],e.each(a,function(){s.interactions.push(o.interaction(this,s))})),s.propagates=s.interactions.length,s.drop!==!1&&n.drop&&n.drop.handler(i,s),o.textselect(!1),o.touched?t.add(o.touched,"touchmove touchend",o.handler,s):t.add(document,"mousemove mouseup",o.handler,s),!o.touched||s.live?!1:void 0}},interaction:function(t,n){var i=e(t)[n.relative?"position":"offset"]()||{top:0,left:0};return{drag:t,callback:new o.callback,droppable:[],offset:i}},handler:function(i){var a=i.data;switch(i.type){case!a.dragging&&"touchmove":i.preventDefault();case!a.dragging&&"mousemove":if(Math.pow(i.pageX-a.pageX,2)+Math.pow(i.pageY-a.pageY,2)<Math.pow(a.distance,2))break;i.target=a.target,o.hijack(i,"dragstart",a),a.propagates&&(a.dragging=!0);case"touchmove":i.preventDefault();case"mousemove":if(a.dragging){if(o.hijack(i,"drag",a),a.propagates){a.drop!==!1&&n.drop&&n.drop.handler(i,a);break}i.type="mouseup"}case"touchend":case"mouseup":default:o.touched?t.remove(o.touched,"touchmove touchend",o.handler):t.remove(document,"mousemove mouseup",o.handler),a.dragging&&(a.drop!==!1&&n.drop&&n.drop.handler(i,a),o.hijack(i,"dragend",a)),o.textselect(!0),a.click===!1&&a.dragging&&e.data(a.mousedown,"suppress.click",(new Date).getTime()+5),a.dragging=o.touched=!1}},hijack:function(n,i,a,s,r){if(a){var l,u,d,c={event:n.originalEvent,type:n.type},g=i.indexOf("drop")?"drag":"drop",m=s||0,h=isNaN(s)?a.interactions.length:s;n.type=i,n.originalEvent=null,a.results=[];do if(u=a.interactions[m]){if("dragend"!==i&&u.cancelled)continue;d=o.properties(n,a,u),u.results=[],e(r||u[g]||a.droppable).each(function(s,r){return d.target=r,n.isPropagationStopped=function(){return!1},l=r?t.dispatch.call(r,n,d):null,l===!1?("drag"==g&&(u.cancelled=!0,a.propagates-=1),"drop"==i&&(u[g][s]=null)):"dropinit"==i&&u.droppable.push(o.element(l)||r),"dragstart"==i&&(u.proxy=e(o.element(l)||u.drag)[0]),u.results.push(l),delete n.result,"dropinit"!==i?l:void 0}),a.results[m]=o.flatten(u.results),"dropinit"==i&&(u.droppable=o.flatten(u.droppable)),"dragstart"!=i||u.cancelled||d.update()}while(++m<h);return n.type=c.type,n.originalEvent=c.event,o.flatten(a.results)}},properties:function(e,t,n){var i=n.callback;return i.drag=n.drag,i.proxy=n.proxy||n.drag,i.startX=t.pageX,i.startY=t.pageY,i.deltaX=e.pageX-t.pageX,i.deltaY=e.pageY-t.pageY,i.originalX=n.offset.left,i.originalY=n.offset.top,i.offsetX=i.originalX+i.deltaX,i.offsetY=i.originalY+i.deltaY,i.drop=o.flatten((n.drop||[]).slice()),i.available=o.flatten((n.droppable||[]).slice()),i},element:function(e){return e&&(e.jquery||1==e.nodeType)?e:void 0},flatten:function(t){return e.map(t,function(t){return t&&t.jquery?e.makeArray(t):t&&t.length?o.flatten(t):t})},textselect:function(t){e(document)[t?"unbind":"bind"]("selectstart",o.dontstart).css("MozUserSelect",t?"":"none"),document.unselectable=t?"off":"on"},dontstart:function(){return!1},callback:function(){}};o.callback.prototype={update:function(){n.drop&&this.available.length&&e.each(this.available,function(e){n.drop.locate(this,e)})}};var i=t.dispatch;t.dispatch=function(t){return e.data(this,"suppress."+t.type)-(new Date).getTime()>0?void e.removeData(this,"suppress."+t.type):i.apply(this,arguments)};var a=t.fixHooks.touchstart=t.fixHooks.touchmove=t.fixHooks.touchend=t.fixHooks.touchcancel={props:"clientX clientY pageX pageY screenX screenY".split(" "),filter:function(t,n){if(n){var o=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0]||null;o&&e.each(a.props,function(e,n){t[n]=o[n]})}return t}};n.draginit=n.dragstart=n.dragend=o}(jQuery)}),define("vendor/slickgrid/slick.core",["jquery","vendor/slickgrid/lib/jquery.event.drag-2.2"],function(){!function(e){function t(){var e=!1,t=!1;this.stopPropagation=function(){e=!0},this.isPropagationStopped=function(){return e},this.stopImmediatePropagation=function(){t=!0},this.isImmediatePropagationStopped=function(){return t}}function n(){var e=[];this.subscribe=function(t){e.push(t)},this.unsubscribe=function(t){for(var n=e.length-1;n>=0;n--)e[n]===t&&e.splice(n,1)},this.notify=function(n,o,i){o=o||new t,i=i||this;for(var a,s=0;s<e.length&&!o.isPropagationStopped()&&!o.isImmediatePropagationStopped();s++)a=e[s].call(i,o,n);return a}}function o(){var e=[];this.subscribe=function(t,n){return e.push({event:t,handler:n}),t.subscribe(n),this},this.unsubscribe=function(t,n){for(var o=e.length;o--;)if(e[o].event===t&&e[o].handler===n)return e.splice(o,1),void t.unsubscribe(n);return this},this.unsubscribeAll=function(){for(var t=e.length;t--;)e[t].event.unsubscribe(e[t].handler);return e=[],this}}function i(e,t,n,o){void 0===n&&void 0===o&&(n=e,o=t),this.fromRow=Math.min(e,n),this.fromCell=Math.min(t,o),this.toRow=Math.max(e,n),this.toCell=Math.max(t,o),this.isSingleRow=function(){return this.fromRow==this.toRow},this.isSingleCell=function(){return this.fromRow==this.toRow&&this.fromCell==this.toCell},this.contains=function(e,t){return e>=this.fromRow&&e<=this.toRow&&t>=this.fromCell&&t<=this.toCell},this.toString=function(){return this.isSingleCell()?"("+this.fromRow+":"+this.fromCell+")":"("+this.fromRow+":"+this.fromCell+" - "+this.toRow+":"+this.toCell+")"}}function a(){this.__nonDataRow=!0}function s(){this.__group=!0,this.level=0,this.count=0,this.value=null,this.title=null,this.collapsed=!1,this.totals=null,this.rows=[],this.groups=null,this.groupingKey=null}function r(){this.__groupTotals=!0,this.group=null}function l(){var e=null;this.isActive=function(t){return t?e===t:null!==e},this.activate=function(t){if(t!==e){if(null!==e)throw"SlickGrid.EditorLock.activate: an editController is still active, can't activate another editController";if(!t.commitCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .commitCurrentEdit()";if(!t.cancelCurrentEdit)throw"SlickGrid.EditorLock.activate: editController must implement .cancelCurrentEdit()";e=t}},this.deactivate=function(t){if(e!==t)throw"SlickGrid.EditorLock.deactivate: specified editController is not the currently active one";e=null},this.commitCurrentEdit=function(){return e?e.commitCurrentEdit():!0},this.cancelCurrentEdit=function(){return e?e.cancelCurrentEdit():!0}}e.extend(!0,window,{Slick:{Event:n,EventData:t,EventHandler:o,Range:i,NonDataRow:a,Group:s,GroupTotals:r,EditorLock:l,GlobalEditorLock:new l}}),s.prototype=new a,s.prototype.equals=function(e){return this.value===e.value&&this.count===e.count&&this.collapsed===e.collapsed&&this.title===e.title},r.prototype=new a}(jQuery)}),define("vendor/slickgrid/slick.grid",["jquery","vendor/slickgrid/slick.core"],function(jQuery){if("undefined"==typeof jQuery)throw"SlickGrid requires jquery module to be loaded";if(!jQuery.fn.drag)throw"SlickGrid requires jquery.event.drag module to be loaded";if("undefined"==typeof Slick)throw"slick.core.js not loaded";!function($){function SlickGrid(container,data,columns,options){function init(){if($outerContainer=$(container),$container_1=$outerContainer,$outerContainer.length<1)throw new Error("SlickGrid requires a valid container, "+container+" does not exist in the DOM.");maxSupportedCssHeight=maxSupportedCssHeight||getMaxSupportedCssHeight(),scrollbarDimensions=scrollbarDimensions||measureScrollbar(),options=$.extend({},defaults,options),validateAndEnforceOptions(),columnDefaults.width=options.defaultColumnWidth,columnsById={};for(var e=0;e<columns.length;e++){var t=columns[e]=$.extend({},columnDefaults,columns[e]);columnsById[t.id]=e,t.minWidth&&t.width<t.minWidth&&(t.width=t.minWidth),t.maxWidth&&t.width>t.maxWidth&&(t.width=t.maxWidth)}if(options.enableColumnReorder&&!$.fn.sortable)throw new Error("SlickGrid's 'enableColumnReorder = true' option requires jquery-ui.sortable module to be loaded");if(editController={commitCurrentEdit:commitCurrentEdit,cancelCurrentEdit:cancelCurrentEdit},$outerContainer.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),$container_1.empty().css("overflow","hidden").css("outline",0).addClass(uid).addClass("ui-widget"),/relative|absolute|fixed/.test($outerContainer.css("position"))||$outerContainer.css("position","relative"),/relative|absolute|fixed/.test($container_1.css("position"))||$container_1.css("position","relative"),$focusSink=$("<div tabIndex='0' hideFocus style='position:fixed;width:0;height:0;top:0;left:0;outline:0;'></div>").appendTo($outerContainer),options.numberOfColumnsToFreeze>0){for(var n=0,o={overflow:"hidden",position:"absolute",left:0,top:0,bottom:0,outline:0},i=uid+" ui-widget",e=0,a=columns.length;a>e&&e<options.numberOfColumnsToFreeze;e++)n+=columns[e].width;$container_0=$("<div class='container_0'></div>").css($.extend({},o,{width:n})).addClass(i).appendTo($outerContainer),$container_1=$("<div class='container_1'></div>").css($.extend({},o,{left:n,right:0})).addClass(i).appendTo($outerContainer),$headerScroller_0=$("<div class='headerScroller_0 slick-header ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_0),$headers_0=$("<div class='headers_0 slick-header-columns' style='left:-1000px' />").appendTo($headerScroller_0),$headerRowScroller_0=$("<div class='headerRowScroller_0 slick-headerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_0),$headerRow_0=$("<div class='headerRow_0 slick-headerrow-columns' />").appendTo($headerRowScroller_0),$headerRowSpacer_0=$("<div class='headerRowSpacer_0' style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($headerRowScroller_0),$topPanelScroller_0=$("<div class='topPanelScroller_0 slick-top-panel-scroller ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_0),$topPanel_0=$("<div class='topPanel_0 slick-top-panel' style='width:10000px' />").appendTo($topPanelScroller_0),options.showTopPanel||$topPanelScroller_0.hide(),options.showHeaderRow||$headerRowScroller_0.hide(),$viewport_0=$("<div class='viewport_0 slick-viewport' style='width:100%;overflow:hidden;outline:0;position:relative;'>").appendTo($container_0),$canvas_0=$("<div class='canvas_0 grid-canvas' />").appendTo($viewport_0)}$headerScroller_1=$("<div class='headerScroller_1 slick-header ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_1),$headers_1=$("<div class='headers_1 slick-header-columns' style='left:-1000px' />").appendTo($headerScroller_1);var s=getHeadersWidth();options.numberOfColumnsToFreeze>0?($headers_0.width(s.frozen+1e3),$headers_1.width(s.nonFrozen)):$headers_1.width(s.nonFrozen),$headerRowScroller_1=$("<div class='headerRowScroller_1 slick-headerrow ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_1),$headerRow_1=$("<div class='headerRow_1 slick-headerrow-columns' />").appendTo($headerRowScroller_1),$headerRowSpacer_1=$("<div class='headerRowSpacer_1' style='display:block;height:1px;position:absolute;top:0;left:0;'></div>").appendTo($headerRowScroller_1);var r=getCanvasWidth();$headerRowSpacer_1.css("width",r.nonFrozen+scrollbarDimensions.width+"px"),options.numberOfColumnsToFreeze>0&&$headerRowSpacer_0.css("width",r.frozen+"px"),$topPanelScroller_1=$("<div class='topPanelScroller_1 slick-top-panel-scroller ui-state-default' style='overflow:hidden;position:relative;' />").appendTo($container_1),$topPanel_1=$("<div class='topPanel_1 slick-top-panel' style='width:10000px' />").appendTo($topPanelScroller_1),options.showTopPanel||$topPanelScroller_1.hide(),options.showHeaderRow||$headerRowScroller_1.hide(),$viewport_1=$("<div class='viewport_1 slick-viewport' style='width:100%;overflow:auto;outline:0;position:relative;'>").appendTo($container_1),$viewport_1.css("overflow-y",options.autoHeight?"hidden":"auto"),$canvas_1=$("<div class='canvas_1 grid-canvas' />").appendTo($viewport_1),$focusSink2=$focusSink.clone().appendTo($outerContainer),options.explicitInitialization||finishInitialization()}function finishInitialization(){initialized||(initialized=!0,viewportW_1=parseFloat($.css($outerContainer[0],"width",!0)),measureCellPaddingAndBorder(),disableSelection($headers_1),options.enableTextSelectionOnCells||$viewport_1.bind("selectstart.ui",function(e){return $(e.target).is("input,textarea")}),updateColumnCaches(),createColumnHeaders(),setupColumnSort(),createCssRules(),resizeCanvas(),bindAncestorScrollEvents(),$outerContainer.bind("resize.slickgrid",resizeCanvas),$container_1.bind("resize.slickgrid",resizeCanvas),$viewport_1.bind("scroll",handleScroll).bind("click",handleClick),$headerScroller_1.bind("contextmenu",handleHeaderContextMenu).bind("click",handleHeaderClick).delegate(".slick-header-column","mouseenter",handleHeaderMouseEnter).delegate(".slick-header-column","mouseleave",handleHeaderMouseLeave),$headerRowScroller_1.bind("scroll",handleHeaderRowScroll),$focusSink.add($focusSink2).bind("keydown",handleKeyDown),$canvas_1.bind("keydown",handleKeyDown).bind("click",handleClick).bind("dblclick",handleDblClick).bind("contextmenu",handleContextMenu).bind("draginit",handleDragInit).bind("dragstart",{distance:3},handleDragStart).bind("drag",handleDrag).bind("dragend",handleDragEnd).delegate(".slick-cell","mouseenter",handleMouseEnter).delegate(".slick-cell","mouseleave",handleMouseLeave),options.numberOfColumnsToFreeze>0&&($container_0.bind("resize.slickgrid",resizeCanvas),$viewport_0.bind("mousewheel",function(e){var t=e.originalEvent.wheelDelta,n=scrollTop-t;0>n&&(n=0),handleScroll({wheelDelta:t,scrollTop:n})}),$headerScroller_0.bind("contextmenu",handleHeaderContextMenu).bind("click",handleHeaderClick).delegate(".slick-header-column","mouseenter",handleHeaderMouseEnter).delegate(".slick-header-column","mouseleave",handleHeaderMouseLeave),$headerRowScroller_0.bind("scroll",handleHeaderRowScroll),$canvas_0.bind("keydown",handleKeyDown).bind("click",handleClick).bind("dblclick",handleDblClick).bind("contextmenu",handleContextMenu).bind("draginit",handleDragInit).bind("dragstart",{distance:3},handleDragStart).bind("drag",handleDrag).bind("dragend",handleDragEnd).delegate(".slick-cell","mouseenter",handleMouseEnter).delegate(".slick-cell","mouseleave",handleMouseLeave)))}function registerPlugin(e){plugins.unshift(e),e.init(self)}function unregisterPlugin(e){for(var t=plugins.length;t>=0;t--)if(plugins[t]===e){plugins[t].destroy&&plugins[t].destroy(),plugins.splice(t,1);break}}function setSelectionModel(e){selectionModel&&(selectionModel.onSelectedRangesChanged.unsubscribe(handleSelectedRangesChanged),selectionModel.destroy&&selectionModel.destroy()),selectionModel=e,selectionModel&&(selectionModel.init(self),selectionModel.onSelectedRangesChanged.subscribe(handleSelectedRangesChanged))}function getSelectionModel(){return selectionModel}function getCanvasNode(){var e=$canvas_1[0];return e}function measureScrollbar(){var e=$("<div style='position:absolute; top:-10000px; left:-10000px; width:100px; height:100px; overflow:scroll;'></div>").appendTo("body"),t={width:e.width()-e[0].clientWidth,height:e.height()-e[0].clientHeight};return e.remove(),t}function getHeadersWidth(){for(var e=0,t=0,n=options.numberOfColumnsToFreeze,o=0,i=columns.length;i>o;o++){var a=columns[o].width;n>o?e+=a:t+=a}return e+=1e3,t+=scrollbarDimensions.width,t=Math.max(t,viewportW_1)+1e3,{frozen:e,nonFrozen:t}}function getCanvasWidth(){for(var e=viewportHasVScroll_1?viewportW_1-scrollbarDimensions.width:viewportW_1,t=0,n=0,o=options.numberOfColumnsToFreeze,i=columns.length;i--;){var a=columns[i].width;o>i?t+=a:n+=a}return n=options.fullWidthRows?Math.max(n,e):n,{frozen:t,nonFrozen:n}}function updateCanvasWidth(e){var t=canvasWidth_0,n=canvasWidth_1,o=getCanvasWidth();canvasWidth_0=o.frozen,canvasWidth_1=o.nonFrozen;var i=getHeadersWidth(),a=0;options.numberOfColumnsToFreeze>0&&canvasWidth_0!=t&&($canvas_0.width(canvasWidth_0),$headerRow_0.width(canvasWidth_0),$headers_0.width(i.frozen),$headerRowSpacer_0.width(canvasWidth_0),void 0!=t&&(a=canvasWidth_0-t,canvasWidth_1-=a,viewportW_1-=a,$container_0[0].style.width=parseInt($container_0[0].style.width)+a+"px",$container_1[0].style.left=canvasWidth_0+"px",$container_1[0].style.width=parseInt($container_1[0].style.width)-a+"px")),(canvasWidth_1!=n||0!=a)&&($canvas_1.width(canvasWidth_1),$headerRow_1.width(canvasWidth_1),$headers_1.width(i.nonFrozen),viewportHasHScroll_1=canvasWidth_1>viewportW_1-scrollbarDimensions.width),$headerRowSpacer_1.width(canvasWidth_1+(viewportHasVScroll_1?scrollbarDimensions.width:0)),(canvasWidth_1!=n||e||0!=a)&&applyColumnWidths()}function disableSelection(e){e&&e.jquery&&e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function getMaxSupportedCssHeight(){for(var e=1e6,t=navigator.userAgent.toLowerCase().match(/firefox/)?6e6:1e9,n=$("<div style='display:none' />").appendTo(document.body);;){var o=2*e;if(n.css("height",o),o>t||n.height()!==o)break;e=o}return n.remove(),e}function bindAncestorScrollEvents(){for(var e=$canvas_1[0];(e=e.parentNode)!=document.body&&null!=e;)if(e==$viewport_1[0]||e.scrollWidth!=e.clientWidth||e.scrollHeight!=e.clientHeight){var t=$(e);$boundAncestors=$boundAncestors?$boundAncestors.add(t):t,t.bind("scroll."+uid,handleActiveCellPositionChange)}}function unbindAncestorScrollEvents(){$boundAncestors&&($boundAncestors.unbind("scroll."+uid),$boundAncestors=null)}function updateColumnHeader(e,t,n){if(initialized){var o=getColumnIndex(e);if(null!=o){var i=columns[o],a=[];options.numberOfColumnsToFreeze>0&&a.push($headers_0.children()),a.push($headers_1.children());for(var s=0;s<a.length;s++){var r=$headers[s].eq(o);r&&(void 0!==t&&(columns[o].name=t),void 0!==n&&(columns[o].toolTip=n),trigger(self.onBeforeHeaderCellDestroy,{node:r[0],column:i}),r.attr("title",n||"").children().eq(0).html(t),trigger(self.onHeaderCellRendered,{node:r[0],column:i}))}}}}function getHeaderRow(){return $headerRow_1[0]}function getHeaderRowColumn(e){var t,n=getColumnIndex(e);t=options.numberOfColumnsToFreeze?$($.merge($.merge([],$headerRow_0),$headerRow_1)):$headerRow_1;var o=t.children().eq(n);return o&&o[0]}function createColumnHeaders(){function e(){$(this).addClass("ui-state-hover")}function t(){$(this).removeClass("ui-state-hover")}$headers_1.find(".slick-header-column").each(function(){var e=$(this).data("column");e&&trigger(self.onBeforeHeaderCellDestroy,{node:this,column:e})}),$headers_1.empty();var n=getHeadersWidth();$headers_1.width(n.nonFrozen);var o=options.numberOfColumnsToFreeze;o>0&&($headers_0.empty(),$headers_0.width(n.frozen));var i;i=$headerRow_1,o>0&&(i=$($.merge($.merge([],$headerRow_0),$headerRow_1))),i.find(".slick-headerrow-column").each(function(){var e=$(this).data("column");e&&trigger(self.onBeforeHeaderRowCellDestroy,{node:this,column:e})}),i.empty();for(var a=0;a<columns.length;a++){var s=columns[a],r=$("<div class='ui-state-default slick-header-column' />").html("<span class='slick-column-name'>"+s.name+"</span>").width(s.width-headerColumnWidthDiff).attr("id",""+uid+s.id).attr("title",s.toolTip||"").data("column",s).addClass(s.headerCssClass||"").appendTo(o>a?$headers_0:$headers_1);if((options.enableColumnReorder||s.sortable)&&r.on("mouseenter",e).on("mouseleave",t),s.sortable&&(r.addClass("slick-header-sortable"),r.append("<span class='slick-sort-indicator' />")),trigger(self.onHeaderCellRendered,{node:r[0],column:s}),options.showHeaderRow){var l=$("<div class='ui-state-default slick-headerrow-column l"+a+" r"+a+"'></div>").data("column",s).appendTo(o>a?$headerRow_0:$headerRow_1);trigger(self.onHeaderRowCellRendered,{node:l[0],column:s})}}setSortColumns(sortColumns),setupColumnResize(),options.enableColumnReorder&&setupColumnReorder()}function setupColumnSort(){$headers_1.add(options.numberOfColumnsToFreeze?$headers_0:null).click(function(e){if(e.metaKey=e.metaKey||e.ctrlKey,!$(e.target).hasClass("slick-resizable-handle")){var t=$(e.target).closest(".slick-header-column");if(t.length){var n=t.data("column");if(n.sortable){if(!getEditorLock().commitCurrentEdit())return;for(var o=null,i=0;i<sortColumns.length;i++)if(sortColumns[i].columnId==n.id){o=sortColumns[i],o.sortAsc=!o.sortAsc;break}e.metaKey&&options.multiColumnSort?o&&sortColumns.splice(i,1):((e.shiftKey||e.metaKey)&&options.multiColumnSort||(sortColumns=[]),o?0==sortColumns.length&&sortColumns.push(o):(o={columnId:n.id,sortAsc:n.defaultSortAsc},sortColumns.push(o))),setSortColumns(sortColumns),options.multiColumnSort?trigger(self.onSort,{multiColumnSort:!0,sortCols:$.map(sortColumns,function(e){return{sortCol:columns[getColumnIndex(e.columnId)],sortAsc:e.sortAsc}})},e):trigger(self.onSort,{multiColumnSort:!1,sortCol:n,sortAsc:o.sortAsc},e)}}}})}function setupColumnReorder(){options.numberOfColumnsToFreeze>0&&($headers_0.filter(":ui-sortable").sortable("destroy"),$headers_0.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",forcePlaceholderSize:!0,start:function(e,t){t.placeholder.width(t.helper.outerWidth()-headerColumnWidthDiff),$(t.helper).addClass("slick-header-column-active")},beforeStop:function(e,t){$(t.helper).removeClass("slick-header-column-active")},stop:function(e){if(!getEditorLock().commitCurrentEdit())return void $(this).sortable("cancel");for(var t=$headers_0.sortable("toArray"),n=[],o=0;o<t.length;o++){var i=t[o].replace(uid,""),a=getColumnIndex(i),s=columns[a];n.push(s)}for(var r=options.numberOfColumnsToFreeze;r<columns.length;r++)n.push(columns[r]);setColumns(n),trigger(self.onColumnsReordered,{}),e.stopPropagation(),setupColumnResize()}})),$headers_1.filter(":ui-sortable").sortable("destroy"),$headers_1.sortable({containment:"parent",distance:3,axis:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder ui-state-default slick-header-column",forcePlaceholderSize:!0,start:function(e,t){$(t.helper).addClass("slick-header-column-active")},beforeStop:function(e,t){$(t.helper).removeClass("slick-header-column-active")},stop:function(e){if(!getEditorLock().commitCurrentEdit())return void $(this).sortable("cancel");for(var t=$headers_1.sortable("toArray"),n=[],o=0;o<options.numberOfColumnsToFreeze;o++)n.push(columns[o]);for(var i=0;i<t.length;i++){var a=t[i].replace(uid,""),s=getColumnIndex(a),r=columns[s];n.push(r)}setColumns(n),trigger(self.onColumnsReordered,{}),e.stopPropagation(),setupColumnResize()}})}function setupColumnResize(){var e,t,n,o,i,a,s,r,l,u,d=[];options.numberOfColumnsToFreeze>0&&d.push($headers_0.children()),d.push($headers_1.children());for(var c=0;c<d.length;c++){if(i=d[c],u=isPartOfAFrozenColumn(i),i.find(".slick-resizable-handle").remove(),i.each(function(e){var t=getIndexOffset(u,e);columns[t].resizable&&(void 0===r&&(r=e),l=e)}),void 0===r)return;i.each(function(d,c){r>d||options.forceFitColumns&&d>=l||(e=$(c),$("<div class='slick-resizable-handle' />").appendTo(c).bind("dragstart",function(e){if(u=isPartOfAFrozenColumn(this),i=getColumnElements(this),!getEditorLock().commitCurrentEdit())return!1;o=e.pageX,$(this).parent().addClass("slick-header-column-active");var r=null,l=null;if(i.each(function(e,t){var n=getIndexOffset(u,e);columns[n].previousWidth=$(t).outerWidth()}),options.forceFitColumns){r=0,l=0;var c;for(t=d+1;t<i.length;t++)c=getIndexOffset(u,t),n=columns[c],n.resizable&&(null!==l&&(n.maxWidth?l+=n.maxWidth-n.previousWidth:l=null),r+=n.previousWidth-Math.max(n.minWidth||0,absoluteColumnMinWidth))}var g=0,m=0;for(t=0;d>=t;t++){var h=getIndexOffset(u,t);n=columns[h],n.resizable&&(null!==m&&(n.maxWidth?m+=n.maxWidth-n.previousWidth:m=null),g+=n.previousWidth-Math.max(n.minWidth||0,absoluteColumnMinWidth))}null===r&&(r=1e5),null===g&&(g=1e5),null===l&&(l=1e5),null===m&&(m=1e5),s=o+Math.min(r,m),a=o-Math.min(g,l)}).bind("drag",function(e){u=isPartOfAFrozenColumn(this),i=getColumnElements(this);var r,l,c=Math.min(s,Math.max(a,e.pageX))-o;if(0>c){for(l=c,t=d;t>=0;t--)n=columns[getIndexOffset(u,t)],n.resizable&&(r=Math.max(n.minWidth||0,absoluteColumnMinWidth),l&&n.previousWidth+l<r?(l+=n.previousWidth-r,n.width=r):(n.width=n.previousWidth+l,l=0));if(options.forceFitColumns)for(l=-c,t=d+1;t<i.length;t++)n=columns[getIndexOffset(u,t)],n.resizable&&(l&&n.maxWidth&&n.maxWidth-n.previousWidth<l?(l-=n.maxWidth-n.previousWidth,n.width=n.maxWidth):(n.width=n.previousWidth+l,l=0))}else{for(l=c,t=d;t>=0;t--)n=columns[getIndexOffset(u,t)],n.resizable&&(l&&n.maxWidth&&n.maxWidth-n.previousWidth<l?(l-=n.maxWidth-n.previousWidth,n.width=n.maxWidth):(n.width=n.previousWidth+l,l=0));if(options.forceFitColumns)for(l=-c,t=d+1;t<i.length;t++)n=columns[getIndexOffset(u,t)],n.resizable&&(r=Math.max(n.minWidth||0,absoluteColumnMinWidth),l&&n.previousWidth+l<r?(l+=n.previousWidth-r,n.width=r):(n.width=n.previousWidth+l,l=0))}applyColumnHeaderWidths(),options.numberOfColumnsToFreeze>0&&updateCanvasWidth(!0),options.syncColumnCellResize&&applyColumnWidths()}).bind("dragend",function(){u=isPartOfAFrozenColumn(this),i=getColumnElements(this);var e;$(this).parent().removeClass("slick-header-column-active");for(var t=0;t<i.length;t++)n=columns[getIndexOffset(u,t)],e=$(i[t]).outerWidth(),n.previousWidth!==e&&n.rerenderOnResize&&invalidateAllRows();updateCanvasWidth(!0),render(),trigger(self.onColumnsResized,{})}))})}}function getIndexOffset(e,t){var n=e?t:t+options.numberOfColumnsToFreeze;return n}function isPartOfAFrozenColumn(e){var t=!1,n=$(e).hasClass("headers_0");return t=n?!0:$(e).parents(".headers_0").length>0}function getColumnElements(e){var t=$(e).parents(".slick-header-columns").children();return t}function getVBoxDelta(e){var t=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],n=0;return $.each(t,function(t,o){n+=parseFloat(e.css(o))||0}),n}function measureCellPaddingAndBorder(){var e,t=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],n=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"];e=$("<div class='ui-state-default slick-header-column' style='visibility:hidden'>-</div>").appendTo($headers_1),headerColumnWidthDiff=headerColumnHeightDiff=0,"border-box"!=e.css("box-sizing")&&"border-box"!=e.css("-moz-box-sizing")&&"border-box"!=e.css("-webkit-box-sizing")&&($.each(t,function(t,n){headerColumnWidthDiff+=parseFloat(e.css(n))||0}),$.each(n,function(t,n){headerColumnHeightDiff+=parseFloat(e.css(n))||0})),e.remove();var o=$("<div class='slick-row' />").appendTo($canvas_1);e=$("<div class='slick-cell' id='' style='visibility:hidden'>-</div>").appendTo(o),cellWidthDiff=cellHeightDiff=0,"border-box"!=e.css("box-sizing")&&"border-box"!=e.css("-moz-box-sizing")&&"border-box"!=e.css("-webkit-box-sizing")&&($.each(t,function(t,n){cellWidthDiff+=parseFloat(e.css(n))||0}),$.each(n,function(t,n){cellHeightDiff+=parseFloat(e.css(n))||0})),o.remove(),absoluteColumnMinWidth=Math.max(headerColumnWidthDiff,cellWidthDiff)}function createCssRules(){$style=$("<style type='text/css' rel='stylesheet' />").appendTo($("head"));
for(var e=options.rowHeight-cellHeightDiff,t=["."+uid+" .slick-header-column { left: 1000px; }","."+uid+" .slick-top-panel { height:"+options.topPanelHeight+"px; }","."+uid+" .slick-headerrow-columns { height:"+options.headerRowHeight+"px; }","."+uid+" .slick-cell { height:"+e+"px; }","."+uid+" .slick-row { height:"+options.rowHeight+"px; }"],n=0;n<columns.length;n++)t.push("."+uid+" .l"+n+" { }"),t.push("."+uid+" .r"+n+" { }");$style[0].styleSheet?$style[0].styleSheet.cssText=t.join(" "):$style[0].appendChild(document.createTextNode(t.join(" ")))}function getColumnCssRules(e){if(!stylesheet){for(var t=document.styleSheets,n=0;n<t.length;n++)if((t[n].ownerNode||t[n].owningElement)==$style[0]){stylesheet=t[n];break}if(!stylesheet)throw new Error("Cannot find stylesheet.");columnCssRulesL=[],columnCssRulesR=[];for(var o,i,a=stylesheet.cssRules||stylesheet.rules,n=0;n<a.length;n++){var s=a[n].selectorText;(o=/\.l\d+/.exec(s))?(i=parseInt(o[0].substr(2,o[0].length-2),10),columnCssRulesL[i]=a[n]):(o=/\.r\d+/.exec(s))&&(i=parseInt(o[0].substr(2,o[0].length-2),10),columnCssRulesR[i]=a[n])}}return{left:columnCssRulesL[e],right:columnCssRulesR[e]}}function removeCssRules(){$style.remove(),stylesheet=null}function destroy(){getEditorLock().cancelCurrentEdit(),trigger(self.onBeforeDestroy,{});for(var e=plugins.length;e--;)unregisterPlugin(plugins[e]);options.enableColumnReorder&&(options.numberOfColumnsToFreeze>0&&$headers_0.filter(":ui-sortable").sortable("destroy"),$headers_1.filter(":ui-sortable").sortable("destroy")),unbindAncestorScrollEvents(),$outerContainer.unbind(".slickgrid"),removeCssRules(),$canvas_1.unbind("draginit dragstart dragend drag"),$outerContainer.empty().removeClass(uid)}function trigger(e,t,n){return n=n||new Slick.EventData,t=t||{},t.grid=self,e.notify(t,n,self)}function getUID(){return uid}function getEditorLock(){return options.editorLock}function getEditController(){return editController}function getColumnIndex(e){return columnsById[e]}function autosizeColumns(){var e,t,n,o=[],i=0,a=0,s=viewportHasVScroll_1?viewportW_1-scrollbarDimensions.width:viewportW_1;for(e=0;e<columns.length;e++)t=columns[e],o.push(t.width),a+=t.width,t.resizable&&(i+=t.width-Math.max(t.minWidth,absoluteColumnMinWidth));for(n=a;a>s&&i;){var r=(a-s)/i;for(e=0;e<columns.length&&a>s;e++){t=columns[e];var l=o[e];if(!(!t.resizable||l<=t.minWidth||absoluteColumnMinWidth>=l)){var u=Math.max(t.minWidth,absoluteColumnMinWidth),d=Math.floor(r*(l-u))||1;d=Math.min(d,l-u),a-=d,i-=d,o[e]-=d}}if(n==a)break;n=a}for(n=a;s>a;){var c=s/a;for(e=0;e<columns.length&&s>a;e++)if(t=columns[e],t.resizable&&!(t.maxWidth<=t.width)){var g=Math.min(Math.floor(c*t.width)-t.width,t.maxWidth-t.width||1e6)||1;a+=g,o[e]+=g}if(n==a)break;n=a}var m=!1;for(e=0;e<columns.length;e++)columns[e].rerenderOnResize&&columns[e].width!=o[e]&&(m=!0),columns[e].width=o[e];applyColumnHeaderWidths(),updateCanvasWidth(!0),m&&(invalidateAllRows(),render())}function applyWidthToHeaders(e){for(var t,n=isPartOfAFrozenColumn(e),o=e.children(),i=0,a=o.length;a>i;i++){t=$(o[i]);var s=getIndexOffset(n,i);t.width()!==columns[s].width-headerColumnWidthDiff&&t.width(columns[s].width-headerColumnWidthDiff)}}function applyColumnHeaderWidths(){initialized&&(options.numberOfColumnsToFreeze>0&&applyWidthToHeaders($headers_0),applyWidthToHeaders($headers_1),updateColumnCaches())}function applyColumnWidths(){for(var e,t,n=0,o=0,i=options.numberOfColumnsToFreeze,a=columns.length,s=0;a>s;s++)e=columns[s].width,t=getColumnCssRules(s),i>s?(t.left.style.left=o+"px",t.right.style.right=canvasWidth_0-o-e+"px",o+=columns[s].width):(t.left.style.left=n+"px",t.right.style.right=canvasWidth_1-n-e+"px",n+=columns[s].width)}function setNumberOfColumnsToFreeze(e){options.numberOfColumnsToFreeze=e}function setSortColumn(e,t){setSortColumns([{columnId:e,sortAsc:t}])}function setSortColumns(e){sortColumns=e;var t=$headers_1.children().add(options.numberOfColumnsToFreeze?$headers_0.children():null);t.removeClass("slick-header-column-sorted").find(".slick-sort-indicator").removeClass("slick-sort-indicator-asc slick-sort-indicator-desc"),$.each(sortColumns,function(e,n){null==n.sortAsc&&(n.sortAsc=!0);var o=getColumnIndex(n.columnId);null!=o&&t.eq(o).addClass("slick-header-column-sorted").find(".slick-sort-indicator").addClass(n.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")})}function getSortColumns(){return sortColumns}function handleSelectedRangesChanged(e,t){selectedRows=[];for(var n={},o=0;o<t.length;o++)for(var i=t[o].fromRow;i<=t[o].toRow;i++){n[i]||(selectedRows.push(i),n[i]={});for(var a=t[o].fromCell;a<=t[o].toCell;a++)canCellBeSelected(i,a)&&(n[i][columns[a].id]=options.selectedCellCssClass)}setCellCssStyles(options.selectedCellCssClass,n),trigger(self.onSelectedRowsChanged,{rows:getSelectedRows()},e)}function getColumns(){return columns}function updateColumnCaches(){columnPosLeft=[],columnPosRight=[];for(var e=0,t=0,n=options.numberOfColumnsToFreeze,o=0,i=columns.length;i>o;o++)n>o?(columnPosLeft[o]=e,columnPosRight[o]=e+columns[o].width,e+=columns[o].width):(columnPosLeft[o]=t,columnPosRight[o]=t+columns[o].width,t+=columns[o].width)}function setColumns(e){columns=e,columnsById={};for(var t=0;t<columns.length;t++){var n=columns[t]=$.extend({},columnDefaults,columns[t]);columnsById[n.id]=t,n.minWidth&&n.width<n.minWidth&&(n.width=n.minWidth),n.maxWidth&&n.width>n.maxWidth&&(n.width=n.maxWidth)}updateColumnCaches(),initialized&&(invalidateAllRows(),createColumnHeaders(),removeCssRules(),createCssRules(),resizeCanvas(),applyColumnWidths(),handleScroll())}function getOptions(){return options}function setOptions(e){getEditorLock().commitCurrentEdit()&&(makeActiveCellNormal(),options.enableAddRow!==e.enableAddRow&&invalidateRow(getDataLength()),options=$.extend(options,e),validateAndEnforceOptions(),$viewport_1.css("overflow-y",options.autoHeight?"hidden":"auto"),render())}function validateAndEnforceOptions(){options.autoHeight&&(options.leaveSpaceForNewRows=!1)}function setData(e,t){data=e,invalidateAllRows(),updateRowCount(),t&&scrollTo(0)}function getData(){return data}function getDataLength(){return data.getLength?data.getLength():data.length}function getDataLengthIncludingAddNew(){return getDataLength()+(options.enableAddRow?1:0)}function getDataItem(e){return data.getItem?data.getItem(e):data[e]}function getTopPanel(){return $topPanel_1[0]}function setTopPanelVisibility(e){options.showTopPanel!=e&&(options.showTopPanel=e,e?$topPanelScroller_1.slideDown("fast",resizeCanvas):$topPanelScroller_1.slideUp("fast",resizeCanvas))}function setHeaderRowVisibility(e){options.showHeaderRow!=e&&(options.showHeaderRow=e,e?$headerRowScroller_1.slideDown("fast",resizeCanvas):$headerRowScroller_1.slideUp("fast",resizeCanvas))}function getContainerNode(){return $outerContainer.get(0)}function getRowTop(e){return options.rowHeight*e-offset}function getRowFromPosition(e){return Math.floor((e+offset)/options.rowHeight)}function scrollTo(e){e=Math.max(e,0),e=Math.min(e,th-viewportH_1+(viewportHasHScroll_1?scrollbarDimensions.height:0));var t=offset;page=Math.min(n-1,Math.floor(e/ph)),offset=Math.round(page*cj);var o=e-offset;if(offset!=t){var i=getVisibleRange(o);cleanupRows(i),updateRowPositions()}prevScrollTop!=o&&(vScrollDir=o+offset>prevScrollTop+t?1:-1,$viewport_1[0].scrollTop=lastRenderedScrollTop=scrollTop=prevScrollTop=o,options.numberOfColumnsToFreeze>0&&($viewport_0[0].scrollTop=scrollTop),trigger(self.onViewportChanged,{}))}function defaultFormatter(e,t,n){return null==n?"":(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function getFormatter(e,t){var n=data.getItemMetadata&&data.getItemMetadata(e),o=n&&n.columns&&(n.columns[t.id]||n.columns[getColumnIndex(t.id)]);return o&&o.formatter||n&&n.formatter||t.formatter||options.formatterFactory&&options.formatterFactory.getFormatter(t)||options.defaultFormatter}function getEditor(e,t){var n=columns[t],o=data.getItemMetadata&&data.getItemMetadata(e),i=o&&o.columns;return i&&i[n.id]&&void 0!==i[n.id].editor?i[n.id].editor:i&&i[t]&&void 0!==i[t].editor?i[t].editor:n.editor||options.editorFactory&&options.editorFactory.getEditor(n)}function getDataItemValueForColumn(e,t){return options.dataItemColumnValueExtractor?options.dataItemColumnValueExtractor(e,t):e[t.field]}function appendRowHtml(e,t,n,o){var i=options.numberOfColumnsToFreeze,a=getDataItem(t),s=o>t&&!a,r="slick-row"+(s?" loading":"")+(t===activeRow?" active":"")+(t%2==1?" odd":" even"),l=data.getItemMetadata&&data.getItemMetadata(t);l&&l.cssClasses&&(r+=" "+l.cssClasses);var u="<div class='ui-widget-content "+r+"' style='top:"+getRowTop(t)+"px;' >";e.nonFrozen.push(u),i>0&&e.frozen.push(u);for(var d,c,g=0,m=columns.length;m>g;g++){if(c=columns[g],d=1,l&&l.columns){var h=l.columns[c.id]||l.columns[g];d=h&&h.colspan||1,"*"===d&&(d=m-g)}if(i&&i>g)appendCellHtml(e,t,g,d,a);else if(columnPosRight[Math.min(m-1,g+d-1)]>n.leftPx){if(columnPosLeft[g]>n.rightPx)break;appendCellHtml(e,t,g,d,a)}d>1&&(g+=d-1)}e.nonFrozen.push("</div>"),i>0&&e.frozen.push("</div>")}function appendCellHtml(e,t,n,o,i){var a=columns[n],s="slick-cell l"+n+" r"+Math.min(columns.length-1,n+o-1)+(a.cssClass?" "+a.cssClass:"");t===activeRow&&n===activeCell&&(s+=" active");for(var r in cellCssClasses)cellCssClasses[r][t]&&cellCssClasses[r][t][a.id]&&(s+=" "+cellCssClasses[r][t][a.id]);var l="<div class='"+s+"'>",u=options.numberOfColumnsToFreeze;if(u>n?e.frozen.push(l):e.nonFrozen.push(l),i){var d=getDataItemValueForColumn(i,a),c=getFormatter(t,a)(t,n,d,a,i);u>n?e.frozen.push(c):e.nonFrozen.push(getFormatter(t,a)(t,n,d,a,i))}u>n?e.frozen.push("</div>"):e.nonFrozen.push("</div>"),rowsCache[t].cellRenderQueue.push(n),rowsCache[t].cellColSpans[n]=o}function cleanupRows(e){for(var t in rowsCache)(t=parseInt(t,10))!==activeRow&&(t<e.top||t>e.bottom)&&removeRowFromCache(t)}function invalidate(){updateRowCount(),invalidateAllRows(),render()}function invalidateAllRows(){currentEditor&&makeActiveCellNormal();for(var e in rowsCache)removeRowFromCache(e)}function removeRowFromCache(e){var t=rowsCache[e];if(t){var n=t.rowNode;options.numberOfColumnsToFreeze>0?(n.nonFrozen&&$canvas_1[0].removeChild(n.nonFrozen),n.frozen&&$canvas_0[0].removeChild(n.frozen)):$canvas_1[0].removeChild(n.nonFrozen),delete rowsCache[e],delete postProcessedRows[e],renderedRows--,counter_rows_removed++}}function invalidateRows(e){var t,n;if(e&&e.length)for(vScrollDir=0,t=0,n=e.length;n>t;t++)currentEditor&&activeRow===e[t]&&makeActiveCellNormal(),rowsCache[e[t]]&&removeRowFromCache(e[t])}function invalidateRow(e){invalidateRows([e])}function updateCell(e,t){var n=getCellNode(e,t);if(n){var o=columns[t],i=getDataItem(e);currentEditor&&activeRow===e&&activeCell===t?currentEditor.loadValue(i):(n.innerHTML=i?getFormatter(e,o)(e,t,getDataItemValueForColumn(i,o),o,i):"",invalidatePostProcessingResults(e))}}function updateRow(e){var t=rowsCache[e];if(t){ensureCellNodesInRowsCache(e);var n=getDataItem(e);for(var o in t.cellNodesByColumnIdx)if(t.cellNodesByColumnIdx.hasOwnProperty(o)){o=0|o;var i=columns[o],a=t.cellNodesByColumnIdx[o];e===activeRow&&o===activeCell&&currentEditor?currentEditor.loadValue(n):a.innerHTML=n?getFormatter(e,i)(e,o,getDataItemValueForColumn(n,i),i,n):""}invalidatePostProcessingResults(e)}}function getViewportHeight(){return parseFloat($.css($outerContainer[0],"height",!0))-parseFloat($.css($outerContainer[0],"paddingTop",!0))-parseFloat($.css($outerContainer[0],"paddingBottom",!0))-parseFloat($.css($headerScroller_1[0],"height"))-getVBoxDelta($headerScroller_1)-(options.showTopPanel?options.topPanelHeight+getVBoxDelta($topPanelScroller_1):0)-(options.showHeaderRow?options.headerRowHeight+getVBoxDelta($headerRowScroller_1):0)}function resizeCanvas(){initialized&&(viewportH_1=options.autoHeight?options.rowHeight*getDataLengthIncludingAddNew():getViewportHeight(),numVisibleRows=Math.ceil(viewportH_1/options.rowHeight),viewportW_1=parseFloat($.css($outerContainer[0],"width",!0)),options.autoHeight||($viewport_1.height(viewportH_1),options.numberOfColumnsToFreeze&&$viewport_0.height(viewportH_1)),options.forceFitColumns&&autosizeColumns(),updateRowCount(),handleScroll(),lastRenderedScrollLeft=-1,render())}function updateRowCount(){getDataLength();if(initialized){numberOfRows=getDataLengthIncludingAddNew()+(options.leaveSpaceForNewRows?numVisibleRows-1:0);var e=viewportHasVScroll_1;viewportHasVScroll_1=!options.autoHeight&&numberOfRows*options.rowHeight>viewportH_1;var t=getDataLengthIncludingAddNew()-1;for(var o in rowsCache)o>=t&&removeRowFromCache(o);activeCellNode&&activeRow>t&&resetActiveCell();var i=h;th=Math.max(options.rowHeight*numberOfRows,viewportH_1-scrollbarDimensions.height),maxSupportedCssHeight>th?(h=ph=th,n=1,cj=0):(h=maxSupportedCssHeight,ph=h/100,n=Math.floor(th/ph),cj=(th-h)/(n-1)),h!==i&&($canvas_1.css("height",h),scrollTop=$viewport_1[0].scrollTop,options.numberOfColumnsToFreeze>0&&$canvas_0.css("height",h+scrollbarDimensions.height));var a=th-viewportH_1>=scrollTop+offset;0==th||0==scrollTop?page=offset=0:scrollTo(a?scrollTop+offset:th-viewportH_1),h!=i&&options.autoHeight&&resizeCanvas(),options.forceFitColumns&&e!=viewportHasVScroll_1&&autosizeColumns(),updateCanvasWidth(!1)}}function getVisibleRange(e,t){return null==e&&(e=scrollTop),null==t&&(t=scrollLeft),{top:getRowFromPosition(e),bottom:getRowFromPosition(e+viewportH_1),leftPx:t,rightPx:t+viewportW_1}}function getRenderedRange(e,t){var n=getVisibleRange(e,t),o=Math.round(viewportH_1/options.rowHeight),i=3;return-1==vScrollDir?(n.top-=o,n.bottom+=i):1==vScrollDir?(n.top-=i,n.bottom+=o):(n.top-=i,n.bottom+=i),n.top=Math.max(0,n.top),n.bottom=Math.min(getDataLengthIncludingAddNew()-1,n.bottom),n.leftPx-=viewportW_1,n.rightPx+=viewportW_1,n.leftPx=Math.max(0,n.leftPx),n.rightPx=Math.min(canvasWidth_1,n.rightPx),n}function ensureCellNodesInRowsCache(e){var t=rowsCache[e];if(t&&t.cellRenderQueue.length){var n=t.rowNode.nonFrozen.lastChild;if(options.numberOfColumnsToFreeze>0)var o=t.rowNode.frozen.lastChild;for(var i=options.numberOfColumnsToFreeze;t.cellRenderQueue.length;){var a=t.cellRenderQueue.pop();i>a?(t.cellNodesByColumnIdx[a]=o,o.previousSibling&&(o=o.previousSibling)):(t.cellNodesByColumnIdx[a]=n,n.previousSibling&&(n=n.previousSibling))}}}function cleanUpCells(e,t){var n=0,o=rowsCache[t],i=[];for(var a in o.cellNodesByColumnIdx)if(o.cellNodesByColumnIdx.hasOwnProperty(a)){a=0|a;var s=o.cellColSpans[a];(columnPosLeft[a]>e.rightPx||columnPosRight[Math.min(columns.length-1,a+s-1)]<e.leftPx)&&(t!=activeRow||a!=activeCell)&&i.push(a)}for(var r,l,u=i.pop();null!=u&&0!=u;){r=o.cellNodesByColumnIdx[u],l=o.rowNode.nonFrozen.childNodes;for(var a=0;a<l.length;a++)if(l[a]==r){o.rowNode.nonFrozen.removeChild(r),delete o.cellColSpans[u],delete o.cellNodesByColumnIdx[u],postProcessedRows[t]&&delete postProcessedRows[t][u],n++;break}u=i.length>0?i.pop():null}}function cleanUpAndRenderCells(e){for(var t,n,o,i={frozen:[],nonFrozen:[]},a=[],s=0,r=e.top,l=e.bottom;l>=r;r++)if(t=rowsCache[r]){ensureCellNodesInRowsCache(r),cleanUpCells(e,r),n=0;var u=data.getItemMetadata&&data.getItemMetadata(r);u=u&&u.columns;for(var d=getDataItem(r),c=0,g=columns.length;g>c&&!(columnPosLeft[c]>e.rightPx);c++)if(null==(o=t.cellColSpans[c])){if(o=1,u){var m=u[columns[c].id]||u[c];o=m&&m.colspan||1,"*"===o&&(o=g-c)}columnPosRight[Math.min(g-1,c+o-1)]>e.leftPx&&(appendCellHtml(i,r,c,o,d),n++),c+=o>1?o-1:0}else c+=o>1?o-1:0;n&&(s+=n,a.push(r))}if(i.nonFrozen.length){var h=document.createElement("div");h.innerHTML=i.nonFrozen.join("");var p=document.createElement("div");p.innerHTML=i.frozen.join("");for(var _,f,v,b=options.numberOfColumnsToFreeze;null!=(_=a.pop());){t=rowsCache[_];for(var y;null!=(y=t.cellRenderQueue.pop());)v=p.lastChild,f=h.lastChild,b>y?(t.rowNode.frozen.appendChild(v),t.cellNodesByColumnIdx[y]=v):(t.rowNode.nonFrozen.appendChild(f),t.cellNodesByColumnIdx[y]=f)}}}function renderRows(e){var t=$canvas_1[0],n={frozen:[],nonFrozen:[]},o=[],i=!1,a=getDataLength(),s=options.numberOfColumnsToFreeze;if(s)var r=$canvas_0[0];for(var l=e.top,u=e.bottom;u>=l;l++)rowsCache[l]||(renderedRows++,o.push(l),rowsCache[l]={rowNode:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]},appendRowHtml(n,l,e,a),activeCellNode&&activeRow===l&&(i=!0),counter_rows_rendered++);if(o.length){var d=document.createElement("div");if(d.innerHTML=n.nonFrozen.join(""),s>0){var c=document.createElement("div");c.innerHTML=n.frozen.join("")}for(var g,l=0,u=o.length;u>l;l++)g=rowsCache[o[l]],g.rowNode={frozen:s>0?r.appendChild(c.firstChild):"",nonFrozen:t.appendChild(d.firstChild)};i&&(activeCellNode=getCellNode(activeRow,activeCell))}}function startPostProcessing(){options.enableAsyncPostRender&&(clearTimeout(h_postrender),h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}function invalidatePostProcessingResults(e){delete postProcessedRows[e],postProcessFromRow=Math.min(postProcessFromRow,e),postProcessToRow=Math.max(postProcessToRow,e),startPostProcessing()}function updateRowPositions(){for(var e in rowsCache){var t=getRowTop(e)+"px";rowsCache[e].rowNode.frozen.style.top=t,rowsCache[e].rowNode.nonFrozen.style.top=t}}function render(){if(initialized){var e=getVisibleRange(),t=getRenderedRange();cleanupRows(t),lastRenderedScrollLeft!=scrollLeft&&cleanUpAndRenderCells(t),renderRows(t),postProcessFromRow=e.top,postProcessToRow=Math.min(getDataLengthIncludingAddNew()-1,e.bottom),startPostProcessing(),lastRenderedScrollTop=scrollTop,lastRenderedScrollLeft=scrollLeft,h_render=null}}function handleHeaderRowScroll(){var e=$headerRowScroller_1[0].scrollLeft;e!=$viewport_1[0].scrollLeft&&($viewport_1[0].scrollLeft=e)}function handleScroll(e){void 0!=e&&void 0!=e.scrollTop&&($viewport_1[0].scrollTop=e.scrollTop),scrollTop=$viewport_1[0].scrollTop,scrollLeft=$viewport_1[0].scrollLeft;var t=Math.abs(scrollTop-prevScrollTop),o=Math.abs(scrollLeft-prevScrollLeft);if(o&&(prevScrollLeft=scrollLeft,$headerScroller_1[0].scrollLeft=scrollLeft,$topPanelScroller_1[0].scrollLeft=scrollLeft,$headerRowScroller_1[0].scrollLeft=scrollLeft),t)if(vScrollDir=scrollTop>prevScrollTop?1:-1,prevScrollTop=scrollTop,options.numberOfColumnsToFreeze>0&&($viewport_0[0].scrollTop=scrollTop),viewportH_1>t)scrollTo(scrollTop+offset);else{var i=offset;page=h==viewportH_1?0:Math.min(n-1,Math.floor(scrollTop*((th-viewportH_1)/(h-viewportH_1))*(1/ph))),offset=Math.round(page*cj),i!=offset&&invalidateAllRows()}(o||t)&&(h_render&&clearTimeout(h_render),(Math.abs(lastRenderedScrollTop-scrollTop)>20||Math.abs(lastRenderedScrollLeft-scrollLeft)>20)&&(options.forceSyncScrolling||Math.abs(lastRenderedScrollTop-scrollTop)<viewportH_1&&Math.abs(lastRenderedScrollLeft-scrollLeft)<viewportW_1?render():h_render=setTimeout(render,50),trigger(self.onViewportChanged,{}))),trigger(self.onScroll,{scrollLeft:scrollLeft,scrollTop:scrollTop})}function asyncPostProcessRows(){for(;postProcessToRow>=postProcessFromRow;){var e=vScrollDir>=0?postProcessFromRow++:postProcessToRow--,t=rowsCache[e];if(t&&!(e>=getDataLength())){postProcessedRows[e]||(postProcessedRows[e]={}),ensureCellNodesInRowsCache(e);for(var n in t.cellNodesByColumnIdx)if(t.cellNodesByColumnIdx.hasOwnProperty(n)){n=0|n;var o=columns[n];if(o.asyncPostRender&&!postProcessedRows[e][n]){var i=t.cellNodesByColumnIdx[n];i&&o.asyncPostRender(i,e,getDataItem(e),o),postProcessedRows[e][n]=!0}}return void(h_postrender=setTimeout(asyncPostProcessRows,options.asyncPostRenderDelay))}}}function updateCellCssStylesOnRenderedRows(e,t){var n,o,i,a;for(var s in rowsCache){if(a=t&&t[s],i=e&&e[s],a)for(o in a)i&&a[o]==i[o]||(n=getCellNode(s,getColumnIndex(o)),n&&$(n).removeClass(a[o]));if(i)for(o in i)a&&a[o]==i[o]||(n=getCellNode(s,getColumnIndex(o)),n&&$(n).addClass(i[o]))}}function addCellCssStyles(e,t){if(cellCssClasses[e])throw"addCellCssStyles: cell CSS hash with key '"+e+"' already exists.";cellCssClasses[e]=t,updateCellCssStylesOnRenderedRows(t,null),trigger(self.onCellCssStylesChanged,{key:e,hash:t})}function removeCellCssStyles(e){cellCssClasses[e]&&(updateCellCssStylesOnRenderedRows(null,cellCssClasses[e]),delete cellCssClasses[e],trigger(self.onCellCssStylesChanged,{key:e,hash:null}))}function setCellCssStyles(e,t){var n=cellCssClasses[e];cellCssClasses[e]=t,updateCellCssStylesOnRenderedRows(t,n),trigger(self.onCellCssStylesChanged,{key:e,hash:t})}function getCellCssStyles(e){return cellCssClasses[e]}function flashCell(e,t,n){function o(e){e&&setTimeout(function(){i.queue(function(){i.toggleClass(options.cellFlashingCssClass).dequeue(),o(e-1)})},n)}if(n=n||100,rowsCache[e]){var i=$(getCellNode(e,t));o(4)}}function handleDragInit(e,t){var n=getCellFromEvent(e);if(!n||!cellExists(n.row,n.cell))return!1;var o=trigger(self.onDragInit,t,e);return e.isImmediatePropagationStopped()?o:!1}function handleDragStart(e,t){var n=getCellFromEvent(e);if(!n||!cellExists(n.row,n.cell))return!1;var o=trigger(self.onDragStart,t,e);return e.isImmediatePropagationStopped()?o:!1}function handleDrag(e,t){return trigger(self.onDrag,t,e)}function handleDragEnd(e,t){trigger(self.onDragEnd,t,e)}function handleKeyDown(e){trigger(self.onKeyDown,{row:activeRow,cell:activeCell},e);var t=e.isImmediatePropagationStopped();if(!t)if(e.shiftKey||e.altKey||e.ctrlKey)9!=e.which||!e.shiftKey||e.ctrlKey||e.altKey||(t=navigatePrev());else if(27==e.which){if(!getEditorLock().isActive())return;cancelEditAndSetFocus()}else 34==e.which?(navigatePageDown(),t=!0):33==e.which?(navigatePageUp(),t=!0):37==e.which?t=navigateLeft():39==e.which?t=navigateRight():38==e.which?t=navigateUp():40==e.which?t=navigateDown():9==e.which?t=navigateNext():13==e.which&&(options.editable&&(currentEditor?activeRow===getDataLength()?navigateDown():commitEditAndSetFocus():getEditorLock().commitCurrentEdit()&&makeActiveCellEditable()),t=!0);if(t){e.stopPropagation(),e.preventDefault();try{e.originalEvent.keyCode=0}catch(n){}}}function handleClick(e){currentEditor||(e.target!=document.activeElement||$(e.target).hasClass("slick-cell"))&&setFocus();var t=getCellFromEvent(e);!t||null!==currentEditor&&activeRow==t.row&&activeCell==t.cell||(trigger(self.onClick,{row:t.row,cell:t.cell},e),e.isImmediatePropagationStopped()||activeCell==t.cell&&activeRow==t.row||!canCellBeActive(t.row,t.cell)||(!getEditorLock().isActive()||getEditorLock().commitCurrentEdit())&&(scrollRowIntoView(t.row,!1),setActiveCellInternal(getCellNode(t.row,t.cell))))}function handleContextMenu(e){var t=$(e.target).closest(".slick-cell",$canvas_1);0!==t.length&&(activeCellNode!==t[0]||null===currentEditor)&&trigger(self.onContextMenu,{},e)}function handleDblClick(e){var t=getCellFromEvent(e);!t||null!==currentEditor&&activeRow==t.row&&activeCell==t.cell||(trigger(self.onDblClick,{row:t.row,cell:t.cell},e),e.isImmediatePropagationStopped()||options.editable&&gotoCell(t.row,t.cell,!0))}function handleHeaderMouseEnter(e){trigger(self.onHeaderMouseEnter,{column:$(this).data("column")},e)}function handleHeaderMouseLeave(e){trigger(self.onHeaderMouseLeave,{column:$(this).data("column")},e)}function handleHeaderContextMenu(e){var t=$(e.target).closest(".slick-header-column",".slick-header-columns"),n=t&&t.data("column");trigger(self.onHeaderContextMenu,{column:n},e)}function handleHeaderClick(e){var t=$(e.target).closest(".slick-header-column",".slick-header-columns"),n=t&&t.data("column");n&&trigger(self.onHeaderClick,{column:n},e)}function handleMouseEnter(e){trigger(self.onMouseEnter,{},e)}function handleMouseLeave(e){trigger(self.onMouseLeave,{},e)}function cellExists(e,t){return!(0>e||e>=getDataLength()||0>t||t>=columns.length)}function getCellFromPoint(e,t){for(var n=getRowFromPosition(t),o=0,i=0,a=0;a<columns.length&&e>i;a++)i+=columns[a].width,o++;return 0>o&&(o=0),{row:n,cell:o-1}}function getCellFromNode(e){var t=/l\d+/.exec(e.className);if(!t)throw"getCellFromNode: cannot get cell - "+e.className;return parseInt(t[0].substr(1,t[0].length-1),10)}function getRowFromNode(e){for(var t in rowsCache){var n=rowsCache[t].rowNode;if(n.frozen===e||n.nonFrozen===e)return 0|t}return null}function getCanvasFromEvent(e){return jQuery(e.target).closest(".grid-canvas")}function getCellFromEvent(e){var t=getCanvasFromEvent(e),n=$(e.target).closest(".slick-cell",t);if(!n.length)return null;var o=getRowFromNode(n[0].parentNode),i=getCellFromNode(n[0]);return null==o||null==i?null:{row:o,cell:i}}function getCellNodeBox(e,t){if(!cellExists(e,t))return null;for(var n=getRowTop(e),o=n+options.rowHeight-1,i=0,a=0;t>a;a++)i+=columns[a].width;var s=i+columns[t].width;return{top:n,left:i,bottom:o,right:s}}function resetActiveCell(){setActiveCellInternal(null,!1)}function setFocus(){-1==tabbingDirection?$focusSink[0].focus():$focusSink2[0].focus()}function scrollCellIntoView(e,t,n){scrollRowIntoView(e,n);var o=getColspan(e,t),i=columnPosLeft[t],a=columnPosRight[t+(o>1?o-1:0)],s=scrollLeft+viewportW_1;scrollLeft>i?($viewport_1.scrollLeft(i),handleScroll(),render()):a>s&&($viewport_1.scrollLeft(Math.min(i,a-$viewport_1[0].clientWidth)),handleScroll(),render())}function setActiveCellInternal(e,t){null!==activeCellNode&&(makeActiveCellNormal(),$(activeCellNode).removeClass("active"),rowsCache[activeRow]&&($(rowsCache[activeRow].rowNode.frozen).removeClass("active"),$(rowsCache[activeRow].rowNode.nonFrozen).removeClass("active")));var n=activeCellNode!==e;activeCellNode=e,null!=activeCellNode?(activeRow=getRowFromNode(activeCellNode.parentNode),activeCell=activePosX=getCellFromNode(activeCellNode),null==t&&(t=activeRow==getDataLength()||options.autoEdit),$(activeCellNode).addClass("active"),$(rowsCache[activeRow].rowNode.frozen).addClass("active"),$(rowsCache[activeRow].rowNode.nonFrozen).addClass("active"),options.editable&&t&&isCellPotentiallyEditable(activeRow,activeCell)&&(clearTimeout(h_editorLoader),options.asyncEditorLoading?h_editorLoader=setTimeout(function(){makeActiveCellEditable()},options.asyncEditorLoadDelay):makeActiveCellEditable())):activeRow=activeCell=null,n&&trigger(self.onActiveCellChanged,getActiveCell())}function clearTextSelection(){if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(e){}else if(window.getSelection){var t=window.getSelection();t&&t.removeAllRanges&&t.removeAllRanges()}}function isCellPotentiallyEditable(e,t){return e<getDataLength()&&!getDataItem(e)?!1:columns[t].cannotTriggerInsert&&e>=getDataLength()?!1:getEditor(e,t)?!0:!1}function makeActiveCellNormal(){if(currentEditor){if(trigger(self.onBeforeCellEditorDestroy,{editor:currentEditor}),currentEditor.destroy(),currentEditor=null,activeCellNode){var e=getDataItem(activeRow);if($(activeCellNode).removeClass("editable invalid"),e){var t=columns[activeCell],n=getFormatter(activeRow,t);activeCellNode.innerHTML=n(activeRow,activeCell,getDataItemValueForColumn(e,t),t,e),invalidatePostProcessingResults(activeRow)}}navigator.userAgent.toLowerCase().match(/msie/)&&clearTextSelection(),getEditorLock().deactivate(editController)}}function makeActiveCellEditable(e){if(activeCellNode){if(!options.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";if(clearTimeout(h_editorLoader),isCellPotentiallyEditable(activeRow,activeCell)){var t=columns[activeCell],n=getDataItem(activeRow);if(trigger(self.onBeforeEditCell,{row:activeRow,cell:activeCell,item:n,column:t})===!1)return void setFocus();getEditorLock().activate(editController),$(activeCellNode).addClass("editable"),e||(activeCellNode.innerHTML=""),currentEditor=new(e||getEditor(activeRow,activeCell))({grid:self,gridPosition:absBox($outerContainer[0]),position:absBox(activeCellNode),container:activeCellNode,column:t,item:n||{},commitChanges:commitEditAndSetFocus,cancelChanges:cancelEditAndSetFocus,maxLength:columns[activeCell].maxLength}),n&&currentEditor.loadValue(n),serializedEditorValue=currentEditor.serializeValue(),currentEditor.position&&handleActiveCellPositionChange()}}}function commitEditAndSetFocus(){getEditorLock().commitCurrentEdit()&&(setFocus(),options.autoEdit&&navigateDown())}function cancelEditAndSetFocus(){getEditorLock().cancelCurrentEdit()&&setFocus()}function absBox(e){var t={top:e.offsetTop,left:e.offsetLeft,bottom:0,right:0,width:$(e).outerWidth(),height:$(e).outerHeight(),visible:!0};t.bottom=t.top+t.height,t.right=t.left+t.width;for(var n=e.offsetParent;(e=e.parentNode)!=document.body;)t.visible&&e.scrollHeight!=e.offsetHeight&&"visible"!=$(e).css("overflowY")&&(t.visible=t.bottom>e.scrollTop&&t.top<e.scrollTop+e.clientHeight),t.visible&&e.scrollWidth!=e.offsetWidth&&"visible"!=$(e).css("overflowX")&&(t.visible=t.right>e.scrollLeft&&t.left<e.scrollLeft+e.clientWidth),t.left-=e.scrollLeft,t.top-=e.scrollTop,e===n&&(t.left+=e.offsetLeft,t.top+=e.offsetTop,n=e.offsetParent),t.bottom=t.top+t.height,t.right=t.left+t.width;return t}function getActiveCellPosition(){return absBox(activeCellNode)}function getGridPosition(){return absBox($outerContainer[0])}function handleActiveCellPositionChange(){if(activeCellNode&&(trigger(self.onActiveCellPositionChanged,{}),currentEditor)){var e=getActiveCellPosition();currentEditor.show&&currentEditor.hide&&(e.visible?currentEditor.show():currentEditor.hide()),currentEditor.position&&currentEditor.position(e)}}function getCellEditor(){return currentEditor}function getActiveCell(){return activeCellNode?{row:activeRow,cell:activeCell}:null}function getActiveCellNode(){return activeCellNode}function scrollRowIntoView(e,t){var n=e*options.rowHeight,o=(e+1)*options.rowHeight-viewportH_1+(viewportHasHScroll_1?scrollbarDimensions.height:0);(e+1)*options.rowHeight>scrollTop+viewportH_1+offset?(scrollTo(t?n:o),render()):e*options.rowHeight<scrollTop+offset&&(scrollTo(t?o:n),render())}function scrollRowToTop(e){scrollTo(e*options.rowHeight),render()}function scrollPage(e){var t=e*numVisibleRows;if(scrollTo((getRowFromPosition(scrollTop)+t)*options.rowHeight),render(),options.enableCellNavigation&&null!=activeRow){var n=activeRow+t;n>=getDataLengthIncludingAddNew()&&(n=getDataLengthIncludingAddNew()-1),0>n&&(n=0);for(var o=0,i=null,a=activePosX;activePosX>=o;)canCellBeActive(n,o)&&(i=o),o+=getColspan(n,o);null!==i?(setActiveCellInternal(getCellNode(n,i)),activePosX=a):resetActiveCell()}}function navigatePageDown(){scrollPage(1)}function navigatePageUp(){scrollPage(-1)}function getColspan(e,t){var n=data.getItemMetadata&&data.getItemMetadata(e);if(!n||!n.columns)return 1;var o=n.columns[columns[t].id]||n.columns[t],i=o&&o.colspan;return i="*"===i?columns.length-t:i||1}function findFirstFocusableCell(e){for(var t=0;t<columns.length;){if(canCellBeActive(e,t))return t;t+=getColspan(e,t)}return null}function findLastFocusableCell(e){for(var t=0,n=null;t<columns.length;)canCellBeActive(e,t)&&(n=t),t+=getColspan(e,t);return n}function gotoRight(e,t){if(t>=columns.length)return null;do t+=getColspan(e,t);while(t<columns.length&&!canCellBeActive(e,t));return t<columns.length?{row:e,cell:t,posX:t}:null}function gotoLeft(e,t){if(0>=t)return null;var n=findFirstFocusableCell(e);if(null===n||n>=t)return null;for(var o,i={row:e,cell:n,posX:n};;){if(o=gotoRight(i.row,i.cell,i.posX),!o)return null;if(o.cell>=t)return i;i=o}}function gotoDown(e,t,n){for(var o;;){if(++e>=getDataLengthIncludingAddNew())return null;for(o=t=0;n>=t;)o=t,t+=getColspan(e,t);if(canCellBeActive(e,o))return{row:e,cell:o,posX:n}}}function gotoUp(e,t,n){for(var o;;){if(--e<0)return null;for(o=t=0;n>=t;)o=t,t+=getColspan(e,t);if(canCellBeActive(e,o))return{row:e,cell:o,posX:n}}}function gotoNext(e,t,n){if(null==e&&null==t&&(e=t=n=0,canCellBeActive(e,t)))return{row:e,cell:t,posX:t};var o=gotoRight(e,t,n);if(o)return o;for(var i=null;++e<getDataLengthIncludingAddNew();)if(i=findFirstFocusableCell(e),null!==i)return{row:e,cell:i,posX:i};return null}function gotoPrev(e,t,n){if(null==e&&null==t&&(e=getDataLengthIncludingAddNew()-1,t=n=columns.length-1,canCellBeActive(e,t)))return{row:e,cell:t,posX:t};for(var o,i;!o&&!(o=gotoLeft(e,t,n));){if(--e<0)return null;t=0,i=findLastFocusableCell(e),null!==i&&(o={row:e,cell:i,posX:i})
}return o}function navigateRight(){return navigate("right")}function navigateLeft(){return navigate("left")}function navigateDown(){return navigate("down")}function navigateUp(){return navigate("up")}function navigateNext(){return navigate("next")}function navigatePrev(){return navigate("prev")}function navigate(e){if(!options.enableCellNavigation)return!1;if(!activeCellNode&&"prev"!=e&&"next"!=e)return!1;if(!getEditorLock().commitCurrentEdit())return!0;setFocus();var t={up:-1,down:1,left:-1,right:1,prev:-1,next:1};tabbingDirection=t[e];var n={up:gotoUp,down:gotoDown,left:gotoLeft,right:gotoRight,prev:gotoPrev,next:gotoNext},o=n[e],i=o(activeRow,activeCell,activePosX);if(i){var a=i.row==getDataLength();return scrollCellIntoView(i.row,i.cell,!a),setActiveCellInternal(getCellNode(i.row,i.cell)),activePosX=i.posX,!0}return setActiveCellInternal(getCellNode(activeRow,activeCell)),!1}function getCellNode(e,t){return rowsCache[e]?(ensureCellNodesInRowsCache(e),rowsCache[e].cellNodesByColumnIdx[t]):null}function setActiveCell(e,t){initialized&&(e>getDataLength()||0>e||t>=columns.length||0>t||options.enableCellNavigation&&(scrollCellIntoView(e,t,!1),setActiveCellInternal(getCellNode(e,t),!1)))}function canCellBeActive(e,t){if(!options.enableCellNavigation||e>=getDataLengthIncludingAddNew()||0>e||t>=columns.length||0>t)return!1;var n=data.getItemMetadata&&data.getItemMetadata(e);if(n&&"boolean"==typeof n.focusable)return n.focusable;var o=n&&n.columns;return o&&o[columns[t].id]&&"boolean"==typeof o[columns[t].id].focusable?o[columns[t].id].focusable:o&&o[t]&&"boolean"==typeof o[t].focusable?o[t].focusable:columns[t].focusable}function canCellBeSelected(e,t){if(e>=getDataLength()||0>e||t>=columns.length||0>t)return!1;var n=data.getItemMetadata&&data.getItemMetadata(e);if(n&&"boolean"==typeof n.selectable)return n.selectable;var o=n&&n.columns&&(n.columns[columns[t].id]||n.columns[t]);return o&&"boolean"==typeof o.selectable?o.selectable:columns[t].selectable}function gotoCell(e,t,n){if(initialized&&canCellBeActive(e,t)&&getEditorLock().commitCurrentEdit()){scrollCellIntoView(e,t,!1);var o=getCellNode(e,t);setActiveCellInternal(o,n||e===getDataLength()||options.autoEdit),currentEditor||setFocus()}}function commitCurrentEdit(){var e=getDataItem(activeRow),t=columns[activeCell];if(currentEditor){if(currentEditor.isValueChanged()){var n=currentEditor.validate();if(n.valid){if(activeRow<getDataLength()){var o={row:activeRow,cell:activeCell,editor:currentEditor,serializedValue:currentEditor.serializeValue(),prevSerializedValue:serializedEditorValue,execute:function(){this.editor.applyValue(e,this.serializedValue),updateRow(this.row)},undo:function(){this.editor.applyValue(e,this.prevSerializedValue),updateRow(this.row)}};options.editCommandHandler?(makeActiveCellNormal(),options.editCommandHandler(e,t,o)):(o.execute(),makeActiveCellNormal()),trigger(self.onCellChange,{row:activeRow,cell:activeCell,column:t,item:e})}else{var i={};currentEditor.applyValue(i,currentEditor.serializeValue()),makeActiveCellNormal(),trigger(self.onAddNewRow,{item:i,column:t})}return!getEditorLock().isActive()}return $(activeCellNode).removeClass("invalid"),$(activeCellNode).width(),$(activeCellNode).addClass("invalid"),trigger(self.onValidationError,{editor:currentEditor,cellNode:activeCellNode,validationResults:n,row:activeRow,cell:activeCell,column:t}),currentEditor.focus(),!1}makeActiveCellNormal()}return!0}function cancelCurrentEdit(){return makeActiveCellNormal(),!0}function rowsToRanges(e){for(var t=[],n=columns.length-1,o=0;o<e.length;o++)t.push(new Slick.Range(e[o],0,e[o],n));return t}function getSelectedRows(){if(!selectionModel)throw"Selection model is not set";return selectedRows}function setSelectedRows(e){if(!selectionModel)throw"Selection model is not set";selectionModel.setSelectedRanges(rowsToRanges(e))}var defaults={explicitInitialization:!1,rowHeight:25,defaultColumnWidth:80,enableAddRow:!1,leaveSpaceForNewRows:!1,editable:!1,autoEdit:!0,enableCellNavigation:!0,enableColumnReorder:!0,asyncEditorLoading:!1,asyncEditorLoadDelay:100,forceFitColumns:!1,enableAsyncPostRender:!1,asyncPostRenderDelay:50,autoHeight:!1,editorLock:Slick.GlobalEditorLock,showHeaderRow:!1,headerRowHeight:25,showTopPanel:!1,topPanelHeight:25,formatterFactory:null,editorFactory:null,cellFlashingCssClass:"flashing",selectedCellCssClass:"selected",multiSelect:!0,enableTextSelectionOnCells:!1,dataItemColumnValueExtractor:null,fullWidthRows:!1,multiColumnSort:!1,defaultFormatter:defaultFormatter,forceSyncScrolling:!1,numberOfColumnsToFreeze:0},columnDefaults={name:"",resizable:!0,sortable:!1,minWidth:30,rerenderOnResize:!1,headerCssClass:null,defaultSortAsc:!0,focusable:!0,selectable:!0},th,h,ph,n,cj,page=0,offset=0,vScrollDir=1,initialized=!1,uid="slickgrid_"+Math.round(1e6*Math.random()),self=this,$focusSink,$focusSink2,$outerContainer,$container_0,$container_1,$headerScroller_0,$headerScroller_1,$headers_0,$headers_1,$headerRow_0,$headerRow_1,$headerRowScroller_0,$headerRowScroller_1,$headerRowSpacer_0,$headerRowSpacer_1,$topPanelScroller_0,$topPanelScroller_1,$topPanel_0,$topPanel_1,$viewport_0,$viewport_1,$canvas_0,$canvas_1,canvasWidth_0,canvasWidth_1,$style,$boundAncestors,stylesheet,columnCssRulesL,columnCssRulesR,viewportH_1,viewportW_1,viewportHasHScroll_1,viewportHasVScroll_1,headerColumnWidthDiff=0,headerColumnHeightDiff=0,cellWidthDiff=0,cellHeightDiff=0,absoluteColumnMinWidth,numberOfRows=0,tabbingDirection=1,activePosX,activeRow,activeCell,activeCellNode=null,currentEditor=null,serializedEditorValue,editController,rowsCache={},renderedRows=0,numVisibleRows,prevScrollTop=0,scrollTop=0,lastRenderedScrollTop=0,lastRenderedScrollLeft=0,prevScrollLeft=0,scrollLeft=0,selectionModel,selectedRows=[],plugins=[],cellCssClasses={},columnsById={},sortColumns=[],columnPosLeft=[],columnPosRight=[],h_editorLoader=null,h_render=null,h_postrender=null,postProcessedRows={},postProcessToRow=null,postProcessFromRow=null,counter_rows_rendered=0,counter_rows_removed=0;this.debug=function(){var e="";e+="\ncounter_rows_rendered:  "+counter_rows_rendered,e+="\ncounter_rows_removed:  "+counter_rows_removed,e+="\nrenderedRows:  "+renderedRows,e+="\nnumVisibleRows:  "+numVisibleRows,e+="\nmaxSupportedCssHeight:  "+maxSupportedCssHeight,e+="\nn(umber of pages):  "+n,e+="\n(current) page:  "+page,e+="\npage height (ph):  "+ph,e+="\nvScrollDir:  "+vScrollDir,alert(e)},this.eval=function(expr){return eval(expr)},$.extend(this,{slickGridVersion:"2.1",onScroll:new Slick.Event,onSort:new Slick.Event,onHeaderMouseEnter:new Slick.Event,onHeaderMouseLeave:new Slick.Event,onHeaderContextMenu:new Slick.Event,onHeaderClick:new Slick.Event,onHeaderCellRendered:new Slick.Event,onBeforeHeaderCellDestroy:new Slick.Event,onHeaderRowCellRendered:new Slick.Event,onBeforeHeaderRowCellDestroy:new Slick.Event,onMouseEnter:new Slick.Event,onMouseLeave:new Slick.Event,onClick:new Slick.Event,onDblClick:new Slick.Event,onContextMenu:new Slick.Event,onKeyDown:new Slick.Event,onAddNewRow:new Slick.Event,onValidationError:new Slick.Event,onViewportChanged:new Slick.Event,onColumnsReordered:new Slick.Event,onColumnsResized:new Slick.Event,onCellChange:new Slick.Event,onBeforeEditCell:new Slick.Event,onBeforeCellEditorDestroy:new Slick.Event,onBeforeDestroy:new Slick.Event,onActiveCellChanged:new Slick.Event,onActiveCellPositionChanged:new Slick.Event,onDragInit:new Slick.Event,onDragStart:new Slick.Event,onDrag:new Slick.Event,onDragEnd:new Slick.Event,onSelectedRowsChanged:new Slick.Event,onCellCssStylesChanged:new Slick.Event,registerPlugin:registerPlugin,unregisterPlugin:unregisterPlugin,getColumns:getColumns,setColumns:setColumns,getColumnIndex:getColumnIndex,updateColumnHeader:updateColumnHeader,setNumberOfColumnsToFreeze:setNumberOfColumnsToFreeze,setSortColumn:setSortColumn,setSortColumns:setSortColumns,getSortColumns:getSortColumns,autosizeColumns:autosizeColumns,getOptions:getOptions,setOptions:setOptions,getData:getData,getDataLength:getDataLength,getDataItem:getDataItem,setData:setData,getSelectionModel:getSelectionModel,setSelectionModel:setSelectionModel,getSelectedRows:getSelectedRows,setSelectedRows:setSelectedRows,getContainerNode:getContainerNode,render:render,invalidate:invalidate,invalidateRow:invalidateRow,invalidateRows:invalidateRows,invalidateAllRows:invalidateAllRows,updateCell:updateCell,updateRow:updateRow,getViewport:getVisibleRange,getRenderedRange:getRenderedRange,resizeCanvas:resizeCanvas,updateRowCount:updateRowCount,scrollRowIntoView:scrollRowIntoView,scrollRowToTop:scrollRowToTop,scrollCellIntoView:scrollCellIntoView,getCanvasNode:getCanvasNode,focus:setFocus,getCellFromPoint:getCellFromPoint,getCellFromEvent:getCellFromEvent,getActiveCell:getActiveCell,setActiveCell:setActiveCell,getActiveCellNode:getActiveCellNode,getActiveCellPosition:getActiveCellPosition,resetActiveCell:resetActiveCell,editActiveCell:makeActiveCellEditable,getCellEditor:getCellEditor,getCellNode:getCellNode,getCellNodeBox:getCellNodeBox,canCellBeSelected:canCellBeSelected,canCellBeActive:canCellBeActive,navigatePrev:navigatePrev,navigateNext:navigateNext,navigateUp:navigateUp,navigateDown:navigateDown,navigateLeft:navigateLeft,navigateRight:navigateRight,navigatePageUp:navigatePageUp,navigatePageDown:navigatePageDown,gotoCell:gotoCell,getTopPanel:getTopPanel,setTopPanelVisibility:setTopPanelVisibility,setHeaderRowVisibility:setHeaderRowVisibility,getHeaderRow:getHeaderRow,getHeaderRowColumn:getHeaderRowColumn,getGridPosition:getGridPosition,flashCell:flashCell,addCellCssStyles:addCellCssStyles,setCellCssStyles:setCellCssStyles,removeCellCssStyles:removeCellCssStyles,getCellCssStyles:getCellCssStyles,getUID:getUID,init:finishInitialization,destroy:destroy,getEditorLock:getEditorLock,getEditController:getEditController}),init()}$.extend(!0,window,{Slick:{Grid:SlickGrid}});var scrollbarDimensions,maxSupportedCssHeight}(jQuery)}),define("vendor/slickgrid/slick.editors",["jquery","vendor/slickgrid/slick.core"],function(e){!function(e){function t(t){var n,o;this.init=function(){n=e("<INPUT type=text class='editor-text' />").appendTo(t.container).bind("keydown.nav",function(t){(t.keyCode===e.ui.keyCode.LEFT||t.keyCode===e.ui.keyCode.RIGHT)&&t.stopImmediatePropagation()}).focus().select()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.getValue=function(){return n.val()},this.setValue=function(e){n.val(e)},this.loadValue=function(e){o=e[t.column.field]||"",n.val(o),n[0].defaultValue=o,n.select()},this.serializeValue=function(){return n.val()},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==o)&&n.val()!=o},this.validate=function(){if(t.column.validator){var e=t.column.validator(n.val());if(!e.valid)return e}return{valid:!0,msg:null}},this.init()}function n(t){var n,o;this.init=function(){n=e("<INPUT type=text class='editor-text' />"),n.bind("keydown.nav",function(t){(t.keyCode===e.ui.keyCode.LEFT||t.keyCode===e.ui.keyCode.RIGHT)&&t.stopImmediatePropagation()}),n.appendTo(t.container),n.focus().select()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(e){o=e[t.column.field],n.val(o),n[0].defaultValue=o,n.select()},this.serializeValue=function(){return parseInt(n.val(),10)||0},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==o)&&n.val()!=o},this.validate=function(){return isNaN(n.val())?{valid:!1,msg:"Please enter a valid integer"}:{valid:!0,msg:null}},this.init()}function o(t){var n,o,i=!1;this.init=function(){n=e("<INPUT type=text class='editor-text' />"),n.appendTo(t.container),n.focus().select(),n.datepicker({showOn:"button",buttonImageOnly:!0,buttonImage:"../images/calendar.gif",beforeShow:function(){i=!0},onClose:function(){i=!1}}),n.width(n.width()-18)},this.destroy=function(){e.datepicker.dpDiv.stop(!0,!0),n.datepicker("hide"),n.datepicker("destroy"),n.remove()},this.show=function(){i&&e.datepicker.dpDiv.stop(!0,!0).show()},this.hide=function(){i&&e.datepicker.dpDiv.stop(!0,!0).hide()},this.position=function(t){i&&e.datepicker.dpDiv.css("top",t.top+30).css("left",t.left)},this.focus=function(){n.focus()},this.loadValue=function(e){o=e[t.column.field],n.val(o),n[0].defaultValue=o,n.select()},this.serializeValue=function(){return n.val()},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==o)&&n.val()!=o},this.validate=function(){return{valid:!0,msg:null}},this.init()}function i(t){var n,o;this.init=function(){n=e("<SELECT tabIndex='0' class='editor-yesno'><OPTION value='yes'>Yes</OPTION><OPTION value='no'>No</OPTION></SELECT>"),n.appendTo(t.container),n.focus()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(e){n.val((o=e[t.column.field])?"yes":"no"),n.select()},this.serializeValue=function(){return"yes"==n.val()},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return n.val()!=o},this.validate=function(){return{valid:!0,msg:null}},this.init()}function a(t){var n,o;this.init=function(){n=e("<INPUT type=checkbox value='true' class='editor-checkbox' hideFocus>"),n.appendTo(t.container),n.focus()},this.destroy=function(){n.remove()},this.focus=function(){n.focus()},this.loadValue=function(e){o=!!e[t.column.field],o?n.prop("checked",!0):n.prop("checked",!1)},this.serializeValue=function(){return n.prop("checked")},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return this.serializeValue()!==o},this.validate=function(){return{valid:!0,msg:null}},this.init()}function s(t){var n,o,i;this.init=function(){n=e("<INPUT type=text class='editor-percentcomplete' />"),n.width(e(t.container).innerWidth()-25),n.appendTo(t.container),o=e("<div class='editor-percentcomplete-picker' />").appendTo(t.container),o.append("<div class='editor-percentcomplete-helper'><div class='editor-percentcomplete-wrapper'><div class='editor-percentcomplete-slider' /><div class='editor-percentcomplete-buttons' /></div></div>"),o.find(".editor-percentcomplete-buttons").append("<button val=0>Not started</button><br/><button val=50>In Progress</button><br/><button val=100>Complete</button>"),n.focus().select(),o.find(".editor-percentcomplete-slider").slider({orientation:"vertical",range:"min",value:i,slide:function(e,t){n.val(t.value)}}),o.find(".editor-percentcomplete-buttons button").bind("click",function(){n.val(e(this).attr("val")),o.find(".editor-percentcomplete-slider").slider("value",e(this).attr("val"))})},this.destroy=function(){n.remove(),o.remove()},this.focus=function(){n.focus()},this.loadValue=function(e){n.val(i=e[t.column.field]),n.select()},this.serializeValue=function(){return parseInt(n.val(),10)||0},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==i)&&(parseInt(n.val(),10)||0)!=i},this.validate=function(){return isNaN(parseInt(n.val(),10))?{valid:!1,msg:"Please enter a valid positive number"}:{valid:!0,msg:null}},this.init()}function r(t){var n,o,i,a=this;this.init=function(){var i=e("body");o=e("<DIV style='z-index:10000;position:absolute;background:white;padding:5px;border:3px solid gray; -moz-border-radius:10px; border-radius:10px;'/>").appendTo(i),n=e("<TEXTAREA hidefocus rows=5 style='backround:white;width:250px;height:80px;border:0;outline:0'>").appendTo(o),e("<DIV style='text-align:right'><BUTTON>Save</BUTTON><BUTTON>Cancel</BUTTON></DIV>").appendTo(o),o.find("button:first").bind("click",this.save),o.find("button:last").bind("click",this.cancel),n.bind("keydown",this.handleKeyDown),a.position(t.position),n.focus().select()},this.handleKeyDown=function(n){n.which==e.ui.keyCode.ENTER&&n.ctrlKey?a.save():n.which==e.ui.keyCode.ESCAPE?(n.preventDefault(),a.cancel()):n.which==e.ui.keyCode.TAB&&n.shiftKey?(n.preventDefault(),t.grid.navigatePrev()):n.which==e.ui.keyCode.TAB&&(n.preventDefault(),t.grid.navigateNext())},this.save=function(){t.commitChanges()},this.cancel=function(){n.val(i),t.cancelChanges()},this.hide=function(){o.hide()},this.show=function(){o.show()},this.position=function(e){o.css("top",e.top-5).css("left",e.left-5)},this.destroy=function(){o.remove()},this.focus=function(){n.focus()},this.loadValue=function(e){n.val(i=e[t.column.field]),n.select()},this.serializeValue=function(){return n.val()},this.applyValue=function(e,n){e[t.column.field]=n},this.isValueChanged=function(){return!(""==n.val()&&null==i)&&n.val()!=i},this.validate=function(){return{valid:!0,msg:null}},this.init()}e.extend(!0,window,{Slick:{Editors:{Text:t,Integer:n,Date:o,YesNoSelect:i,Checkbox:a,PercentComplete:s,LongText:r}}})}(e)}),define("vendor/slickgrid/plugins/slick.rowselectionmodel",["jquery","vendor/slickgrid/slick.core"],function(e){!function(e){function t(t){function n(n){f=e.extend(!0,{},w,t),p=n,y.subscribe(p.onActiveCellChanged,i(g)),y.subscribe(p.onKeyDown,i(m)),y.subscribe(p.onClick,i(h))}function o(){y.unsubscribeAll()}function i(e){return function(){_||(_=!0,e.apply(this,arguments),_=!1)}}function a(e){for(var t=[],n=0;n<e.length;n++)for(var o=e[n].fromRow;o<=e[n].toRow;o++)t.push(o);return t}function s(e){for(var t=[],n=p.getColumns().length-1,o=0;o<e.length;o++)t.push(new Slick.Range(e[o],0,e[o],n));return t}function r(e,t){var n,o=[];for(n=e;t>=n;n++)o.push(n);for(n=t;e>n;n++)o.push(n);return o}function l(){return a(v)}function u(e){d(s(e))}function d(e){v=e,b.onSelectedRangesChanged.notify(v)}function c(){return v}function g(e,t){f.selectActiveRow&&null!=t.row&&d([new Slick.Range(t.row,0,t.row,p.getColumns().length-1)])}function m(e){var t=p.getActiveCell();if(t&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&!e.metaKey&&(38==e.which||40==e.which)){var n=l();n.sort(function(e,t){return e-t}),n.length||(n=[t.row]);var o,i=n[0],a=n[n.length-1];o=40==e.which?t.row<a||i==a?++a:++i:t.row<a?--a:--i,o>=0&&o<p.getDataLength()&&(p.scrollRowIntoView(o),v=s(r(i,a)),d(v)),e.preventDefault(),e.stopPropagation()}}function h(t){var n=p.getCellFromEvent(t);if(!n||!p.canCellBeActive(n.row,n.cell))return!1;var o=a(v),i=e.inArray(n.row,o);if(!(t.ctrlKey||t.shiftKey||t.metaKey))return!1;if(p.getOptions().multiSelect)if(-1===i&&(t.ctrlKey||t.metaKey))o.push(n.row),p.setActiveCell(n.row,n.cell);else if(-1!==i&&(t.ctrlKey||t.metaKey))o=e.grep(o,function(e){return e!==n.row}),p.setActiveCell(n.row,n.cell);else if(o.length&&t.shiftKey){var r=o.pop(),l=Math.min(n.row,r),u=Math.max(n.row,r);o=[];for(var c=l;u>=c;c++)c!==r&&o.push(c);o.push(r),p.setActiveCell(n.row,n.cell)}return v=s(o),d(v),t.stopImmediatePropagation(),!0}var p,_,f,v=[],b=this,y=new Slick.EventHandler,w={selectActiveRow:!0};e.extend(this,{getSelectedRows:l,setSelectedRows:u,getSelectedRanges:c,setSelectedRanges:d,init:n,destroy:o,onSelectedRangesChanged:new Slick.Event})}e.extend(!0,window,{Slick:{RowSelectionModel:t}})}(e)}),define("vendor/slickgrid",["vendor/slickgrid/slick.grid","vendor/slickgrid/slick.editors","vendor/slickgrid/plugins/slick.rowselectionmodel"],function(){return Slick}),define("translations/gradebook2.total_column_header",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{gradebook2:{total_column_header:{options:"خيارات",switch_to_percent:"تبديل إلى النسبة المئوية",switch_to_points:"تبديل إلى النقاط"}}},de:{gradebook2:{total_column_header:{options:"Optionen",switch_to_percent:"Zu Prozent wechseln",switch_to_points:"Zu Punkten wechseln"}}},"en-AU":{gradebook2:{total_column_header:{options:"Options",switch_to_percent:"Switch to percent",switch_to_points:"Switch to points"}}},"en-GB":{gradebook2:{total_column_header:{options:"Options",switch_to_percent:"Switch to percent",switch_to_points:"Switch to points"}}},es:{gradebook2:{total_column_header:{options:"Opciones",switch_to_percent:"Cambiar a porcentaje",switch_to_points:"Cambiar a puntos"}}},"fa-IR":{gradebook2:{total_column_header:{options:"گزینه ها",switch_to_percent:"تبدیل به درصد",switch_to_points:"تبدیل به امتیاز"}}},fr:{gradebook2:{total_column_header:{options:"Options",switch_to_percent:"Passer en pourcentage",switch_to_points:"Passer en points"}}},ja:{gradebook2:{total_column_header:{options:"オプション",switch_to_percent:"パーセントに切り替え",switch_to_points:"点数に切り替え"}}},ko:{gradebook2:{total_column_header:{options:"옵션",switch_to_percent:"백분률로 전환",switch_to_points:"점수로 전환"}}},nb:{gradebook2:{total_column_header:{options:"Muligheter",switch_to_percent:"Bytt til prosent",switch_to_points:"Bytt til poeng"}}},nl:{gradebook2:{total_column_header:{options:"Opties",switch_to_percent:"Omleiden naar percentages",switch_to_points:"Omleiden naar punten"}}},pl:{gradebook2:{total_column_header:{options:"Opcje",switch_to_percent:"Przełącz na procenty",switch_to_points:"Przełącz na punkty"}}},pt:{gradebook2:{total_column_header:{options:"Opções",switch_to_percent:"Mudar para percentagem",switch_to_points:"Mudar para pontos"}}},"pt-BR":{gradebook2:{total_column_header:{options:"Opções",switch_to_percent:"Alternar para porcentagem",switch_to_points:"Alternar para pontos"}}},ru:{gradebook2:{total_column_header:{options:"Параметры",switch_to_percent:"Переключиться на проценты",switch_to_points:"Переключиться на баллы"}}},tr:{gradebook2:{total_column_header:{options:"Seçenekler",switch_to_percent:"Yüzdeye geç",switch_to_points:"Puanlara geç"}}},zh:{gradebook2:{total_column_header:{options:"可选功能",switch_to_percent:"切换到百分比",switch_to_points:"切换到得分"}}}}})}),define("jst/gradebook2/total_column_header",["compiled/handlebars_helpers","i18n!gradebook2.total_column_header"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/total_column_header"]=t(function(e,t,n,o,i){function a(e,t){var o,i,a,l="";return l+='\n  <a id=total_dropdown class=gradebook-header-drop href="#" role=button>\n    ',i=n.t||e&&e.t,a={hash:{scope:"gradebook2.total_column_header"},data:t},o=i?i.call(e,"options","Options",a):d.call(e,"t","options","Options",a),(o||0===o)&&(l+=o),l+='\n  </a>\n  <ul class=gradebook-header-menu>\n    <li><a class=toggle_percent href="#">\n      ',o=n["if"].call(e,e&&e.showingPoints,{hash:{},inverse:c.program(4,r,t),fn:c.program(2,s,t),data:t}),(o||0===o)&&(l+=o),l+="\n    </a></li>\n  </ul>\n"}function s(e,t){var o,i,a,s="";return s+="\n        ",i=n.t||e&&e.t,a={hash:{scope:"gradebook2.total_column_header"},data:t},o=i?i.call(e,"switch_to_percent","Switch to percent",a):d.call(e,"t","switch_to_percent","Switch to percent",a),(o||0===o)&&(s+=o),s+="\n      "}function r(e,t){var o,i,a,s="";return s+="\n        ",i=n.t||e&&e.t,a={hash:{scope:"gradebook2.total_column_header"},data:t},o=i?i.call(e,"switch_to_points","Switch to points",a):d.call(e,"t","switch_to_points","Switch to points",a),(o||0===o)&&(s+=o),s+="\n      "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var l,u="",d=n.helperMissing,c=this;return l=n.unless.call(t,t&&t.weightedGroups,{hash:{},inverse:c.noop,fn:c.program(1,a,i),data:i}),(l||0===l)&&(u+=l),u+="\n"}),n["gradebook2/total_column_header"]}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("compiled/gradebook2/TotalColumnHeaderView",["jquery","Backbone","jst/gradebook2/total_column_header"],function(t,o,i){var a,s;return a=function(t){function o(){return this.togglePercent=e(this.togglePercent,this),s=o.__super__.constructor.apply(this,arguments)}return n(o,t),o.prototype.el="#total_column_header",o.prototype.events={"click .toggle_percent":"togglePercent"},o.prototype.template=i,o.prototype.togglePercent=function(){return this.options.toggleShowingPoints(),this.render(),!1},o.prototype.render=function(){return this.$menu&&this.$menu.remove(),o.__super__.render.call(this),this.options.weightedGroups()?this:(this.$menu=this.$el.find(".gradebook-header-menu"),this.$el.find("#total_dropdown").kyleMenu({noButton:!0,appendMenuTo:"#gradebook_grid"}),this.$menu.css("width","150"),this)},o.prototype.toJSON=function(){var e;return e={showingPoints:this.options.showingPoints,weightedGroups:this.options.weightedGroups}},o}(o.View)})}.call(this),function(){define("compiled/util/round",[],function(){var e;return e=function(e,t){var n;return null==t&&(t=0),"number"==typeof e||e instanceof Number||(e=parseFloat(e)),n=Math.pow(10,t),Math.round(e*n)/n},e.DEFAULT=2,e})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};define("compiled/views/InputView",["Backbone"],function(e){var n,o,i;return o=e.View,n=function(e){function n(){return i=n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.tagName="input",n.prototype.defaults={modelAttribute:"unnamed"},n.prototype.initialize=function(){return n.__super__.initialize.apply(this,arguments),this.setupElement()},n.prototype.setElement=function(){return n.__super__.setElement.apply(this,arguments),this.setupElement()},n.prototype.setupElement=function(){var e,t;return this.lastValue=null!=(e=this.el)?e.value:void 0,this.modelAttribute=this.$el.attr("name")||(null!=(t=this.options)?t.modelAttribute:void 0)},n.prototype.attach=function(){var e=this;if(this.collection)return this.collection.on("beforeFetch",function(){return e.$el.addClass("loading")}),this.collection.on("fetch",function(){return e.$el.removeClass("loading")}),this.collection.on("fetch:fail",function(){return e.$el.removeClass("loading")})},n.prototype.updateModel=function(){var e;if(e=this.el.value,e&&e.length<this.options.minLength&&!(this.options.allowSmallerNumbers&&e>0)){if(!this.options.setParamOnInvalid)return;e=!1}return this.setParam(e)},n.prototype.setParam=function(e){var t,n,o;return null!=(t=this.model)&&t.set(this.modelAttribute,e),""===e?null!=(n=this.collection)?n.deleteParam(this.modelAttribute):void 0:null!=(o=this.collection)?o.setParam(this.modelAttribute,e):void 0},n}(o)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("compiled/views/InputFilterView",["compiled/views/InputView","vendor/jquery.placeholder"],function(t){var o,i;return o=function(t){function o(){return this.onInput=e(this.onInput,this),i=o.__super__.constructor.apply(this,arguments)}return n(o,t),o.prototype.events={keyup:"keyup",change:"change"},o.prototype.defaults={onInputDelay:200,modelAttribute:"filter",minLength:3,allowSmallerNumbers:!0},o.prototype.onInput=function(){return this.el.value!==this.lastValue&&(this.updateModel(),this.trigger("input",this.el.value)),this.lastValue=this.el.value},o.prototype.onEnter=function(){return this.el.select(),this.trigger("enter",this.el.value)},o.prototype.keyup=function(e){return clearTimeout(this.onInputTimer),this.onInputTimer=setTimeout(this.onInput,this.options.onInputDelay),null!=e.which&&13===e.which&&this.onEnter(),null},o.prototype.change=o.prototype.keyup,o.prototype.afterRender=function(){return this.$el.placeholder()},o}(t)})}.call(this),define("translations/gradebook2",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{gradebook2:{alerts:{scores_updated:{one:"تم تحديث نتائج طالب واحد",other:"تم تحديث نتائج %{count} من الطلاب"}},all_sections:"كل الأقسام",assignment_muted:"تم إخفاء درجة التعيين",concluded_course_error_message:"هذه هي إحدى الدورات التدريبية المنتهية، لذلك لا تتوفر سوى التسجيلات المنتهية.",course_average:"معدل المساق",course_median:"متوسط المساق",course_mode:"وضع المساق",dropped_for_grading:"تم إسقاطه لأغراض التصحيح",error:{update:"حدث خطأ عند تحديث هذه المهمة. يرجى تحديث الصفحة والمحاولة مرة أخرى.\n"},errors:{no_points_possible:"يتعذر الانحناء دون النقاط الممكنة",none_to_update:"لا يوجد شيء لتحديثه",upload_as_zip:"الرجاء تحميل الملفات كملف zip. مضغوط"},grade_display_warning:{cancel:"إلغاء","continue":"متابعة",percent_text:"سيشاهد الطلاب أيضًا درجتهم النهائية كنسبة مئوية. هل ترغب بالفعل في المتابعة؟",points_text:"سيشاهد الطلاب أيضًا درجتهم النهائية كنقاط. هل ترغب بالفعل في المتابعة؟"},hide_notes:"إخفاء عمود الملاحظات",hide_student_names:"إخفاء أسماء الطلاب",invalid_assignment_groups_warning:{one:"لا يتضمن مجموع الدرجات مجموعة واحدة لأنها ليست لديها نقاط ممكنة",other:"لا يتضمن مجموع الدرجات %{groups} مجموعات لأنها ليست لديها نقاط ممكنة"},keyboard_assignment_desc:"انتقال إلى صفحة تفاصيل المهمة الحالية",keyboard_close_menu:"إغلاق قائمة المهمة النشطة حاليًا",keyboard_comment_desc:"تعليق على عملية الإرسال النشطة",keyboard_menu_desc:"فتح قائمة مهمة العمود النشط",keyboard_sort_desc:"فرز الشبكة حسب العمود النشط حاليًا",keyboard_tooltip_desc:"إظهار نوع الإرسال لعملية الإرسال النشطة",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"ناتج التعلم",mastery:"إتقان",near_mastery:"قريب من الإتقان",no_assignments_have_points_warning:"لا يمكن حساب مجموع الدرجات إلا أن تكون للمهمة نقاط ممكنة",notes:"ملاحظات",percent_of_grade:" %{percentage} من الدرجة",points_out_of:"من %{points_possible}",remedial:"بحاجة إلى تحسين",resubmitted:"تمت إعادة إرساله منذ آخر تصحيح",secondary_id:"المعرف الثانوي",show_notes:"إظهار عمود الملاحظات",show_student_names:"إظهار أسماء الطلاب",student_name:"اسم الطالب",students_who:{havent_been_graded:"لم يتم تصحيحها",havent_submitted_yet:"لم يتم الإرسال بعد",no_grade_for:"لا توجد درجات لـ %{assignment}",no_submission_for:"لا يوجد إرسال لـ %{assignment}",not_submitted_yet:"لم يتم الإرسال بعد",scored_less_than:"تم إحراز نقاط أقل من",scored_less_than_on:"تم إحراز درجات أقل من %{cutoff} في %{assignment}",scored_more_than:"تم إحراز نقاط أكثر من",scored_more_than_on:"تم إحراز درجات أكثر من %{cutoff} في %{assignment}"},submitted_late:"تم إرساله متأخرًا",title:{quiz:"إرسال الاختبار",turnitin:"له درجات Turnitin"},titles:{discussion:"إرسال المناقشة",media:"إرسال تعليق الوسائط",media_recording:"إرسال تسجيلات الوسائط",quiz_review:"يلزم مراجعة هذا الاختبار",text:"إرسال إدخال النص",upload:"إرسال تحميل الملف",url:"إرسال عنوان URL"},total:"الإجمالي",ungraded:"لم توضع في الحسبان عند التصحيح"}},de:{gradebook2:{alerts:{scores_updated:{one:"1 Punktestand aktualisiert",other:"%{count} Punktestände aktualisiert"}},all_sections:"Alle Kursabschnitte",assignment_muted:"Aufgabe stummgeschaltet",concluded_course_error_message:"Dies ist ein abgeschlossener Kurs. Aus diesem Grund stehen nur abgeschlossene Einschreibungen zur Verfügung.",course_average:"Kursdurchschnitt",course_median:"Mittlerer Wert für Kurs",course_mode:"Kursmodus",dropped_for_grading:"Bleibt bei der Bewertung unberücksichtigt",error:{update:"Beim Aktualisieren der Aufgabe ist ein Fehler aufgetreten. Aktualisieren Sie die Seite, und versuchen Sie es erneut."},errors:{no_points_possible:"Kurve kann nicht ohne mögliche Punkte erstellt werden",none_to_update:"Keine Aktualisierungen notwendig",upload_as_zip:"Bitte laden Sie die Dateien im Zip-format hoch"},grade_display_warning:{cancel:"Abbrechen","continue":"Fortfahren",percent_text:"Studenten wird ihre Gesamtnote auch als Prozentsatz angezeigt. Möchten Sie wirklich fortfahren?",points_text:"Studenten wird ihre Gesamtnote auch in Form von Punkten angezeigt. Möchten Sie wirklich fortfahren?"},hide_notes:"Anmerkungsspalte ausblenden",hide_student_names:"Namen der Studenten ausblenden",invalid_assignment_groups_warning:{one:"%{groups} ist in der Punktzahl nicht enthalten, da hierfür keine Punkte vergeben werden können",other:"%{groups} sind in der Punktzahl nicht enthalten, da hierfür keine Punkte vergeben werden können"},keyboard_assignment_desc:"Zur Seite mit Details der aktuellen Aufgabe wechseln",keyboard_close_menu:"Derzeit aktives Aufgabenmenü schließen",keyboard_comment_desc:"Aktive Einreichung kommentieren",keyboard_menu_desc:"Menü für Aufgabe der aktiven Spalte öffnen",keyboard_sort_desc:"Raster nach der derzeit aktiven Spalte sortieren",keyboard_tooltip_desc:"Einsendungsart für die aktive Einsendung anzeigen",keycodes:{close_menu:"ESC",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Lernergebnis",mastery:"Leistungsziel erreicht",near_mastery:"Leistungsziel fast erreicht",no_assignments_have_points_warning:"Die Punktzahl kann erst berechnet werden, wenn für die Aufgabe Punkte vergeben werden können",notes:"Anmerkungen",percent_of_grade:"%{percentage} der Note",points_out_of:"von insgesamt %{points_possible}",remedial:"Wiederholung",resubmitted:"seit letzter Benotung erneut eingesandt",secondary_id:"Zweit-ID",show_notes:"Anmerkungsspalte anzeigen",show_student_names:"Namen der Studenten anzeigen",student_name:"Name des Studenten",students_who:{havent_been_graded:"Wurden nicht benotet",havent_submitted_yet:"Haben noch nichts eingesandt",no_grade_for:"Keine Note für %{assignment} vorhanden",no_submission_for:"Keine Einsendung für %{assignment} vorhanden",not_submitted_yet:"Haben noch nichts eingesandt",scored_less_than:"Punktzahl unter",scored_less_than_on:"Hat weniger als %{cutoff} Punkte für %{assignment} erreicht",scored_more_than:"Punktzahl über",scored_more_than_on:"Hat mehr als %{cutoff} Punkte für %{assignment} erreicht"},submitted_late:"Zu spät eingesandt",title:{quiz:"Quizeinsendung",turnitin:"Hat einen Turnitin-score"},titles:{discussion:"Diskussionseinsendung",media:"Einsendung von Multimediakommentar",media_recording:"Einsendung von Medienaufzeichnung",quiz_review:"Dieses Quiz muss korrigiert werden",text:"Einsendung von Texteintrag",upload:"Dateiupload-einsendung",url:"URL-einsendung"},total:"Gesamt",ungraded:"Nicht für die Note berücksichtigt"}},"en-AU":{gradebook2:{alerts:{scores_updated:{one:"1 Student score updated",other:"%{count} Student scores updated"}},all_sections:"All Sections",assignment_muted:"Assignment muted",concluded_course_error_message:"This is a concluded course, so only concluded enrollments are available.",course_average:"Course average",course_median:"Course median",course_mode:"Course mode",dropped_for_grading:"Dropped for grading purposes",error:{update:"There was an error updating this assignment. Please refresh the page and try again."},errors:{no_points_possible:"Cannot curve without points possible",none_to_update:"None to Update",upload_as_zip:"Please upload files as a .zip"},grade_display_warning:{cancel:"Cancel","continue":"Continue",percent_text:"Students will also see their final grade as a percentage. Are you sure you want to continue?",points_text:"Students will also see their final grade as points. Are you sure you want to continue?"},hide_notes:"Hide Notes Column",hide_student_names:"Hide Student Names",invalid_assignment_groups_warning:{one:"Score does not include %{groups} because they have no points possible",other:"Score does not include %{groups} because they have no points possible"},keyboard_assignment_desc:"Go to the current assignment's detail page",keyboard_close_menu:"Close the currently active assignment menu",keyboard_comment_desc:"Comment on the active submission",keyboard_menu_desc:"Open the menu for active column's assignment",keyboard_sort_desc:"Sort the grid on the current active column",keyboard_tooltip_desc:"Show the submission type of the active submission",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Learning Outcome",mastery:"mastery",near_mastery:"near mastery",no_assignments_have_points_warning:"Can't compute score until an assignment has points possible",notes:"Notes",percent_of_grade:"%{percentage} of grade",points_out_of:"out of %{points_possible}",remedial:"remedial",resubmitted:"Resubmitted since last graded",secondary_id:"Secondary ID",show_notes:"Show Notes Column",show_student_names:"Show Student Names",student_name:"Student Name",students_who:{havent_been_graded:"Haven't been graded",havent_submitted_yet:"Haven't submitted yet",no_grade_for:"No grade for %{assignment}",no_submission_for:"No submission for %{assignment}",not_submitted_yet:"Haven't submitted yet",scored_less_than:"Scored less than",scored_less_than_on:"Scored less than %{cutoff} on %{assignment}",scored_more_than:"Scored more than",scored_more_than_on:"Scored more than %{cutoff} on %{assignment}"},submitted_late:"Submitted late",title:{quiz:"Quiz Submission",turnitin:"Has Turnitin score"},titles:{discussion:"Discussion Submission",media:"Media Comment Submission",media_recording:"Media Recording Submission",quiz_review:"This quiz needs review",text:"Text Entry Submission",upload:"File Upload Submission",url:"URL Submission"},total:"Total",ungraded:"Not factored into grading"}},"en-GB":{gradebook2:{alerts:{scores_updated:{one:"1 student score updated",other:"%{count} student scores updated"}},all_sections:"All sections",assignment_muted:"Assignment muted",concluded_course_error_message:"This is a concluded course, so only concluded enrolments are available.",course_average:"Course average",course_median:"Course median",course_mode:"Course mode",dropped_for_grading:"Dropped for grading purposes",error:{update:"There was an error updating this assignment. Please refresh the page and try again."},errors:{no_points_possible:"Cannot curve without points possible",none_to_update:"None to update",upload_as_zip:"Please upload files as a .zip"},grade_display_warning:{cancel:"Cancel","continue":"Continue",percent_text:"Students will also see their final grade as a percentage. Are you sure you want to continue?",points_text:"Students will also see their final grade as points. Are you sure you want to continue?"},hide_notes:"Hide Notes Column",hide_student_names:"Hide Student Names",invalid_assignment_groups_warning:{one:"Score does not include %{groups} because it has no points possible",other:"Score does not include %{groups} because they have no points possible"},keyboard_assignment_desc:"Go to the current assignment's detail page",keyboard_close_menu:"Close the currently active assignment menu",keyboard_comment_desc:"Comment on the active submission",keyboard_menu_desc:"Open the menu for active column's assignment",keyboard_sort_desc:"Sort the grid on the current active column",keyboard_tooltip_desc:"Show the submission type of the active submission",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Learning outcome",mastery:"mastery",near_mastery:"near mastery",no_assignments_have_points_warning:"Can't compute score until an assignment has points possible",notes:"Notes",percent_of_grade:"%{percentage} of grade",points_out_of:"out of %{points_possible}",remedial:"remedial",resubmitted:"Resubmitted since last graded",secondary_id:"Secondary ID",show_notes:"Show Notes Column",show_student_names:"Show student names",student_name:"Student name",students_who:{havent_been_graded:"Haven't been graded",havent_submitted_yet:"Haven't submitted yet",no_grade_for:"No grade for %{assignment}",no_submission_for:"No submission for %{assignment}",not_submitted_yet:"Haven't submitted yet",scored_less_than:"Scored less than",scored_less_than_on:"Scored less than %{cutoff} on %{assignment}",scored_more_than:"Scored more than",scored_more_than_on:"Scored more than %{cutoff} on %{assignment}"},submitted_late:"Submitted late",title:{quiz:"Quiz submission",turnitin:"Has Turnitin score"},titles:{discussion:"Discussion submission",media:"Media comment submission",media_recording:"Media Recording Submission",quiz_review:"This quiz needs to be reviewed",text:"Text entry submission",upload:"File upload submission",url:"URL submission"},total:"Total",ungraded:"Not factored into grading"}},es:{gradebook2:{alerts:{scores_updated:{one:"1 resultado actualizado",other:"%{count} resultados actualizados"}},all_sections:"Todas las Secciones",assignment_muted:"Tarea silenciada",concluded_course_error_message:"Este curso ha concluido, por lo que solo están disponibles matrículas concluidas.",course_average:"Media del curso",course_median:"Mediana del curso",course_mode:"Moda del curso",dropped_for_grading:"Eliminado por motivos de calificación",error:{update:"Se ha producido un error al actualizar esta asignación. Actualice la página y vuelva a intentarlo."},errors:{no_points_possible:"No se puede aplicar la curva si no hay puntos posibles",none_to_update:"Nada que Actualizar",upload_as_zip:"Por favor cargas archivos como un .zip"},grade_display_warning:{cancel:"Cancelar","continue":"Continuar",percent_text:"Los alumnos también podrán ver su calificación final en formato de porcentaje. ¿Está seguro de que desea continuar?",points_text:"Los alumnos también podrán ver su calificación final en formato de puntos. ¿Está seguro de que desea continuar?"},hide_notes:"Ocultar la columna de notas",hide_student_names:"Esconder los Nombres de Estudiantes",invalid_assignment_groups_warning:{one:"La puntuación no incluye a %{groups} porque no se puede evaluar",other:"La puntuación no incluye a %{groups} porque no se pueden evaluar"},keyboard_assignment_desc:"Ir a la página de detalles de tareas actual",keyboard_close_menu:"Cerrar el menú de tareas activo actualmente",keyboard_comment_desc:"Comentar el envío activo",keyboard_menu_desc:"Abrir el menú para la tarea de la columna activa",keyboard_sort_desc:"Ordenar la cuadrícula en la columna activa actual",keyboard_tooltip_desc:"Mostrar el tipo de envío del envío activo",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Resultado de aprendizaje",mastery:"Dominio",near_mastery:"Casi dominio",no_assignments_have_points_warning:"No se puede calcular la puntuación hasta que una tarea esté evaluada",notes:"Notas",percent_of_grade:"%{percentage} de la calificación",points_out_of:"de %{points_possible}",remedial:"medidas correctoras",resubmitted:"Renviado desde la última calificación",secondary_id:"ID secundaria",show_notes:"Mostrar columna de notas",show_student_names:"Mostrar los Nombres de Estudiantes",student_name:"Nombre del Estudiante",students_who:{havent_been_graded:"No ha sido calificado",havent_submitted_yet:"Aún no ha enviado",no_grade_for:"No hay calificación para %{assignment}",no_submission_for:"No hay envío para %{assignment}",not_submitted_yet:"Todavía no ha sido enviado",scored_less_than:"Obtuvo menos de",scored_less_than_on:"Puntuación inferior a %{cutoff} en %{assignment}",scored_more_than:"Obtuvo más de",scored_more_than_on:"Puntuación superior a %{cutoff} en %{assignment}"},submitted_late:"Enviado tarde",title:{quiz:"Envío de Evaluación",turnitin:"Tiene una calificación de Turnitin"},titles:{discussion:"Envío de la Discusión",media:"Envío de Comentario de Media",media_recording:"Envío de grabación multimedia",quiz_review:"Esta evaluación necesita revisión",text:"Envío de Ingreso de Texto",upload:"Envío para la Carga del Archivo",url:"Envío de URL"},total:"Total",ungraded:"No se ha tenido en cuenta en la calificación"}},"fa-IR":{gradebook2:{alerts:{scores_updated:{one:"%{count} نمره دانشجو بهنگام سازی شد",other:"%{count} نمره دانشجو بهنگام سازی شد"}},all_sections:"همه بخش ها",assignment_muted:"تکلیف غیر فعال شد",concluded_course_error_message:"یک درس خاتمه یافته است، بنابراین فقط ثبت نام های خاتمه یافته در دسترس هستند.",course_average:"میانگین درس",course_median:"میانه درس",course_mode:"مد درس",dropped_for_grading:"برای نمره گذاری حذف شد",error:{update:"در هنگام بهنگام سازی این تکلیف خطایی رخ داد. لطفا صفحه را تازه کنید و دوباره سعی کنید."},errors:{no_points_possible:"بدون امتیازهای ممکن، نمی توان روی منحنی برد",none_to_update:"هیچ موردی برای بهنگام سازی موجود نیست",upload_as_zip:"لطفا فایل ها را به صورت .zip بارگذاری نمایید"},grade_display_warning:{cancel:"لغو","continue":"ادامه",percent_text:"دانشجویان نمره نهایی خود را به صورت درصد نیز مشاهده خواهند کرد. مطمئنید که می خواهید ادامه دهید؟",points_text:"دانشجویان نمره نهایی خود را به صورت امتیاز نیز مشاهده خواهند کرد. مطمئنید که می خواهید ادامه دهید؟"},hide_notes:"مخفی کردن ستون یادداشت ها",hide_student_names:"مخفی کردن نام دانشجویان",invalid_assignment_groups_warning:{one:"نمره شامل  %{groups} نمی شود، زیرا آنها هیچ امتیاز ممکن ندارند",other:"نمره شامل  %{groups} نمی شود، زیرا آنها هیچ امتیاز ممکن ندارند"},keyboard_assignment_desc:"رفتن به صفحه اطلاعات تکلیف فعلی",keyboard_close_menu:"بستن منوی تکلیف فعال کنونی",keyboard_comment_desc:"نظر دادن درباره مورد ارسالی فعال",keyboard_menu_desc:"باز کردن منوی تکلیف ستون فعال",keyboard_sort_desc:"مرتب کردن شبکه روی ستون فعال فعلی",keyboard_tooltip_desc:"نمایش نوع ارسال مورد ارسالی فعال",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"نتیجه یادگیری",mastery:"تسلط",near_mastery:"نزدیک به تسلط",no_assignments_have_points_warning:"تا زمانی که یک تکلیف نمره های ممکن نداشته باشد، نمره قابل محاسبه نیست",notes:"یادداشت ها",percent_of_grade:"%{percentage} از نمره",points_out_of:"از %{points_possible}",remedial:"جبرانی",resubmitted:"از زمان آخرین نمره گذاری دوباره ارسال شد",secondary_id:"شناسه ثانویه",show_notes:"نمایش ستون یادداشت ها",show_student_names:"نمایش نام دانشجویان",student_name:"نام دانشجو",students_who:{havent_been_graded:"نمره گذاری نشده است",havent_submitted_yet:"هنوز ارسال نکرده است",no_grade_for:"نمره ای برای {assignment}% وجود ندارد",no_submission_for:"مورد ارسالی برای {assignment}% وجود ندارد",not_submitted_yet:"هنوز ارسال نکرده است",scored_less_than:"نمره گذاری شده کمتر از",scored_less_than_on:"نمره کمتر از  %{cutoff} در %{assignment} ",scored_more_than:"نمره گذاری شده بیشتر از",scored_more_than_on:"نمره بیشتر از  %{cutoff} در %{assignment}"},submitted_late:"با تأخیر ارسال شده است",title:{quiz:"ارسال آزمون",turnitin:"دارای نمره Turnitin"},titles:{discussion:"ارسال بحث",media:"ارسال نظر رسانه ای",media_recording:"ارسال ضبط رسانه",quiz_review:"این آزمون به بازبینی نیاز دارد",text:"ارسال ورودی متن",upload:"ارسال بارگذاری فایل",url:"ارسال نشانی اینترنتی"},total:"کل",ungraded:"در نمره گذاری لحاظ نشده است"}},fr:{gradebook2:{alerts:{scores_updated:{one:"1 note d’étudiant mise à jour",other:"%{count} notes d’étudiant mises à jour"}},all_sections:"Toutes les sections",assignment_muted:"Tâche silencieuse",concluded_course_error_message:"Ce cours est clos, aussi seules les inscriptions closes sont disponibles.",course_average:"Moyenne du cours",course_median:"Médiane du cours",course_mode:"Mode du cours",dropped_for_grading:"Abandonné pour des raisons de notation",error:{update:"Une erreur s’est produite pendant la mise à jour de cette tâche. Veuillez réactualiser la page et recommencer."},errors:{no_points_possible:"Impossible de créer la courbe sans points possibles",none_to_update:"Aucune mise à jour nécessaire",upload_as_zip:"Veuillez télécharger les fichiers sous forme de fichier zip."},grade_display_warning:{cancel:"Annuler","continue":"Continuer",percent_text:"Les étudiants verront également leur note finale sous la forme d’un pourcentage. Voulez-vous vraiment continuer ?",points_text:"Les étudiants verront également leur note finale sous forme de points. Voulez-vous vraiment continuer ?"},hide_notes:"Masquer la colonne des remarques",hide_student_names:"Masquer les noms des étudiants",invalid_assignment_groups_warning:{one:"Le résultat n’inclut pas %{groups} parce qu’il n’a                   pas de points possibles",other:"Le résultat n’inclut pas %{groups} parce qu’ils n’ont                    pas de points possibles"},keyboard_assignment_desc:"Accéder à la page détaillée des travaux en cours",keyboard_close_menu:"Fermer le menu du travail actif en cours",keyboard_comment_desc:"Commentaire sur l’envoi en cours",keyboard_menu_desc:"Ouvrir le menu du travail de la colonne active",keyboard_sort_desc:"Trier la grille en fonction de la colonne active",keyboard_tooltip_desc:"Afficher le type d’envoi pour l’envoi actif",keycodes:{close_menu:"Échap",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Acquis",mastery:"maîtrisé",near_mastery:"presque maîtrisé",no_assignments_have_points_warning:"Impossible de calculer le résultat jusqu’à ce qu’une tâche ait des points possibles",notes:"Remarques",percent_of_grade:"%{percentage} de la note",points_out_of:"sur %{points_possible}",remedial:"soutien",resubmitted:"Renvoyé depuis la dernière note",secondary_id:"ID secondaire",show_notes:"Afficher la colonne des remarques",show_student_names:"Afficher les noms des étudiants",student_name:"Nom de l’étudiant",students_who:{havent_been_graded:"N’ont pas été noté(e)s",havent_submitted_yet:"Pas encore envoyé",no_grade_for:"Pas de note pour %{assignment}",no_submission_for:"Pas d’envoi pour %{assignment}",not_submitted_yet:"Pas encore envoyé",scored_less_than:"Note inférieure à",scored_less_than_on:"Résultat inférieur à %{cutoff} pour %{assignment}",scored_more_than:"Note supérieure à",scored_more_than_on:"Résultat supérieur à %{cutoff} pour %{assignment}"},submitted_late:"Envoi tardif",title:{quiz:"Envoi de questionnaire",turnitin:"A une note Turnitin"},titles:{discussion:"Envoi de la discussion",media:"Envoi du commentaire multimédia",media_recording:"Envoi d’un enregistrement multimédia",quiz_review:"Ce questionnaire doit être révisé",text:"Envoi d’une entrée de texte",upload:"Envoi d’un téléchargement de fichier",url:"Envoi d’une URL"},total:"Total",ungraded:"Pas pris en compte dans la notation"}},ja:{gradebook2:{alerts:{scores_updated:{one:"%{count} 人の受講生のスコアを更新しました",other:"%{count} 人の受講生のスコアを更新しました"}},all_sections:"すべてのセクション",assignment_muted:"課題はミュートになっています",concluded_course_error_message:"これは完了したコースなので、完了済みの登録のみ使用できます。",course_average:"コース平均値",course_median:"コース中央値",course_mode:"コース モード",dropped_for_grading:"採点のためドロップされています",error:{update:"この課題を更新する際にエラーが発生しました。ページを更新してから、もう一度試してください。"},errors:{no_points_possible:"配点がないと分布曲線に基づいて評価できません",none_to_update:"更新するものがありません",upload_as_zip:"ファイルは .zip 形式でアップロードしてください"},grade_display_warning:{cancel:"キャンセル","continue":"続行",percent_text:"最終的な成績は、受講生に対してパーセンテージとして表示されます。続行しますか?",points_text:"最終的な成績は、受講生に対して点数として表示されます。続行しますか?"},hide_notes:"メモ列を非表示",hide_student_names:"受講生の名前を非表示",invalid_assignment_groups_warning:{one:"配点がないため、%{groups} はスコアに含まれません",other:"配点がないため、%{groups} はスコアに含まれません"},keyboard_assignment_desc:"現在の課題の詳細ページに移動",keyboard_close_menu:"現在アクティブな課題のメニューを閉じる",keyboard_comment_desc:"アクティブな提出物にコメント",keyboard_menu_desc:"アクティブな列の課題のメニューを開く",keyboard_sort_desc:"現在アクティブな列でグリッドを並べ替え",keyboard_tooltip_desc:"アクティブな提出物の提出物タイプの表示",keycodes:{close_menu:"Esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"学習成果",mastery:"達成",near_mastery:"ほぼ達成",no_assignments_have_points_warning:"課題に配点を設定するまで、スコアは計算できません",notes:"メモ",percent_of_grade:"成績の %{percentage}",points_out_of:"配点: %{points_possible}",remedial:"補習",resubmitted:"前回の採点後に再提出されました",secondary_id:"セカンダリ ID",show_notes:"メモ列を表示",show_student_names:"受講生の名前を表示",student_name:"受講生名",students_who:{havent_been_graded:"採点されていません",havent_submitted_yet:"まだ提出していない",no_grade_for:"%{assignment} の成績なし",no_submission_for:"%{assignment} の提出なし",not_submitted_yet:"未提出",scored_less_than:"次のスコアに満たない: ",scored_less_than_on:"%{assignment} の成績が %{cutoff} 未満",scored_more_than:"次のスコアを上回る: ",scored_more_than_on:"%{assignment} の成績が %{cutoff} より上"},submitted_late:"遅れて提出",title:{quiz:"クイズへの提出物",turnitin:"Turnitin スコアがあります"},titles:{discussion:"ディスカッションへの提出",media:"メディア コメントの提出",media_recording:"メディアの記録の提出",quiz_review:"このクイズはレビューが必要",text:"テキスト入力の提出",upload:"ファイル アップロードの提出",url:"URL の提出"},total:"合計",ungraded:"採点に考慮されない"}},ko:{gradebook2:{alerts:{scores_updated:{one:"학생 %{count}명 점수 업데이트됨",other:"학생 %{count}명 점수 업데이트됨"}},all_sections:"모든 섹션",assignment_muted:"과제 평가 비공개",concluded_course_error_message:"이는 종결된 과목이므로 종결된 등록만 사용할 수 있습니다.",dropped_for_grading:"평가 목적에서 탈락",error:{update:"이 과제를 업데이트하는 데 오류가 있습니다. 페이지를 새로 고친 후에 다시 시도하시기 바랍니다."},errors:{none_to_update:"업데이트할 내용 없음",upload_as_zip:"zip 파일로 업로드하시기 바랍니다."},grade_display_warning:{cancel:"취소","continue":"계속"},hide_student_names:"학생 이름 숨기기",invalid_assignment_groups_warning:{one:"%{groups}에 가능한 점수가 없어서 점수에 포함되지 않음",other:"%{groups}에 가능한 점수가 없어서 점수에 포함되지 않음"},keyboard_assignment_desc:"현재 과제의 세부 정보 페이지로 이동",keyboard_close_menu:"현재 활성인 과제 메뉴 닫기",keyboard_comment_desc:"활성 제출물에 대한 의견 달기",keyboard_menu_desc:"활성 열 과제에 대한 메뉴 열기",keyboard_sort_desc:"현재 활성인 열로 그리드 정렬",keycodes:{close_menu:"ESC",comment:"c",goto_assignment:"g",menu:"M",sort:"S"},learning_outcome:"학습 성과",no_assignments_have_points_warning:"과제가 가능한 점수를 갖기 전까지 점수를 계산할 수 없음",percent_of_grade:"평점의 %{percentage}",points_out_of:"/ %{points_possible}",resubmitted:"마지막 평가 이후 다시 제출됨",secondary_id:"보조 ID",show_student_names:"학생 이름 보기",student_name:"학생 이름",students_who:{havent_been_graded:"평가되지 않음",havent_submitted_yet:"제출되지 않음",no_grade_for:"%{assignment}에 대한 평점 없음",no_submission_for:"%{assignment}에 대한 제출물 없음",not_submitted_yet:"제출되지 않음",scored_less_than:"다음 이하 점수",scored_less_than_on:"%{assignment}에서 %{cutoff} 미만의 점수를 기록함",scored_more_than:"다음 이상 점수",scored_more_than_on:"%{assignment}에서 %{cutoff} 이상의 점수를 기록함"},submitted_late:"늦게 제출됨",title:{quiz:"퀴즈 제출물",turnitin:"Turnitin 점수 있음"},titles:{discussion:"토론 제출물",media:"미디어 설명 제출물",quiz_review:"이 퀴즈는 검토가 필요함",text:"텍스트 항목 제출물",upload:"파일 업로드 제출물",url:"URL 제출물"},total:"합계",ungraded:"평가 요인이 아님"}},nb:{gradebook2:{alerts:{scores_updated:{one:"1 studentresultat oppdatert",other:"%{count} studentresultater oppdatert"}},all_sections:"Alle klasser",assignment_muted:"Oppgaven er satt til passiv",concluded_course_error_message:"Dette er et fullført kurs, så kun fullførte påmeldinger er tilgjengelig.",course_average:"Gjennomsnitt i kurset",course_median:"Median i kurset",course_mode:"Kursmodus",dropped_for_grading:"Dropped for grading purposes",error:{update:"Det skjedde en feil under oppdatering av denne oppgaven. Last siden på nytt og prøv igjen."},errors:{no_points_possible:"Kan ikke korrigere uten tilgjengelige poeng",none_to_update:"Ingen ting å oppdatere",upload_as_zip:"Vennligst last opp filer som en .zip"},grade_display_warning:{cancel:"Avbryt","continue":"Fortsett",percent_text:"Studenter vil også se sine endelige karakterer som et prosenttall. Er du sikker på at du vil fortsette?",points_text:"Studenter vil også se sine endelige karakterer som poeng. Er du sikker på at du vil fortsette?"},hide_notes:"Skjul merknadskolonne",hide_student_names:"Skjul studentnavn",invalid_assignment_groups_warning:{one:"Resultatet inneholder ikke %{groups} fordi den ikke har noen oppnåelige poeng",other:"Resultatet inneholder ikke %{groups} fordi de ikke har noen oppnåelige poeng"},keyboard_assignment_desc:"Gå til den nåværende oppgavens detaljside",keyboard_close_menu:"Lukk menyen for den aktive oppgaven",keyboard_comment_desc:"Kommenter den aktive innleveringen",keyboard_menu_desc:"Åpne menyen for den aktive kolonnens oppgave",keyboard_sort_desc:"Sorter rutenettet etter den aktive kolonnen",keyboard_tooltip_desc:"Vis hvilken type innlevering den aktive innleveringen er",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Læringsmål",mastery:"mestrer",near_mastery:"mestrer nesten",no_assignments_have_points_warning:"Kan ikke regne ut resultat før en oppgave har oppnåelige poeng",notes:"Merknader",percent_of_grade:"%{percentage} av karakter",points_out_of:"av %{points_possible}",remedial:"forbedringspotensial",resubmitted:"Levert på nytt siden siste retting",secondary_id:"Sekundær ID",show_notes:"Vis merknadskolonne",show_student_names:"Vis studentnavn",student_name:"Studentens Navn",students_who:{havent_been_graded:"Har ikke blitt rettet",havent_submitted_yet:"Har ikke levert enda",no_grade_for:"Ingen karakter i %{assignment}",no_submission_for:"Ingen levering i %{assignment}",not_submitted_yet:"Har ikke levert enda",scored_less_than:"Fikk resultat lavere enn",scored_less_than_on:"Fikk et resultat lavere enn %{cutoff} på %{assignment}",scored_more_than:"Fikk resultat høyere enn",scored_more_than_on:"Fikk et resultat høyere enn %{cutoff} på %{assignment}"},submitted_late:"Levert etter fristen",title:{quiz:"Prøveinnlevering",turnitin:"Har Turnitin-resultat"},titles:{discussion:"Diskusjonsinnlevering",media:"Innlevering av mediekommentar",media_recording:"Innlevering av mediaopptak",quiz_review:"Denne prøven må gås gjennom",text:"Innlevering av tekstinnlegg",upload:"Innlevering med filopplasting",url:"Innlevering av URL"},total:"Total",ungraded:"Ikke tatt med i sensur"}},nl:{gradebook2:{alerts:{scores_updated:{one:"Score van 1 cursist bijgewerkt",other:"%{count} scores van cursist bijgewerkt"}},all_sections:"Alle secties",assignment_muted:"Opdracht onzichtbaar",concluded_course_error_message:"Dit is een afgesloten cursus, dus alleen afgesloten inschrijvingen zijn beschikbaar.",course_average:"Cursus gemiddelde",course_median:"Cursus mediaan",course_mode:"Cursus modus",dropped_for_grading:"Wordt niet meegenomen in de beoordeling",error:{update:"Er is een fout opgetreden bij het bijwerken van deze opdracht. Vernieuw de pagina en probeer het opnieuw."},errors:{no_points_possible:"Kan niet aanpassen zonder de mogelijke punten te weten",none_to_update:"Niets om bij te werken",upload_as_zip:"Upload bestanden als een zipbestand"},grade_display_warning:{cancel:"Annuleren","continue":"Doorgaan",percent_text:"Cursisten zullen ook hun eindcijfers als een percentage zien. Ben je zeker dat je wilt doorgaan?",points_text:"Cursisten zullen ook hun eindcijfers als punten zien. Ben je zeker dat je wilt doorgaan?"},hide_notes:"Opmerkingen in kolom verbergen",hide_student_names:"Namen van cursisten verbergen",invalid_assignment_groups_warning:{one:"Er is geen score voor %{group} omdat er geen punten toegekend kunnen worden",other:"Er is geen score voor %{groups} omdat er geen punten toegekend kunnen worden"},keyboard_assignment_desc:"Naar de pagina met details over de huidige opdracht gaan",keyboard_close_menu:"Het huidige actieve menu voor de opdracht sluiten",keyboard_comment_desc:"Opmerking over de actieve inzending",keyboard_menu_desc:"Het menu voor de kolom met actieve opdracht openen",keyboard_sort_desc:"Raster sorteren op de huidige actieve kolom",keyboard_tooltip_desc:"Het type inzending voor actieve inzending tonen",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Leerresultaat",mastery:"bekwaam",near_mastery:"bijna bekwaam",no_assignments_have_points_warning:"Kan geen score berekenen totdat het maximale aantal punten voor deze opdracht ingesteld is",notes:"Opmerkingen",percent_of_grade:"% {percentage} van cijfer",points_out_of:"van %{points_possible}",remedial:"verbetering",resubmitted:"Opnieuw ingezonden sinds laatste beoordeling",secondary_id:"Secundaire ID",show_notes:"Opmerkingen in kolom tonen",show_student_names:"Namen van cursisten tonen",student_name:"Naam van cursist",students_who:{havent_been_graded:"Zijn niet beoordeeld",havent_submitted_yet:"Hebben nog niets ingeleverd",no_grade_for:"Geen cijfer voor %{assignment}",no_submission_for:"Geen inzending voor %{assignment}",not_submitted_yet:"Hebben nog niets ingeleverd",scored_less_than:"Lager gescoord dan",scored_less_than_on:"Lager dan %{cutoff} gescoord voor %{assignment}",scored_more_than:"Hoger gescoord dan",scored_more_than_on:"Hoger dan %{cutoff} gescoord voor %{assignment}"},submitted_late:"Te laat ingeleverd",title:{quiz:"Toetsinzending",turnitin:"Heeft Turnitin-score"},titles:{discussion:"Discussie-inzending",media:"Opmerking op media inzending",media_recording:"Inzending van media opname ",quiz_review:"Deze toets moet nog gecontroleerd worden",text:"Tekstinvoer als inzending",upload:"Bestand uploaden als inzending",url:"URL-inzending"},total:"Totaal",ungraded:"Niet meegenomen in beoordeling"}},pl:{gradebook2:{alerts:{scores_updated:{one:"Zaktualizowano wynik 1 uczestnika",other:"Zaktualizowano wynik %{count} uczestników"}},all_sections:"Wszystkie sekcje",assignment_muted:"Zadanie wyłączone",concluded_course_error_message:"Jest to ukończony kurs, zatem jedynie zaakceptowane wpisy są dostępne.",course_average:"Średnia kursu",course_median:"Mediana kursu",course_mode:"Tryb kursu",dropped_for_grading:"Opuszczono w celu ocenienia",error:{update:"Podczas aktualizacji tego zadania wystąpił błąd. Odśwież stronę i spróbuj ponownie."},errors:{no_points_possible:"Nie można wyznaczyć krzywej ocen bez możliwości zdobycia punktów",none_to_update:"Brak pozycji do aktualizacji",upload_as_zip:"Przekaż pliki w formacie .zip"},grade_display_warning:{cancel:"Anuluj","continue":"Kontynuuj",percent_text:"Uczestnicy również zobaczą oceny w formie procentów. Czy na pewno chcesz kontynuować?",points_text:"Uczestnicy również zobaczą oceny w formie punktó. Czy na pewno chcesz kontynuować?"},hide_notes:"Ukryj kolumnę uwag",hide_student_names:"Ukryj nazwy uczestników",invalid_assignment_groups_warning:{one:"Wynik nie uwzględnia %{groups} grupy, ponieważ nie można w niej zdobywać punktów",other:"Wynik nie uwzględnia %{groups} grup, ponieważ nie można w nich zdobywać punktów"},keyboard_assignment_desc:"Przejdź do bieżącej strony informacji szczegółowych o zadaniu",keyboard_close_menu:"Zamknij aktywne menu zadania",keyboard_comment_desc:"Skomentuj aktywne przesłane zadanie",keyboard_menu_desc:"Otwórz menu dla aktywnego zadania w kolumnie",keyboard_sort_desc:"Sortuj siatkę w bieżącej, aktywnej kolumnie",keyboard_tooltip_desc:"Pokaż typ przesyłanego, aktywnego zadania",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Wyniki nauczania",mastery:"biegłość",near_mastery:"w okolicach biegłości",no_assignments_have_points_warning:"Wynik będzie można obliczyć, gdy zadanie będzie miało przydzielone punkty",notes:"Uwagi",percent_of_grade:"%{percentage} z oceny",points_out_of:"na %{points_possible} możliwych",remedial:"wymagający poprawy",resubmitted:"Wysłano ponownie po ocenieniu",secondary_id:"Drugi ID",show_notes:"Pokaż kolumnę uwag",show_student_names:"Pokaż nazwy uczestników",student_name:"Nazwa uczestnika",students_who:{havent_been_graded:"Jeszcze nie oceniono",havent_submitted_yet:"Jeszcze nie dostarczyli zadania",no_grade_for:"Brak oceny za zadanie %{assignment}",no_submission_for:"Nie przesłano zadania do %{assignment}",not_submitted_yet:"Jeszcze nie dostarczono zadania",scored_less_than:"Uzyskali wynik punktowy poniżej",scored_less_than_on:"Zdobyto poniżej %{cutoff} za zadanie %{assignment}",scored_more_than:"Uzyskali wynik punktowy powyżej",scored_more_than_on:"Zdobyto powyżej %{cutoff} za zadanie %{assignment}"},submitted_late:"Przesłano po terminie",title:{quiz:"Przesyłane zadanie w formie testu",turnitin:"Posiada wynik Turnitin "},titles:{discussion:"Przesyłane zadanie w formie dyskusji",media:"Przesyłane zadanie w formie komentarza multimedialnego",media_recording:"Przesłane nagranie multimedialne",quiz_review:"Ten test musi zostać oceniony",text:"Przesłane zadanie w formie wpisu",upload:"Przesłane zadanie w formie pliku",url:"Przesłane zadanie w formie adresu URL"},total:"Łącznie",ungraded:"Nie uwzględnione w ocenianiu"}},pt:{gradebook2:{alerts:{scores_updated:{one:"1 aluno com pontuação atualizada",other:"%{count} alunos com pontuações atualizadas"}},all_sections:"Todas as seções",assignment_muted:"Tarefa desativada",concluded_course_error_message:"Esta é uma disciplina concluída, o que significa que só estão disponíveis inscrições concluídas.",course_average:"Média da disciplina",course_median:"Mediana da disciplina",course_mode:"Modo da disciplina",dropped_for_grading:"Ignorado para fins de avaliação",error:{update:"Ocorreu um erro durante a atualização desta tarefa. Atualize a página a tente novamente."},errors:{no_points_possible:"Não é possível elaborar curva sem pontos possíveis",none_to_update:"Nada a atualizar",upload_as_zip:"Faça upload dos arquivos como um .zip"},grade_display_warning:{cancel:"Cancelar","continue":"Continuar",percent_text:"Os alunos também verão as respetivas notas finais como percentagem. Tem a certeza de que pretende continuar?",points_text:"Os alunos também verão as respetivas notas finais como pontos. Tem a certeza de que pretende continuar?"},hide_notes:"Ocultar coluna de notas",hide_student_names:"Ocultar nomes dos alunos",invalid_assignment_groups_warning:{one:"A pontuação não inclui %{groups} porque não tem                  pontos possíveis",other:"A pontuação não inclui %{groups} porque não têm                    pontos possíveis"},keyboard_assignment_desc:"Ir para a página de detalhes da tarefa atual",keyboard_close_menu:"Fechar o menu da tarefa ativa",keyboard_comment_desc:"Comentar o envio ativo",keyboard_menu_desc:"Abrir o menu da tarefa da coluna ativa",keyboard_sort_desc:"Ordenar a grelha na coluna ativa atual",keyboard_tooltip_desc:"Mostrar o tipo de envio do envio ativo",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Resultado de aprendizagem",mastery:"domínio",near_mastery:"próximo do domínio",no_assignments_have_points_warning:"Não é possível calcular a pontuação até uma tarefa ter pontos possíveis",notes:"Notas",percent_of_grade:"%{percentage} da nota",points_out_of:"de %{points_possible}",remedial:"melhoria",resubmitted:"Reenviado desde a última avaliação",secondary_id:"ID secundário",show_notes:"Mostrar coluna de notas",show_student_names:"Exibir nomes de alunos",student_name:"Nome do aluno",students_who:{havent_been_graded:"Não foram avaliados",havent_submitted_yet:"Ainda não enviou",no_grade_for:"Nenhuma nota para %{assignment}",no_submission_for:"Nenhum envio para %{assignment}",not_submitted_yet:"Ainda não enviou",scored_less_than:"Pontuou menos que",scored_less_than_on:"Teve pontuação inferior a %{cutoff} em %{assignment}",scored_more_than:"Pontuou mais que",scored_more_than_on:"Teve pontuação superior a %{cutoff} em %{assignment}"},submitted_late:"Enviou tarde",title:{quiz:"Envio do teste",turnitin:"Tem pontuação de Turnitin"},titles:{discussion:"Envio de discussão",media:"Envio de comentário em mídia",media_recording:"Envio de gravação de multimédia",quiz_review:"Este teste precisa ser revisado",text:"Envio de entrada de texto",upload:"Envio de upload de arquivo",url:"Envio de URL"},total:"Total",ungraded:"Não é tido em conta para avaliação"}},"pt-BR":{gradebook2:{alerts:{scores_updated:{one:"1 pontuação de aluno atualizada",other:"%{count} Pontuações de aluno atualizadas"}},all_sections:"Todas as seções",assignment_muted:"Tarefa silenciada",concluded_course_error_message:"Este é um curso concluído, portanto, somente inscrições concluídas estão disponíveis.",course_average:"Média do curso",course_median:"Média do curso",course_mode:"Modo do curso",dropped_for_grading:"Ignorado para propósito de avaliação",error:{update:"Ocorreu um erro ao atualizar esta tarefa. Atualize a página e tente novamente."},errors:{no_points_possible:"Não é possível relativizar sem pontos possíveis",none_to_update:"Nada a atualizar",upload_as_zip:"Faça upload dos arquivos como um .zip"},grade_display_warning:{cancel:"Cancelar","continue":"Continuar",percent_text:"Os alunos também verão a sua nota final como uma porcentagem. Tem certeza de que deseja continuar?",points_text:"Os alunos também verão a sua nota final como pontos. Tem certeza de que deseja continuar?"},hide_notes:"Ocultar coluna de notas",hide_student_names:"Ocultar nomes dos alunos",invalid_assignment_groups_warning:{one:"A pontuação não inclui %{groups}, pois ela não tem                     pontos possíveis",other:"As pontuações não incluem %{groups}, pois elas não têm                     pontos possíveis"},keyboard_assignment_desc:"Vá para página de detalhes da tarefa atual",keyboard_close_menu:"Feche o menu de tarefas atualmente ativo",keyboard_comment_desc:"Comente sobre o envio ativo",keyboard_menu_desc:"Abra o menu para a tarefa de coluna ativa",keyboard_sort_desc:"Ordene a grade na coluna ativa atual",keyboard_tooltip_desc:"Mostrar o tipo de envio do envio ativo",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Resultado do aprendizado",mastery:"domínio",near_mastery:"próximo a domínio",no_assignments_have_points_warning:"Não é possível computar a pontuação até uma tarefa ter pontos possíveis",notes:"Observações",percent_of_grade:"%{percentage} de nota",points_out_of:"de %{points_possible}",remedial:"remediar",resubmitted:"Reenviado desde a última avaliação",secondary_id:"ID secundária",show_notes:"Mostrar coluna de observações",show_student_names:"Exibir nomes de alunos",student_name:"Nome do aluno",students_who:{havent_been_graded:"Não foi avaliado",havent_submitted_yet:"Ainda não enviou",no_grade_for:"Nenhuma nota para %{assignment}",no_submission_for:"Nenhum envio para %{assignment}",not_submitted_yet:"Ainda não enviou",scored_less_than:"Pontuou menos que",scored_less_than_on:"Pontuado menos do que %{cutoff} em %{assignment}",scored_more_than:"Pontuou mais que",scored_more_than_on:"Pontuado mais do que %{cutoff} em %{assignment}"},submitted_late:"Enviada atrasada",title:{quiz:"Envio do teste",turnitin:"Tem pontuação Turnitin"},titles:{discussion:"Envio de discussão",media:"Envio de comentário em mídia",media_recording:"Envio de gravação de mídia",quiz_review:"Este teste precisa ser revisado",text:"Envio de entrada de texto",upload:"Envio de upload de arquivo",url:"Envio de URL"},total:"Total",ungraded:"Não considerado na pontuação"}},ru:{gradebook2:{alerts:{scores_updated:{one:"Оценки 1 студента были обновлены",other:"Оценки %{count} студентa/ов были обновлены"}},all_sections:"Все разделы",assignment_muted:"Звук задания отключен",concluded_course_error_message:"Это завершенный курс, поэтому доступна только завершенная регистрация.",course_average:"Средняя оценка курса",course_median:"Медиана курса",course_mode:"Режим курса",dropped_for_grading:"Удалены в целях оценки",error:{update:"Произошла ошибка при обновлении данного задания. Обновите страницу и попробуйте еще раз."},errors:{no_points_possible:"Невозможно построить кривую оценок без возможных баллов",none_to_update:"Нет объектов для обновления",upload_as_zip:"Загрузите файлы как ZIP-файл"},grade_display_warning:{cancel:"Отменить","continue":"Продолжить",percent_text:"Студенты также увидят свои итоговые оценки в процентном выражении. Вы уверены, что хотите продолжить?",points_text:"Студенты также увидят свои итоговые оценки в виде баллов. Вы уверены, что хотите продолжить?"},hide_notes:"Скрыть столбец заметок",hide_student_names:"Скрыть имена студентов",invalid_assignment_groups_warning:{one:"В оценку не включается %{groups} группа, потому что у нее                  нет возможных баллов",other:"В оценку не включаются %{groups} групп, потому что у них                    нет возможных баллов"},keyboard_assignment_desc:"Перейти к странице сведений о текущем задании",keyboard_close_menu:"Закрыть меню активного в данный момент задания",keyboard_comment_desc:"Прокомментировать активную отправку",keyboard_menu_desc:"Открыть меню для назначения активного столбца",keyboard_sort_desc:"Сортировать сетку по текущему активному столбцу",keyboard_tooltip_desc:"Показать тип отправки для активных отправок",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"з",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Результат обучения",mastery:"усвоено",near_mastery:"почти усвоено",no_assignments_have_points_warning:"Невозможно рассчитать оценку, пока у задания есть возможные баллы",notes:"Заметки",percent_of_grade:"%{percentage} оценки",points_out_of:"из %{points_possible}",remedial:"коррекция",resubmitted:"Отправлено заново после последней оценки",secondary_id:"Вторичное ID",show_notes:"Показать столбец заметок",show_student_names:"Показать имена студентов",student_name:"Имя студента",students_who:{havent_been_graded:"Оценка не была поставлена",havent_submitted_yet:"Еще не отправлено",no_grade_for:"Для %{assignment} оценка отсутствует",no_submission_for:"Для %{assignment} ничего не отправлено",not_submitted_yet:"Еще не отправлено",scored_less_than:"Оценено меньше",scored_less_than_on:"Набрано меньше чем %{cutoff} в %{assignment}",scored_more_than:"Оценено больше",scored_more_than_on:"Набрано больше чем %{cutoff} в %{assignment}"},submitted_late:"Отправлено поздно",title:{quiz:"Отправка контрольной работы",turnitin:"Имеется оценка Turnitin"},titles:{discussion:"Отправка обсуждения",media:"Отправка мультимедийного комментария",media_recording:"Отправка мультимедийной записи",quiz_review:"Требуется проверка этой контрольной работы",text:"Отправка текстовой записи",upload:"Отправка загрузки файла",url:"Отправка URL-адреса"},total:"Всего",ungraded:"Не учтено в процессе выставления оценки"}},tr:{gradebook2:{alerts:{scores_updated:{one:"%{count} Öğrenci puanı güncellendi",other:"%{count} Öğrenci puanı güncellendi"}},all_sections:"Tüm Bölümler",assignment_muted:"Ödev bekletiliyor",concluded_course_error_message:"Bu ders bitirilmiştir bu yüzden sadece bitirmiş kayıtlar bulunmaktadır.",course_average:"Dersin ortalaması",course_median:"Dersin medyanı",course_mode:"Dersin modu",dropped_for_grading:"Notlandırma amacıyla düşürüldü",error:{update:"Ödevlerin güncellenmesinde hata meydana geldi. Lütfen sayfayı yenileyin ve tekrar deneyin."},errors:{no_points_possible:"Olası puanlar olmadan eğri uygulanamaz",none_to_update:"Güncellenecek bir şey yok",upload_as_zip:"Lütfen dosyaları .zip olarak yükleyin"},grade_display_warning:{cancel:"İptal","continue":"Devam",percent_text:"Öğrenciler final notlarını yüzde olarak da görecekler. Devam etmek istediğinize emin misiniz?",points_text:"Öğrenciler notlarını puan olarak da görecekler. Devam etmek istediğinize emin misiniz?"},hide_notes:"Notlar Sütununu Gizle",hide_student_names:"Öğrenci İsimlerini Gösterme",invalid_assignment_groups_warning:{one:"Olası puanı olmadığı için not %{groups} içermiyor",other:"Olası puanları olmadığı için not %{groups} içermiyor"},keyboard_assignment_desc:"Güncel ödev ayrıntıları sayfasına git",keyboard_close_menu:"Güncel etkin ödev menüsünü kapat",keyboard_comment_desc:"Etkin gönderiye yorum yap",keyboard_menu_desc:"Etkin sütundaki ödev için menüyü aç",keyboard_sort_desc:"Güncel etkin sütundaki ızgara üzerinde sıralayın",keyboard_tooltip_desc:"Etkin gönderimin gönderim türünü göster",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"Öğrenme Çıktısı",mastery:"yeterlik",near_mastery:"yeterliğe yakın",no_assignments_have_points_warning:"Bir ödevde olası puanlar olmadıkça not hesaplanamaz",notes:"Notlar",percent_of_grade:"Notun %{percentage}",points_out_of:"%{points_possible} üzerinden",remedial:"telafi",resubmitted:"Son notlandırmadan sonra yeniden gönderildi",secondary_id:"İkincil ID",show_notes:"Notlar Sütununu Göster",show_student_names:"Öğrenci İsimlerini Göster",student_name:"Öğrencinin Adı",students_who:{havent_been_graded:"Henüz notlandırılmadı",havent_submitted_yet:"Henüz gönderilmedi",no_grade_for:"%{assignment} sınavı için değerlendirme yapılmadı",no_submission_for:"%{assignment} için gönderi yok",not_submitted_yet:"Henüz gönderilmedi",scored_less_than:"'den daha az puan aldı",scored_less_than_on:"%{assignment} %{cutoff} puan daha az",scored_more_than:"'den daha fazla puan aldı",scored_more_than_on:"%{assignment} %{cutoff} puan daha fazla"},submitted_late:"Geç gönderildi",title:{quiz:"Kısa Sınav Gönderimi",turnitin:"Turnitin puanı"},titles:{discussion:"Tartışma Gönderimi",media:"Çoklu Ortam Yorum Gönderimi",media_recording:"Ortam Kaydı Gönderimi",quiz_review:"Bu kısa sınavın gözden geçirilmesi gerekiyor",text:"Metin Yazma Şeklinde Gönderim",upload:"Dosya Yükleme Şeklinde Gönderim",url:"Bağlantı Adresi Şeklinde Gönderim"},total:"Toplam",ungraded:"Notlandırma katsayısına dahil edilmedi"}},zh:{gradebook2:{alerts:{scores_updated:{one:"更新 %{count} 个学生得分",other:"更新 %{count} 个学生得分"}},all_sections:"所有班级",assignment_muted:"作业已屏蔽",concluded_course_error_message:"这是个结业的课程，因此只提供结业登记。",course_average:"课程平均分数",course_median:"课程中值分数",course_mode:"课程模式",dropped_for_grading:"因评分目的删去",error:{update:"更新此作业时出错。请刷新页面，然后重试。"},errors:{no_points_possible:"没有满分，无法绘制曲线",none_to_update:"无更新",upload_as_zip:"请以 .zip 形式上传文件"},grade_display_warning:{cancel:"取消","continue":"继续",percent_text:"学生还将以百分比形式看到其最终评分。是否确定要继续？",points_text:"学生还将以分数形式看到其最终评分。是否确定要继续？"},hide_notes:"隐藏备注栏",hide_student_names:"隐藏学生姓名",invalid_assignment_groups_warning:{one:"分数不包括 %{groups}，因为没有最高得分",other:"分数不包括 %{groups}，因为没有最高得分"},keyboard_assignment_desc:"转到当前作业的详细信息页面",keyboard_close_menu:"关闭当前活动的作业菜单",keyboard_comment_desc:"对活动作业的评论",keyboard_menu_desc:"打开活动列的作业",keyboard_sort_desc:"对当前活动列上的网格排序",keyboard_tooltip_desc:"显示当前提交项的提交项类型",keycodes:{close_menu:"esc",comment:"c",goto_assignment:"g",menu:"m",sort:"s",tooltip:"t"},learning_outcome:"学习成果",mastery:"掌握",near_mastery:"接近掌握",no_assignments_have_points_warning:"无法计算得分，直到作业有最高得分",notes:"备注",percent_of_grade:"%{percentage} 的评分 ",points_out_of:"满分 %{points_possible} 分",remedial:"补课",resubmitted:"自上次计分后已重新提交",secondary_id:"第二类身份证明",show_notes:"显示备注栏",show_student_names:"显示学生姓名",student_name:"学生姓名",students_who:{havent_been_graded:"尚未计分",havent_submitted_yet:"尚未提交",no_grade_for:"%{assignment} 无评分",no_submission_for:"%{assignment} 无提交",not_submitted_yet:"尚未提交",scored_less_than:"分数低于",scored_less_than_on:"%{assignment} 的得分少于 %{cutoff} ",scored_more_than:"分数高于",scored_more_than_on:"%{assignment} 的得分高于 %{cutoff} "},submitted_late:"提交过迟",title:{quiz:"测验提交",turnitin:"有 Turnitin 分数"},titles:{discussion:"讨论提交",media:"媒体评论提交",media_recording:"媒体录音提交项",quiz_review:"此测验需要审阅",text:"文本条目提交",upload:"文件上传提交",url:"URL 提交"},total:"总计",ungraded:"不影响评分"}}}})
}),function(){define("compiled/gradebook2/GRADEBOOK_TRANSLATIONS",["i18n!gradebook2"],function(e){var t;return t={submission_tooltip_dropped:e.t("dropped_for_grading","Dropped for grading purposes"),submission_tooltip_late:e.t("submitted_late","Submitted late"),submission_tooltip_muted:e.t("assignment_muted","Assignment muted"),submission_tooltip_resubmitted:e.t("resubmitted","Resubmitted since last graded"),submission_tooltip_ungraded:e.t("ungraded","Not factored into grading"),submission_tooltip_online_url:e.t("titles.url","URL Submission"),submission_tooltip_discussion_topic:e.t("titles.discussion","Discussion Submission"),submission_tooltip_online_upload:e.t("titles.upload","File Upload Submission"),submission_tooltip_online_text_entry:e.t("titles.text","Text Entry Submission"),submission_tooltip_pending_review:e.t("titles.quiz_review","This quiz needs review"),submission_tooltip_media_comment:e.t("titles.media","Media Comment Submission"),submission_tooltip_media_recording:e.t("titles.media_recording","Media Recording Submission"),submission_tooltip_online_quiz:e.t("title.quiz","Quiz Submission"),submission_tooltip_turnitin:e.t("title.turnitin","Has Turnitin score"),submission_update_error:e.t("error.update","There was an error updating this assignment. Please refresh the page and try again.")}})}.call(this),function(){define("compiled/grade_calculator",["underscore"],function(e){var t,n;return n=function(t,n){var o,i;return i=[],o=[],e(t).each(function(e){return(n(e)?i:o).push(e)}),[i,o]},t=function(){function t(){}return t.calculate=function(t,n,o){var i,a=this;return i={},i.group_sums=e(n).map(function(e){return{group:e,current:a.create_group_sum(e,t,!0),"final":a.create_group_sum(e,t,!1)}}),i.current=this.calculate_total(i.group_sums,!0,o),i["final"]=this.calculate_total(i.group_sums,!1,o),i},t.create_group_sum=function(t,n,o){var i,a,s,r,l,u,d,c,g,m,h,p,_,f,v=this;return i=function(e,t){var n,o,i,a;for(o={},i=0,a=e.length;a>i;i++)n=e[i],o[n[t]]=n;return o},r=e(t.assignments).filter(function(t){return!e.isEqual(t.submission_types,["not_graded"])}),a=i(r,"id"),n=e(n).filter(function(e){return null!=a[e.assignment_id]}),o||(h=e(n).map(function(e){return e.assignment_id.toString()}),u=e.difference(e.keys(a),h),s=e(u).map(function(e){var t;return t={assignment_id:e,score:null}}),n.push.apply(n,s)),_=i(n,"assignment_id"),p=e(n).map(function(e){var t;return t={total:v.parse(a[e.assignment_id].points_possible),score:v.parse(e.score),submitted:null!=e.score&&""!==e.score,submission:e}}),c=o?e(p).filter(function(e){return e.submitted}):p,l=this.dropAssignments(c,t.rules),f=e.reduce(l,function(e,t){var n,o,i,a;return o=e[0],a=e[1],n=t.score,i=t.total,[o+v.parse(n),a+i]},[0,0]),m=f[0],d=f[1],g={possible:d,score:m,submission_count:e(p).filter(function(e){return e.submitted}).length,submissions:e(p).map(function(e){var t;return t={drop:e.drop,percent:v.parse(e.score/e.total),possible:e.total,score:v.parse(e.score),submission:e.submission,submitted:e.submitted}})}},t.dropAssignments=function(t,o){var i,a,s,r,l,u,d,c,g,m,h,p,_;if(o||(o={}),s=o.drop_lowest||0,a=o.drop_highest||0,g=o.never_drop||[],!s&&!a)return t;if(g.length>0?(_=n(t,function(t){return e.indexOf(g,t.submission.assignment_id)>=0}),i=_[0],t=_[1]):i=[],0===t.length)return i;for(s>=t.length&&(s=t.length-1),s+a>=t.length&&(a=0),u=t.length-s,d=u-a,t.sort(function(e,t){return e.submission.assignment_id-t.submission.assignment_id}),l=function(){var e,n,o;for(o=[],e=0,n=t.length;n>e;e++)m=t[e],m.total>0&&o.push(m.total);return o}().length>0,c=l?this.dropPointed(t,i,u,d):this.dropUnpointed(t,u,d),c.push.apply(c,i),r=e.difference(t,c),h=0,p=r.length;p>h;h++)m=r[h],m.drop=!0;return c},t.dropUnpointed=function(t,n,o){var i;return i=t.sort(function(e,t){return e.score-t.score}),e.chain(i).last(n).first(o).value()},t.dropPointed=function(t,o,i,a){var s,r,l,u,d,c=this;return d=function(){var e,n,o;for(o=[],e=0,n=t.length;n>e;e++)u=t[e],o.push(u.total);return o}(),l=Math.max.apply(Math,d),s=function(t,i,a){var s,r,d,g,m,h,p,_,f,v,b,y,w,k;if(0>=i&&(i=1),t.length<=i)return t;for(s=t.concat(o),y=n(s,function(e){return 0===e.total}),v=y[0],m=y[1],d=function(){var e,t,n;for(n=[],e=0,t=m.length;t>e;e++)u=m[e],n.push(u.score/u.total);return n}().sort(function(e,t){return e-t}),h=c.estimateQHigh(m,v,d),p=d[0],_=(p+h)/2,r=function(t,n){var s,r,l,d,c,g,m;return m=e(n).map(function(e){var n;return n=e.score-t*e.total,[n,e]}),c=m.sort(a),s=c.slice(0,i),d=e.reduce(s,function(e,t){var n,o;return n=t[0],o=t[1],e+n},0),r=function(){var e,t,n,o;for(o=[],e=0,t=s.length;t>e;e++)n=s[e],g=n[0],u=n[1],o.push(u);return o}(),l=e.reduce(o,function(e,n){return e+n.score-t*n.total},0),[d+l,r]},w=r(_,t),b=w[0],g=w[1],f=1/(2*i*Math.pow(l,2));!(f>h-p)&&(0>b?h=_:p=_,_=(p+h)/2,_!==h&&_!==p);)k=r(_,t),b=k[0],g=k[1];return g},r=s(t,i,function(e,t){var n,o,i,a;return n=e[0],i=e[1],o=t[0],a=t[1],o-n}),r=s(r,a,function(e,t){var n,o,i,a;return n=e[0],i=e[1],o=t[0],a=t[1],n-o})},t.estimateQHigh=function(t,n,o){var i,a,s,r,l;return n.length>0?(s=e(t).reduce(function(e,t){return e+t.total},0),i=Math.max(s,e(t).reduce(function(e,t){return e+t.score},0)),l=e(n).reduce(function(e,t){return e+t.score},0),a=i+l,a/s):r=o[o.length-1]},t.calculate_total=function(t,n,o){var i,a,s,r,l,u,d,c;return i=n?"current":"final",t=e(t).map(function(e){return e[i].weight=e.group.group_weight,e[i]}),"percent"===o?(l=e(t).filter(function(e){return e.possible}),a=e.reduce(l,function(e,t){return e+t.score/t.possible*t.weight},0),s=e.reduce(l,function(e,t){var n;return n=t.weight,e+n},0),0===s?a=null:100>s&&(a*=100/s),u={score:a&&Math.round(10*a)/10,possible:100}):(c=e.reduce(t,function(e,t){var n,o,i,a;return n=e[0],o=e[1],a=t.score,i=t.possible,[n+a,o+i]},[0,0]),d=c[0],r=c[1],u={score:d,possible:r})},t.parse=function(e){var t;return t=parseFloat(e),t&&isFinite(t)?t:0},t.letter_grade=function(t,n){var o,i;return 0>n&&(n=0),i=e(t).filter(function(e,o){return n>=100*e[1]||o===t.length-1}),o=i[0],o[0]},t}()})}.call(this),define("translations/submission_details_dialog",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{submission_details_dialog:{add_a_comment:"إضافة تعليق",comments:"التعليقات",grade_form_label:"الدرجة:",labels:{group_comment:"إرسال تعليق إلى المجموعة بالكامل"},late:"متأخر",links:{click_to_view:"انقر هنا للعرض"},loading_comments:"جارٍ تحميل التعليقات...",more_details_in_the_speedgrader:"مزيد من التفاصيل في SpeedGrader",post_comment:"نشر التعليق",submitted:"تم الإرسال:",this_was_submitted_multiple_times_choose_a_submission_to_view:"تم الإرسال لعدة مرات، اختر ما تريد عرضه:",update_grade:"تحديث الدرجة",view_rubric_assessment_in_the_speedgrader:"عرض تقييم العنوان في SpeedGrader"}},de:{submission_details_dialog:{add_a_comment:"Einen Kommentar hinzufügen",comments:"Kommentare",grade_form_label:"Note:",labels:{group_comment:"Kommentar an die gesamte Gruppe verschicken"},late:"VERSPÄTET",links:{click_to_view:"Zum Anzeigen hier klicken"},loading_comments:"Kommentare werden geladen...",more_details_in_the_speedgrader:"Weitere Details im SpeedGrader",post_comment:"Kommentar einstellen",submitted:"Eingesandt:",this_was_submitted_multiple_times_choose_a_submission_to_view:"Wurde mehrfach eingesandt, anzuzeigende Einsendung auswählen:",update_grade:"Note aktualisieren",view_rubric_assessment_in_the_speedgrader:"Rubrik Leistungstest im SpeedGrader anzeigen"}},"en-AU":{submission_details_dialog:{add_a_comment:"Add a comment",comments:"Comments",grade_form_label:"Grade:",labels:{group_comment:"Send Comment to the Whole Group"},late:"LATE",links:{click_to_view:"click here to view"},loading_comments:"Loading comments...",more_details_in_the_speedgrader:"More details in the SpeedGrader",post_comment:"Post Comment",submitted:"Submitted:",this_was_submitted_multiple_times_choose_a_submission_to_view:"Submitted multiple times, choose which to view:",update_grade:"Update Grade",view_rubric_assessment_in_the_speedgrader:"View Rubric Assessment in the SpeedGrader"}},"en-GB":{submission_details_dialog:{add_a_comment:"Add a comment",comments:"Comments",grade_form_label:"Grade:",labels:{group_comment:"Send comment to the whole group"},late:"LATE",links:{click_to_view:"click here to view"},loading_comments:"Loading comments...",more_details_in_the_speedgrader:"More details in the SpeedGrader",post_comment:"Post Comment",submitted:"Submitted:",this_was_submitted_multiple_times_choose_a_submission_to_view:"Submitted multiple times, choose which to view:",update_grade:"Update grade",view_rubric_assessment_in_the_speedgrader:"View Rubric Assessment in the SpeedGrader"}},es:{submission_details_dialog:{add_a_comment:"Agregar un comentario",comments:"Comentarios",grade_form_label:"Calificación:",labels:{group_comment:"Enviar un comentario al grupo entero"},late:"TARDE",links:{click_to_view:"haga click aquí para ver"},loading_comments:"Cargando comentarios...",more_details_in_the_speedgrader:"Más detalles en el Calificador Rápido",post_comment:"Publicar Comentario",submitted:"Enviado:",this_was_submitted_multiple_times_choose_a_submission_to_view:"Enviado varias veces, escoja cual ver:",update_grade:"Actualizar calificación",view_rubric_assessment_in_the_speedgrader:"Ver la Rúbrica de la Evaluación en el Calificador Rápido"}},"fa-IR":{submission_details_dialog:{add_a_comment:"افزودن نظر",comments:"نظرها",grade_form_label:"نمره:",labels:{group_comment:"ارسال نظر به کل گروه"},late:"با تأخیر",links:{click_to_view:"برای مشاهده، کلیک کنید"},loading_comments:"در حال بارگذاری نظرها...",more_details_in_the_speedgrader:"اطلاعات بیشتر در برنامه نمره گذاری سریع",post_comment:"ارسال نظر",submitted:"ارسال شده:",this_was_submitted_multiple_times_choose_a_submission_to_view:"چند بار ارسال شده است, انتخاب کنید کدام را ببینید:",update_grade:"بهنگام سازی نمره",view_rubric_assessment_in_the_speedgrader:"مشاهده ارزیابی با استفاده از دستورالعمل در برنامه نمره گذاری سریع"}},fr:{submission_details_dialog:{add_a_comment:"Ajouter un commentaire",comments:"Commentaires",grade_form_label:"Note :",labels:{group_comment:"Envoyer un commentaire au groupe complet"},late:"EN RETARD",links:{click_to_view:"Cliquez ici pour afficher"},loading_comments:"Chargement des commentaires...",more_details_in_the_speedgrader:"Informations complémentaires dans SpeedGrader",post_comment:"Publier un commentaire",submitted:"Envoyé :",this_was_submitted_multiple_times_choose_a_submission_to_view:"Il y a eu plusieurs envois, veuillez choisir l’envoi à afficher :",update_grade:"Actualiser la note",view_rubric_assessment_in_the_speedgrader:"Afficher l’évaluation par barème dans SpeedGrader"}},ja:{submission_details_dialog:{add_a_comment:"コメントを追加します",comments:"コメント",grade_form_label:"成績:",labels:{group_comment:"グループ全体にコメントを送信"},late:"遅延",links:{click_to_view:"ここをクリックして表示"},loading_comments:"コメントを読み込んでいます...",more_details_in_the_speedgrader:"SpeedGrader 内の詳細",post_comment:"コメントの投稿",submitted:"提出済み:",this_was_submitted_multiple_times_choose_a_submission_to_view:"複数回提出されています。どれを表示するか選択してください:",update_grade:"成績を更新",view_rubric_assessment_in_the_speedgrader:"注釈のアセスメントを SpeedGrader で表示する"}},ko:{submission_details_dialog:{add_a_comment:"의견 추가",comments:"의견",labels:{group_comment:"전체 그룹으로 의견 보내기"},late:"지연",links:{click_to_view:"보려면 여기를 클릭하십시오."},loading_comments:"의견 로드 중...",more_details_in_the_speedgrader:"SpeedGrader에서 자세한 세부 정보",post_comment:"의견 게시",submitted:"제출:",this_was_submitted_multiple_times_choose_a_submission_to_view:"여러 번 제출되었습니다. 보려는 것을 선택하십시오:",view_rubric_assessment_in_the_speedgrader:"SpeedGrader에서 루브릭 평가 보기"}},nb:{submission_details_dialog:{add_a_comment:"Legg til en kommentar",comments:"Kommentarer",grade_form_label:"Karakter:",labels:{group_comment:"Send kommentar til hele gruppen"},late:"FOR SEN",links:{click_to_view:"klikk her for å se"},loading_comments:"Laster inn kommentarer...",more_details_in_the_speedgrader:"Flere detaljer i SpeedGrader",post_comment:"Post kommentar",submitted:"Levert:",this_was_submitted_multiple_times_choose_a_submission_to_view:"Levert flere ganger, velg hvilken du ønsker å se:",update_grade:"Oppdater karakter",view_rubric_assessment_in_the_speedgrader:"Se vurdering av vurderingsveiledning i SpeedGrader"}},nl:{submission_details_dialog:{add_a_comment:"Een opmerking toevoegen",comments:"Opmerkingen",grade_form_label:"Cijfer:",labels:{group_comment:"Opmerking naar de hele groep sturen"},late:"TE LAAT",links:{click_to_view:"Hier klikken om te bekijken"},loading_comments:"Bezig met laden van opmerkingen...",more_details_in_the_speedgrader:"Meer details in SpeedGrader",post_comment:"Opmerking plaatsen",submitted:"Ingezonden:",this_was_submitted_multiple_times_choose_a_submission_to_view:"Meerdere keren ingeleverd, kies welke je wilt bekijken:",update_grade:"Cijfer bijwerken",view_rubric_assessment_in_the_speedgrader:"Beoordeling van rubric bekijken in SpeedGrader"}},pl:{submission_details_dialog:{add_a_comment:"Dodaj komentarz",comments:"Komentarze",grade_form_label:"Ocena:",labels:{group_comment:"Wyślij komentarz do całej grupy"},late:"PO CZASIE",links:{click_to_view:"kliknij tutaj, aby wyświetlić"},loading_comments:"Trwa ładowanie komentarzy...",more_details_in_the_speedgrader:"Więcej szczegółów w programie SpeedGrader",post_comment:"Zamieść komentarz",submitted:"Przesłano:",this_was_submitted_multiple_times_choose_a_submission_to_view:"Wielokrotnie przesyłane, wybierz, którą wersję wyświetlić:",update_grade:"Aktualizuj ocenę",view_rubric_assessment_in_the_speedgrader:"Pokaż ocenianie wg kryteriów ocen w programie SpeedGrader"}},pt:{submission_details_dialog:{add_a_comment:"Adicionar um comentário",comments:"Comentários",grade_form_label:"Nota:",labels:{group_comment:"Enviar comentário para todo o grupo"},late:"ATRASADA",links:{click_to_view:"clique aqui para exibir"},loading_comments:"Carregando comentários...",more_details_in_the_speedgrader:"Mais detalhes no SpeedGrader",post_comment:"Publicar comentário",submitted:"Enviado:",this_was_submitted_multiple_times_choose_a_submission_to_view:"Enviado várias vezes, escolha qual exibir:",update_grade:"Atualizar nota",view_rubric_assessment_in_the_speedgrader:"Exibir avaliação de protocolo no SpeedGrader"}},"pt-BR":{submission_details_dialog:{add_a_comment:"Adicionar um comentário",comments:"Comentários",grade_form_label:"Nota:",labels:{group_comment:"Enviar comentário para todo o grupo"},late:"ATRASADA",links:{click_to_view:"clique aqui para exibir"},loading_comments:"Carregando comentários...",more_details_in_the_speedgrader:"Mais detalhes no SpeedGrader",post_comment:"Publicar comentário",submitted:"Enviado:",this_was_submitted_multiple_times_choose_a_submission_to_view:"Enviado várias vezes, escolha qual exibir:",update_grade:"Atualizar nota",view_rubric_assessment_in_the_speedgrader:"Exibir avaliação de protocolo no SpeedGrader"}},ru:{submission_details_dialog:{add_a_comment:"Добавить комментарий",comments:"Комментарии",grade_form_label:"Оценка:",labels:{group_comment:"Отправить комментарий всей группе"},late:"ПОЗДНО",links:{click_to_view:"щелкните здесь для просмотра"},loading_comments:"Загрузка комментариев...",more_details_in_the_speedgrader:"Дополнительные сведения см. в SpeedGrader",post_comment:"Опубликовать комментарий",submitted:"Отправлено:",this_was_submitted_multiple_times_choose_a_submission_to_view:"Отправлено несколько раз, выберите для просмотра:",update_grade:"Обновить оценку",view_rubric_assessment_in_the_speedgrader:"Просмотр оценки рубрики в SpeedGrader"}},tr:{submission_details_dialog:{add_a_comment:"Yorum ekle",comments:"Yorumlar",grade_form_label:"Not:",labels:{group_comment:"Tüm Gruba Yorum Gönder "},late:"GEÇ TESLİM",links:{click_to_view:"görmek için buraya tıklayın"},loading_comments:"Yorumlar yükleniyor...",more_details_in_the_speedgrader:"Ayrıntılı bilgiler SpeedGrader aracındadır",post_comment:"Yorum Gönder",submitted:"Gönderilen:",this_was_submitted_multiple_times_choose_a_submission_to_view:"Birden çok defa gönderildi, lütfen görmek istediğiniz gönderiyi seçin:",update_grade:"Notu Düzenle",view_rubric_assessment_in_the_speedgrader:"SpeedGrader'da Değerlendirme Sınavlarını gör"}},zh:{submission_details_dialog:{add_a_comment:"添加评论",comments:"评论",grade_form_label:"评分：",labels:{group_comment:"发送评论到全小组"},late:"延迟",links:{click_to_view:"单击此处查看"},loading_comments:"正在加载评论...",more_details_in_the_speedgrader:"快速评分器中的更多详细信息",post_comment:"发表评论",submitted:"已提交",this_was_submitted_multiple_times_choose_a_submission_to_view:"已提交多次，选择要查看哪个提交:",update_grade:"更新评分",view_rubric_assessment_in_the_speedgrader:"在快速评分器中查看评分标准测验"}}}})}),function(){define("compiled/util/registerTemplateCss",[],function(){var e,t,n,o,i,a;return t=window.document,i={},n=function(e,t){return i[e]=t,o()},n.clear=function(){return i={},o()},o=function(){var n,o,a,s,r;a=[];for(r in i)o=i[r],a.push("/* From: "+r+" */"),a.push(o);return n=a.join("\n"),s=e(),"cssText"in s?s.cssText=n:s.appendChild(t.createTextNode(n))},a=null,e=function(){var e,n;if(a){for(;e=a.firstChild;)a.removeChild(e);return a}return t.createStyleSheet?a=t.createStyleSheet():(n=t.head||t.getElementsByTagName("head")[0],a=t.createElement("style"),n.appendChild(a))},n})}.call(this),define("translations/grading_box",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{gradebooks:{grades:{complete:"مكتمل",incomplete:"غير كامل"}},grading_box:{out_of_points_possible:"من %{assignment.points_possible}"}},de:{gradebooks:{grades:{complete:"Abgeschlossen",incomplete:"Unvollständig"}},grading_box:{out_of_points_possible:"von insgesamt %{assignment.points_possible}"}},"en-AU":{gradebooks:{grades:{complete:"Complete",incomplete:"Incomplete"}},grading_box:{out_of_points_possible:"out of %{assignment.points_possible}"}},"en-GB":{gradebooks:{grades:{complete:"Complete",incomplete:"Incomplete"}},grading_box:{out_of_points_possible:"out of %{assignment.points_possible}"}},es:{gradebooks:{grades:{complete:"Completo",incomplete:"Incompleto"}},grading_box:{out_of_points_possible:"de %{assignment.points_possible}"}},"fa-IR":{gradebooks:{grades:{complete:"کامل",incomplete:"ناقص"}},grading_box:{out_of_points_possible:"از %{assignment.points_possible}"}},fr:{gradebooks:{grades:{complete:"Terminé",incomplete:"Non terminé"}},grading_box:{out_of_points_possible:"sur %{assignment.points_possible}"}},ja:{gradebooks:{grades:{complete:"完了",incomplete:"未完了"}},grading_box:{out_of_points_possible:"配点: %{assignment.points_possible}"}},ko:{gradebooks:{grades:{complete:"완료",incomplete:"완료 안 됨"}},grading_box:{out_of_points_possible:"/ %{assignment.points_possible}"}},nb:{gradebooks:{grades:{complete:"Ferdig",incomplete:"Ufullstendig"}},grading_box:{out_of_points_possible:"av %{assignment.points_possible}"}},nl:{gradebooks:{grades:{complete:"Voltooid",incomplete:"Niet voltooid"}},grading_box:{out_of_points_possible:"van %{assignment.points_possible}"}},pl:{gradebooks:{grades:{complete:"Gotowe",incomplete:"Niekompletne"}},grading_box:{out_of_points_possible:"na %{assignment.points_possible} możliwych"}},pt:{gradebooks:{grades:{complete:"Completo",incomplete:"Incompleto"}},grading_box:{out_of_points_possible:"de %{assignment.points_possible}"}},"pt-BR":{gradebooks:{grades:{complete:"Completo",incomplete:"Incompleto"}},grading_box:{out_of_points_possible:"de %{assignment.points_possible}"}},ru:{gradebooks:{grades:{complete:"Завершено",incomplete:"Не завершено"}},grading_box:{out_of_points_possible:"из %{assignment.points_possible}"}},tr:{gradebooks:{grades:{complete:"Tamam",incomplete:"Eksik"}},grading_box:{out_of_points_possible:"%{assignment.points_possible} üzerinden"}},zh:{gradebooks:{grades:{complete:"完成",incomplete:"未完成"}},grading_box:{out_of_points_possible:"满分 %{assignment.points_possible} 分"}}}})}),define("jst/_grading_box",["compiled/handlebars_helpers","i18n!grading_box"],function(e){var t=e.template,n=e.templates=e.templates||{};return n._grading_box=t(function(e,t,n,o,i){function a(e,t){var o,i,a="";return a+='\n  <input name="',(i=n.inputName)?o=i.call(e,{hash:{},data:t}):(i=e&&e.inputName,o=typeof i===g?i.call(e,{hash:{},data:t}):i),a+=m(o)+'" type="number" step="any" value="',(i=n.grade)?o=i.call(e,{hash:{},data:t}):(i=e&&e.grade,o=typeof i===g?i.call(e,{hash:{},data:t}):i),a+=m(o)+'" class="grading_value grading_box" id="student_grading_'+m((o=e&&e.assignment,o=null==o||o===!1?o:o.id,typeof o===g?o.apply(e):o))+'" style="text-align: center; width: 50px;"/>\n'}function s(e,t){var o,i,a="";return a+='\n  <span name="',(i=n.inputName)?o=i.call(e,{hash:{},data:t}):(i=e&&e.inputName,o=typeof i===g?i.call(e,{hash:{},data:t}):i),a+=m(o)+'" class="grading_box" id="student_grading_'+m((o=e&&e.assignment,o=null==o||o===!1?o:o.id,typeof o===g?o.apply(e):o))+'">\n    <input name="',(i=n.inputName)?o=i.call(e,{hash:{},data:t}):(i=e&&e.inputName,o=typeof i===g?i.call(e,{hash:{},data:t}):i),a+=m(o)+'" type="text" name="grade" value="',(i=n.grade)?o=i.call(e,{hash:{},data:t}):(i=e&&e.grade,o=typeof i===g?i.call(e,{hash:{},data:t}):i),a+=m(o)+'" class="grading_value" style="text-align: center; width: 50px;"/>\n  </span>\n'}function r(e,t){var o,i,a="";return a+='\n  <input name="',(i=n.inputName)?o=i.call(e,{hash:{},data:t}):(i=e&&e.inputName,o=typeof i===g?i.call(e,{hash:{},data:t}):i),a+=m(o)+'" type="text" value="',(i=n.grade)?o=i.call(e,{hash:{},data:t}):(i=e&&e.grade,o=typeof i===g?i.call(e,{hash:{},data:t}):i),a+=m(o)+'" class="grading_value grading_box score_value" id="student_grading_'+m((o=e&&e.assignment,o=null==o||o===!1?o:o.id,typeof o===g?o.apply(e):o))+'" style="text-align: center; width: 50px;"/>\n'}function l(e,t){var o,i,a,s="";return s+='\n  <select name="',(i=n.inputName)?o=i.call(e,{hash:{},data:t}):(i=e&&e.inputName,o=typeof i===g?i.call(e,{hash:{},data:t}):i),s+=m(o)+'" class="grading_value grading_box pass_fail" id="student_grading_<%= assignment.id %>">\n    <option value="">---</option>\n    <option value="complete" '+m((i=n.selectedIf||e&&e.selectedIf,a={hash:{},data:t},i?i.call(e,e&&e.grade,"complete",a):h.call(e,"selectedIf",e&&e.grade,"complete",a)))+">",i=n.t||e&&e.t,a={hash:{scope:"grading_box"},data:t},o=i?i.call(e,"#gradebooks.grades.complete","Complete",a):h.call(e,"t","#gradebooks.grades.complete","Complete",a),(o||0===o)&&(s+=o),s+='</option>\n    <option value="incomplete" '+m((i=n.selectedIf||e&&e.selectedIf,a={hash:{},data:t},i?i.call(e,e&&e.grade,"incomplete",a):h.call(e,"selectedIf",e&&e.grade,"incomplete",a)))+">",i=n.t||e&&e.t,a={hash:{scope:"grading_box"},data:t},o=i?i.call(e,"#gradebooks.grades.incomplete","Incomplete",a):h.call(e,"t","#gradebooks.grades.incomplete","Incomplete",a),(o||0===o)&&(s+=o),s+="</option>\n  </select>\n"}function u(e,t){var o,i,a,s="";return s+='\n  <span style="font-size: 0.9em;" >\n    ',i=n.t||e&&e.t,a={hash:{scope:"grading_box"},data:t},o=i?i.call(e,"out_of_points_possible","out of %{assignment.points_possible}",a):h.call(e,"t","out_of_points_possible","out of %{assignment.points_possible}",a),(o||0===o)&&(s+=o),s+="\n  </span>\n"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var d,c="",g="function",m=this.escapeExpression,h=n.helperMissing,p=this;return d=n["if"].call(t,t&&t.assignment_grading_type_is_points,{hash:{},inverse:p.noop,fn:p.program(1,a,i),data:i}),(d||0===d)&&(c+=d),c+="\n",d=n["if"].call(t,t&&t.assignment_grading_type_is_percent,{hash:{},inverse:p.noop,fn:p.program(3,s,i),data:i}),(d||0===d)&&(c+=d),c+="\n",d=n["if"].call(t,t&&t.assignment_grading_type_is_letter_grade,{hash:{},inverse:p.noop,fn:p.program(5,r,i),data:i}),(d||0===d)&&(c+=d),c+="\n",d=n["if"].call(t,t&&t.assignment_grading_type_is_gpa_scale,{hash:{},inverse:p.noop,fn:p.program(5,r,i),data:i}),(d||0===d)&&(c+=d),c+="\n",d=n["if"].call(t,t&&t.assignment_grading_type_is_pass_fail,{hash:{},inverse:p.noop,fn:p.program(7,l,i),data:i}),(d||0===d)&&(c+=d),c+="\n",d=n["if"].call(t,t&&t.showPointsPossible,{hash:{},inverse:p.noop,fn:p.program(9,u,i),data:i}),(d||0===d)&&(c+=d),c+="\n"}),e.registerPartial("grading_box",n._grading_box),n._grading_box}),define("translations/submission_detail",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{submission_detail:{go_to_submission_url:"انتقال إلى عنوان URL الخاص بالإرسال",no_submission:"لا يوجد إرسال",online_text_entry_see_details_in_the_speedgrader:"إدخال النص عبر الإنترنت، *راجع التفاصيل الواردة في SpeedGrader*.",submitted_files:"الملفات المرسلة:"}},de:{submission_detail:{go_to_submission_url:"URL der Einsendung aufrufen",no_submission:"Keine Einsendungen vorhanden",online_text_entry_see_details_in_the_speedgrader:"Onlinetexteingabe, *siehe Details im SpeedGrader*.",submitted_files:"Eingesandte Dateien:"}},"en-AU":{submission_detail:{go_to_submission_url:"Go to submission URL",no_submission:"No submission",online_text_entry_see_details_in_the_speedgrader:"Online Text Entry, *see details in the SpeedGrader*.",submitted_files:"Submitted files:"}},"en-GB":{submission_detail:{go_to_submission_url:"Go to submission URL",no_submission:"No submission",online_text_entry_see_details_in_the_speedgrader:"Online Text Entry, *see details in the SpeedGrader*.",submitted_files:"Submitted files:"}},es:{submission_detail:{go_to_submission_url:"Ir al URL de envío",no_submission:"No hay envío",online_text_entry_see_details_in_the_speedgrader:"Ingreso de Texto En Línea, *vea los detalles en el Calificador Rápido*.",submitted_files:"Archivos Enviados:"}},"fa-IR":{submission_detail:{go_to_submission_url:"رفتن به نشانی اینترنتی مورد ارسالی",no_submission:"مورد ارسالی موجود نیست",online_text_entry_see_details_in_the_speedgrader:"ورودی متن آنلاین، *اطلاعات بیشتر را در برنامه نمره گذاری سریع ببینید*.",submitted_files:"فایل های ارسال شده:"}},fr:{submission_detail:{go_to_submission_url:"Accéder à l’URL d’envoi",no_submission:"Aucun envoi",online_text_entry_see_details_in_the_speedgrader:"Entrée de texte en ligne, *voir plus d’informations dans SpeedGrader*.",submitted_files:"Fichiers envoyés :"}},ja:{submission_detail:{go_to_submission_url:"提出用 URL に進む",no_submission:"提出なし",online_text_entry_see_details_in_the_speedgrader:"オンライン テキスト入力、*SpeedGrader 内の詳細を参照してください*。",submitted_files:"提出済みのファイル:"}},ko:{submission_detail:{go_to_submission_url:"제출물 URL로 가기",no_submission:"제출물 없음",online_text_entry_see_details_in_the_speedgrader:"온라인 텍스트 항목입니다. *세부 정보는 SpeedGrader에서 참고하십시오*.",submitted_files:"제출된 파일:"}},nb:{submission_detail:{go_to_submission_url:"Gå til leverings-URL",no_submission:"Ingen innlevering",online_text_entry_see_details_in_the_speedgrader:"Online tekstinnlegg, *se detaljer i SpeedGrader*.",submitted_files:"Innleverte filer:"}},nl:{submission_detail:{go_to_submission_url:"Via URL naar Inzending gaan",no_submission:"Geen inzending",online_text_entry_see_details_in_the_speedgrader:"Online tekstinvoer, *details zien in SpeedGrader*.",submitted_files:"Ingezonden bestanden:"}},pl:{submission_detail:{go_to_submission_url:"Przejdź do adresu URL przesłanych zadań",no_submission:"Brak przesłanych zadań",online_text_entry_see_details_in_the_speedgrader:"Wpis utworzony on-line, *informacje szczegółowe dostępne w programie SpeedGrader*.",submitted_files:"Przesłane pliki:"}},pt:{submission_detail:{go_to_submission_url:"Ir para o URL de envio",no_submission:"Sem envios",online_text_entry_see_details_in_the_speedgrader:"Entrada de texto online, *consulte os detalhes no SpeedGrader*.",submitted_files:"Arquivos enviados:"}},"pt-BR":{submission_detail:{go_to_submission_url:"Ir para o URL de envio",no_submission:"Sem envios",online_text_entry_see_details_in_the_speedgrader:"Entrada de texto online, *consulte os detalhes no SpeedGrader*.",submitted_files:"Arquivos enviados:"}},ru:{submission_detail:{go_to_submission_url:"Перейти к URL-адресу отправки",no_submission:"Нет отправки",online_text_entry_see_details_in_the_speedgrader:"Интерактивная запись текста, *см. сведения в SpeedGrader*.",submitted_files:"Отправленные файлы"}},tr:{submission_detail:{go_to_submission_url:"Ödev gönderme bağlantısına git",no_submission:"Gönderi yok",online_text_entry_see_details_in_the_speedgrader:"Çevrimiçi Metin Girişi, *ayrıntılı bilgi SpeedGrader aracındadır*.",submitted_files:"Gönderilen dosyalar:"}},zh:{submission_detail:{go_to_submission_url:"转至提交 URL",no_submission:"无提交",online_text_entry_see_details_in_the_speedgrader:"在线文本输入，*请参阅快速评分器中的详细信息*。",submitted_files:"提交的文件:"}}}})}),define("jst/_turnitinScore",["compiled/handlebars_helpers"],function(e){var t=e.template,n=e.templates=e.templates||{};return n._turnitinScore=t(function(e,t,n,o,i){function a(e,t){var o,i,a="";return a+='\n    <img src="',(i=n.icon)?o=i.call(e,{hash:{},data:t}):(i=e&&e.icon,o=typeof i===d?i.call(e,{hash:{},data:t}):i),a+=c(o)+'"></img>\n  '}function s(e,t){var o,i,a="";return a+="\n    ",(i=n.score)?o=i.call(e,{hash:{},data:t}):(i=e&&e.score,o=typeof i===d?i.call(e,{hash:{},data:t}):i),a+=c(o)+"\n  "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var r,l,u="",d="function",c=this.escapeExpression,g=this;return u+='<span class="turnitin_score_container_caret ',(l=n.state)?r=l.call(t,{hash:{},data:i}):(l=t&&t.state,r=typeof l===d?l.call(t,{hash:{},data:i}):l),u+=c(r)+'"></span>\n<a class="turnitin_similarity_score ',(l=n.state)?r=l.call(t,{hash:{},data:i}):(l=t&&t.state,r=typeof l===d?l.call(t,{hash:{},data:i}):l),u+=c(r)+'" href="',(l=n.reportUrl)?r=l.call(t,{hash:{},data:i}):(l=t&&t.reportUrl,r=typeof l===d?l.call(t,{hash:{},data:i}):l),u+=c(r)+'" title="',(l=n.tooltip)?r=l.call(t,{hash:{},data:i}):(l=t&&t.tooltip,r=typeof l===d?l.call(t,{hash:{},data:i}):l),u+=c(r)+'" target="_blank">\n  ',r=n["if"].call(t,t&&t.icon,{hash:{},inverse:g.program(3,s,i),fn:g.program(1,a,i),data:i}),(r||0===r)&&(u+=r),u+="\n</a>\n"}),e.registerPartial("turnitinScore",n._turnitinScore),n._turnitinScore}),define("jst/_submission_detail",["compiled/handlebars_helpers","i18n!submission_detail","jst/_turnitinScore"],function(e){var t=e.template,n=e.templates=e.templates||{};return n._submission_detail=t(function(e,t,n,o,i){function a(e,t){var o,i,a,l="";return l+="\n    ",o=n["if"].call(e,e&&e.url,{hash:{},inverse:y.noop,fn:y.program(2,s,t),data:t}),(o||0===o)&&(l+=o),l+="\n    ",o=n["if"].call(e,e&&e.attachments,{hash:{},inverse:y.noop,fn:y.program(4,r,t),data:t}),(o||0===o)&&(l+=o),l+="\n    ",i=n.ifEqual||e&&e.ifEqual,a={hash:{},inverse:y.noop,fn:y.program(9,c,t),data:t},o=i?i.call(e,e&&e.submission_type,"online_text_entry",a):b.call(e,"ifEqual",e&&e.submission_type,"online_text_entry",a),(o||0===o)&&(l+=o),l+="\n  "}function s(e,t){var o,i,a,s="";return s+='\n      Submission URL: <a href="',(i=n.url)?o=i.call(e,{hash:{},data:t}):(i=e&&e.url,o=typeof i===f?i.call(e,{hash:{},data:t}):i),s+=v(o)+'" title="',i=n.t||e&&e.t,a={hash:{scope:"submission_detail"},data:t},o=i?i.call(e,"go_to_submission_url","Go to submission URL",a):b.call(e,"t","go_to_submission_url","Go to submission URL",a),(o||0===o)&&(s+=o),s+='" target="_blank">',(i=n.url)?o=i.call(e,{hash:{},data:t}):(i=e&&e.url,o=typeof i===f?i.call(e,{hash:{},data:t}):i),s+=v(o)+"</a>\n    "}function r(e,t){var o,i,a,s="";return s+="\n      <label>",i=n.t||e&&e.t,a={hash:{scope:"submission_detail"},data:t},o=i?i.call(e,"submitted_files","Submitted files:",a):b.call(e,"t","submitted_files","Submitted files:",a),(o||0===o)&&(s+=o),s+="</label>\n      <div>\n        ",o=n.each.call(e,e&&e.attachments,{hash:{},inverse:y.noop,fn:y.program(5,l,t),data:t}),(o||0===o)&&(s+=o),s+="\n      </div>\n    "}function l(e,t){var o,i,a,s="";return s+='\n          <div class="submisison-attachment">\n            ',o=n["if"].call(e,(o=e&&e.turnitin,null==o||o===!1?o:o.reportUrl),{hash:{},inverse:y.noop,fn:y.program(6,u,t),data:t}),(o||0===o)&&(s+=o),s+='\n            <a href="',(i=n.url)?o=i.call(e,{hash:{},data:t}):(i=e&&e.url,o=typeof i===f?i.call(e,{hash:{},data:t}):i),s+=v(o)+'" class="'+v((i=n.mimeClass||e&&e.mimeClass,a={hash:{},data:t},i?i.call(e,e&&e["content-type"],a):b.call(e,"mimeClass",e&&e["content-type"],a)))+'" title="',(i=n.filename)?o=i.call(e,{hash:{},data:t}):(i=e&&e.filename,o=typeof i===f?i.call(e,{hash:{},data:t}):i),s+=v(o)+'">',(i=n.display_name)?o=i.call(e,{hash:{},data:t}):(i=e&&e.display_name,o=typeof i===f?i.call(e,{hash:{},data:t}):i),s+=v(o)+"</a>\n          </div>\n        "
}function u(e,t){var o,i="";return i+="\n              ",o=n["with"].call(e,e&&e.turnitin,{hash:{},inverse:y.noop,fn:y.program(7,d,t),data:t}),(o||0===o)&&(i+=o),i+="\n            "}function d(e,t){var i,a="";return a+='\n                <span class="turnitin_score_container">',i=y.invokePartial(o.turnitinScore,"turnitinScore",e,n,o,t),(i||0===i)&&(a+=i),a+="</span>\n              "}function c(e,t){var o,i,a,s="";return s+="\n      ",o=n["if"].call(e,(o=e&&e.turnitin,null==o||o===!1?o:o.reportUrl),{hash:{},inverse:y.noop,fn:y.program(10,g,t),data:t}),(o||0===o)&&(s+=o),s+="\n      ",i=n.t||e&&e.t,a={hash:{scope:"submission_detail",w0:'<a href="%{speedGraderUrl}">$1</a>'},data:t},o=i?i.call(e,"online_text_entry_see_details_in_the_speedgrader.","Online Text Entry, *see details in the SpeedGrader*.",a):b.call(e,"t","online_text_entry_see_details_in_the_speedgrader.","Online Text Entry, *see details in the SpeedGrader*.",a),(o||0===o)&&(s+=o),s+="\n    "}function g(e,t){var o,i="";return i+="\n        ",o=n["with"].call(e,e&&e.turnitin,{hash:{},inverse:y.noop,fn:y.program(11,m,t),data:t}),(o||0===o)&&(i+=o),i+="\n      "}function m(e,t){var i,a="";return a+='\n          <span class="turnitin_score_container">',i=y.invokePartial(o.turnitinScore,"turnitinScore",e,n,o,t),(i||0===i)&&(a+=i),a+="</span>\n        "}function h(e,t){var o,i,a,s="";return s+="\n    ",i=n.t||e&&e.t,a={hash:{scope:"submission_detail"},data:t},o=i?i.call(e,"no_submission","No submission",a):b.call(e,"t","no_submission","No submission",a),(o||0===o)&&(s+=o),s+="\n  "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),o=this.merge(o,e.partials),i=i||{};var p,_="",f="function",v=this.escapeExpression,b=n.helperMissing,y=this;return _+='<div class="submission_detail">\n  ',p=n["if"].call(t,t&&t.submission_type,{hash:{},inverse:y.program(13,h,i),fn:y.program(1,a,i),data:i}),(p||0===p)&&(_+=p),_+="\n</div>\n"}),e.registerPartial("submission_detail",n._submission_detail),n._submission_detail}),define("jst/_avatar",["compiled/handlebars_helpers"],function(e){var t=e.template,n=e.templates=e.templates||{};return n._avatar=t(function(e,t,n,o,i){function a(e,t){var o,i,a,r="";return r+="\n  ",i=n.ifAny||e&&e.ifAny,a={hash:{},inverse:h.noop,fn:h.program(2,s,t),data:t},o=i?i.call(e,e&&e.avatar_url,e&&e.avatar_image_url,a):m.call(e,"ifAny",e&&e.avatar_url,e&&e.avatar_image_url,a),(o||0===o)&&(r+=o),r+="\n"}function s(e,t){var o,i="";return i+="\n    ",o=n["if"].call(e,e&&e.alreadyEscaped,{hash:{},inverse:h.program(6,u,t),fn:h.program(3,r,t),data:t}),(o||0===o)&&(i+=o),i+="\n  "}function r(e,t){var o,i,a,s="";return s+="\n      <a\n        ",i=n.ifAny||e&&e.ifAny,a={hash:{},inverse:h.noop,fn:h.program(4,l,t),data:t},o=i?i.call(e,e&&e.url,e&&e.html_url,a):m.call(e,"ifAny",e&&e.url,e&&e.html_url,a),(o||0===o)&&(s+=o),s+='\n        class="avatar"\n        style="background-image: url(',i=n.or||e&&e.or,a={hash:{},data:t},o=i?i.call(e,e&&e.avatar_url,e&&e.avatar_image_url,a):m.call(e,"or",e&&e.avatar_url,e&&e.avatar_image_url,a),(o||0===o)&&(s+=o),s+=')">\n        <span class="screenreader-only">',i=n.or||e&&e.or,a={hash:{},data:t},o=i?i.call(e,e&&e.display_name,e&&e.short_name,a):m.call(e,"or",e&&e.display_name,e&&e.short_name,a),(o||0===o)&&(s+=o),s+="</span></a>\n    "}function l(e,t){var o,i,a,s="";return s+='href="',i=n.or||e&&e.or,a={hash:{},data:t},o=i?i.call(e,e&&e.url,e&&e.html_url,a):m.call(e,"or",e&&e.url,e&&e.html_url,a),(o||0===o)&&(s+=o),s+='"'}function u(e,t){var o,i,a,s="";return s+="\n      <a\n        ",i=n.ifAny||e&&e.ifAny,a={hash:{},inverse:h.noop,fn:h.program(7,d,t),data:t},o=i?i.call(e,e&&e.url,e&&e.html_url,a):m.call(e,"ifAny",e&&e.url,e&&e.html_url,a),(o||0===o)&&(s+=o),s+='\n        class="avatar"\n        style="background-image: url('+p((i=n.or||e&&e.or,a={hash:{},data:t},i?i.call(e,e&&e.avatar_url,e&&e.avatar_image_url,a):m.call(e,"or",e&&e.avatar_url,e&&e.avatar_image_url,a)))+')"\n        ><span class="screenreader-only">'+p((i=n.or||e&&e.or,a={hash:{},data:t},i?i.call(e,e&&e.display_name,e&&e.short_name,a):m.call(e,"or",e&&e.display_name,e&&e.short_name,a)))+"</span></a>\n    "}function d(e,t){var o,i,a="";return a+='href="'+p((o=n.or||e&&e.or,i={hash:{},data:t},o?o.call(e,e&&e.url,e&&e.html_url,i):m.call(e,"or",e&&e.url,e&&e.html_url,i)))+'"'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var c,g="",m=n.helperMissing,h=this,p=this.escapeExpression;return g+="\n",c=n["if"].call(t,t,{hash:{},inverse:h.noop,fn:h.program(1,a,i),data:i}),(c||0===c)&&(g+=c),g+="\n"}),e.registerPartial("avatar",n._avatar),n._avatar}),define("jst/SubmissionDetailsDialog",["compiled/handlebars_helpers","compiled/util/registerTemplateCss","i18n!submission_details_dialog","jst/_grading_box","jst/_submission_detail","jst/_avatar"],function(e){var t=e.template,n=e.templates=e.templates||{};return n.SubmissionDetailsDialog=t(function(e,t,n,o,i){function a(e,t){var o,i,a,s="";return s+='\n      <a class="more-details-link" target="_blank" href="',(i=n.speedGraderUrl)?o=i.call(e,{hash:{},data:t}):(i=e&&e.speedGraderUrl,o=typeof i===x?i.call(e,{hash:{},data:t}):i),s+=S(o)+'">',i=n.t||e&&e.t,a={hash:{scope:"submission_details_dialog"},data:t},o=i?i.call(e,"more_details_in_the_speedgrader","More details in the SpeedGrader",a):z.call(e,"t","more_details_in_the_speedgrader","More details in the SpeedGrader",a),(o||0===o)&&(s+=o),s+="</a>\n    "}function s(e,t){var o,i,a,s="";return s+='\n          <label for="submission_to_view">',i=n.t||e&&e.t,a={hash:{scope:"submission_details_dialog"},data:t},o=i?i.call(e,"this_was_submitted_multiple_times_choose_a_submission_to_view","Submitted multiple times, choose which to view:",a):z.call(e,"t","this_was_submitted_multiple_times_choose_a_submission_to_view","Submitted multiple times, choose which to view:",a),(o||0===o)&&(s+=o),s+='</label>\n          <select id="submission_to_view">\n            ',o=n.each.call(e,e&&e.submission_history,{hash:{},inverse:M.noop,fn:M.program(4,r,t),data:t}),(o||0===o)&&(s+=o),s+="\n          </select>\n        "}function r(e,t){var o,i,a,s="";return s+="\n              <option>"+S((i=n.datetimeFormatted||e&&e.datetimeFormatted,a={hash:{},data:t},i?i.call(e,e&&e.submitted_at,a):z.call(e,"datetimeFormatted",e&&e.submitted_at,a)))+" ",o=n["if"].call(e,e&&e.late,{hash:{},inverse:M.noop,fn:M.program(5,l,t),data:t}),(o||0===o)&&(s+=o),s+="</option>\n            "}function l(e,t){var o,i,a,s="";return s+=" ",i=n.t||e&&e.t,a={hash:{scope:"submission_details_dialog"},data:t},o=i?i.call(e,"late","LATE",a):z.call(e,"t","late","LATE",a),(o||0===o)&&(s+=o),s+=" "}function u(e,t){var o,i="";return i+="\n          ",o=n["if"].call(e,e&&e.submitted_at,{hash:{},inverse:M.noop,fn:M.program(8,d,t),data:t}),(o||0===o)&&(i+=o),i+="\n        "}function d(e,t){var o,i,a,s="";return s+="\n            <strong>",i=n.t||e&&e.t,a={hash:{scope:"submission_details_dialog"},data:t},o=i?i.call(e,"submitted","Submitted:",a):z.call(e,"t","submitted","Submitted:",a),(o||0===o)&&(s+=o),s+=" "+S((i=n.datetimeFormatted||e&&e.datetimeFormatted,a={hash:{},data:t},i?i.call(e,e&&e.submitted_at,a):z.call(e,"datetimeFormatted",e&&e.submitted_at,a)))+" ",o=n["if"].call(e,e&&e.late,{hash:{},inverse:M.noop,fn:M.program(5,l,t),data:t}),(o||0===o)&&(s+=o),s+="</strong>\n          "}function c(e,t){var i,a="";return a+="\n        ",i=M.invokePartial(o.submission_detail,"submission_detail",e,n,o,t),(i||0===i)&&(a+=i),a+="\n      "}function g(e,t){var o,i,a,s="";return s+='\n        <div class="rubric-link"><a class="rubric" href="',(i=n.speedGraderUrl)?o=i.call(e,{hash:{},data:t}):(i=e&&e.speedGraderUrl,o=typeof i===x?i.call(e,{hash:{},data:t}):i),s+=S(o)+'">',i=n.t||e&&e.t,a={hash:{scope:"submission_details_dialog"},data:t},o=i?i.call(e,"view_rubric_assessment_in_the_speedgrader","View Rubric Assessment in the SpeedGrader",a):z.call(e,"t","view_rubric_assessment_in_the_speedgrader","View Rubric Assessment in the SpeedGrader",a),(o||0===o)&&(s+=o),s+="</a></div>\n      "}function m(e,t){var o,i,a,s="";return s+="\n      <h1>",i=n.t||e&&e.t,a={hash:{scope:"submission_details_dialog"},data:t},o=i?i.call(e,"loading_comments","Loading comments...",a):z.call(e,"t","loading_comments","Loading comments...",a),(o||0===o)&&(s+=o),s+="</h1>\n    "}function h(e,t){var o,i="";return i+="\n      ",o=n["if"].call(e,e&&e.submission_comments,{hash:{},inverse:M.noop,fn:M.program(17,p,t),data:t}),(o||0===o)&&(i+=o),i+="\n    "}function p(e,t){var o,i,a,s="";return s+="\n        <h1>",i=n.t||e&&e.t,a={hash:{scope:"submission_details_dialog"},data:t},o=i?i.call(e,"comments","Comments",a):z.call(e,"t","comments","Comments",a),(o||0===o)&&(s+=o),s+='</h1>\n        <div class="submission_details_comments">\n          ',o=n.each.call(e,e&&e.submission_comments,{hash:{},inverse:M.noop,fn:M.program(18,_,t),data:t}),(o||0===o)&&(s+=o),s+="\n        </div>\n      "}function _(e,t){var i,a,s,r="";return r+='\n            <article class="comment clearfix">\n              '+S((a=n.friendlyDatetime||e&&e.friendlyDatetime,s={hash:{pubdate:!0},data:t},a?a.call(e,e&&e.created_at,s):z.call(e,"friendlyDatetime",e&&e.created_at,s)))+"\n              ",i=M.invokePartial(o.avatar,"avatar",e&&e.author,n,o,t),(i||0===i)&&(r+=i),r+='\n              <div class="middle">\n                <address class="vcard">\n                  <a class="fn url" href="',(a=n.url)?i=a.call(e,{hash:{},data:t}):(a=e&&e.url,i=typeof a===x?a.call(e,{hash:{},data:t}):a),r+=S(i)+'">',(a=n.author_name)?i=a.call(e,{hash:{},data:t}):(a=e&&e.author_name,i=typeof a===x?a.call(e,{hash:{},data:t}):a),r+=S(i)+"</a>\n                </address>\n                <div>\n                  "+S((a=n.newlinesToBreak||e&&e.newlinesToBreak,s={hash:{},data:t},a?a.call(e,e&&e.comment,s):z.call(e,"newlinesToBreak",e&&e.comment,s)))+"\n                </div>\n                ",i=n["if"].call(e,e&&e.media_comment,{hash:{},inverse:M.noop,fn:M.program(19,f,t),data:t}),(i||0===i)&&(r+=i),r+='\n                <div class="comment_attachments">\n                  ',i=n.each.call(e,e&&e.attachments,{hash:{},inverse:M.noop,fn:M.program(21,v,t),data:t}),(i||0===i)&&(r+=i),r+="\n                </div>\n              </div>\n            </article>\n          "}function f(e,t){var o,i,a,s="";return s+='\n                  <a data-media_comment_id="'+S((o=e&&e.media_comment,o=null==o||o===!1?o:o.media_id,typeof o===x?o.apply(e):o))+'" data-media_comment_type="'+S((o=e&&e.media_comment,o=null==o||o===!1?o:o.media_type,typeof o===x?o.apply(e):o))+'" href="'+S((o=e&&e.media_comment,o=null==o||o===!1?o:o.url,typeof o===x?o.apply(e):o))+'" class="play_comment_link media-comment instructure_inline_media_comment" >',i=n.t||e&&e.t,a={hash:{scope:"submission_details_dialog"},data:t},o=i?i.call(e,"links.click_to_view","click here to view",a):z.call(e,"t","links.click_to_view","click here to view",a),(o||0===o)&&(s+=o),s+="</a>\n                "}function v(e,t){var o,i,a,s="";return s+='\n                    <div><a href="',(i=n.url)?o=i.call(e,{hash:{},data:t}):(i=e&&e.url,o=typeof i===x?i.call(e,{hash:{},data:t}):i),s+=S(o)+'" class="'+S((i=n.mimeClass||e&&e.mimeClass,a={hash:{},data:t},i?i.call(e,e&&e["content-type"],a):z.call(e,"mimeClass",e&&e["content-type"],a)))+'" title="',(i=n.filename)?o=i.call(e,{hash:{},data:t}):(i=e&&e.filename,o=typeof i===x?i.call(e,{hash:{},data:t}):i),s+=S(o)+'">',(i=n.display_name)?o=i.call(e,{hash:{},data:t}):(i=e&&e.display_name,o=typeof i===x?i.call(e,{hash:{},data:t}):i),s+=S(o)+"</a></div>\n                  "}function b(e,t){var o,i,a,s="";return s+='\n    <span id="group-comment-container">\n      '+S((i=n.checkbox||e&&e.checkbox,a={hash:{id:"group_comment"},data:t},i?i.call(e,"comment.group_comment",a):z.call(e,"checkbox","comment.group_comment",a)))+'\n      <label for="group_comment">',i=n.t||e&&e.t,a={hash:{scope:"submission_details_dialog"},data:t},o=i?i.call(e,"labels.group_comment","Send Comment to the Whole Group",a):z.call(e,"t","labels.group_comment","Send Comment to the Whole Group",a),(o||0===o)&&(s+=o),s+="</label>\n    </span>\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),o=this.merge(o,e.partials),i=i||{};var y,w,k,C="",x="function",S=this.escapeExpression,z=n.helperMissing,M=this;return C+='<div class="submission_details_dialog">\n  <h1 class="assignment-name">'+S((y=t&&t.assignment,y=null==y||y===!1?y:y.name,typeof y===x?y.apply(t):y))+'</h1>\n  <section class="submission-details">\n    <form class="submission_details_grade_form form-inline">\n      <strong><label for="',(w=n.inputName)?y=w.call(t,{hash:{},data:i}):(w=t&&t.inputName,y=typeof w===x?w.call(t,{hash:{},data:i}):w),C+=S(y)+'">',w=n.t||t&&t.t,k={hash:{scope:"submission_details_dialog"},data:i},y=w?w.call(t,"grade_form_label","Grade:",k):z.call(t,"t","grade_form_label","Grade:",k),(y||0===y)&&(C+=y),C+="</label></strong>\n      ",y=M.invokePartial(o.grading_box,"grading_box",t,n,o,i),(y||0===y)&&(C+=y),C+='\n      <button style="float: right;" class="btn" type="submit">',w=n.t||t&&t.t,k={hash:{scope:"submission_details_dialog"},data:i},y=w?w.call(t,"update_grade","Update Grade",k):z.call(t,"t","update_grade","Update Grade",k),(y||0===y)&&(C+=y),C+="</button>\n    </form>\n    ",y=n["if"].call(t,t&&t.speedGraderUrl,{hash:{},inverse:M.noop,fn:M.program(1,a,i),data:i}),(y||0===y)&&(C+=y),C+="\n    <div>\n      <h2>\n        ",y=n["if"].call(t,t&&t.moreThanOneSubmission,{hash:{},inverse:M.program(7,u,i),fn:M.program(3,s,i),data:i}),(y||0===y)&&(C+=y),C+="\n      </h2>\n      ",y=n.each.call(t,t&&t.submission_history,{hash:{},inverse:M.noop,fn:M.program(10,c,i),data:i}),(y||0===y)&&(C+=y),C+="\n      ",y=n["if"].call(t,t&&t.rubric_assessment,{hash:{},inverse:M.noop,fn:M.program(12,g,i),data:i}),(y||0===y)&&(C+=y),C+="\n    </div>\n  </section>\n  <section>\n    ",y=n["if"].call(t,t&&t.loading,{hash:{},inverse:M.program(16,h,i),fn:M.program(14,m,i),data:i}),(y||0===y)&&(C+=y),C+='\n  </section>\n  <form class="submission_details_add_comment_form clearfix">\n    <label for="add_a_comment">',w=n.t||t&&t.t,k={hash:{scope:"submission_details_dialog"},data:i},y=w?w.call(t,"add_a_comment","Add a comment",k):z.call(t,"t","add_a_comment","Add a comment",k),(y||0===y)&&(C+=y),C+='</label>\n    <textarea id="add_a_comment" name="comment[text_comment]"></textarea>\n    ',y=n["if"].call(t,(y=t&&t.assignment,null==y||y===!1?y:y.group_category_id),{hash:{},inverse:M.noop,fn:M.program(23,b,i),data:i}),(y||0===y)&&(C+=y),C+='\n    <button class="btn" type="submit">',w=n.t||t&&t.t,k={hash:{scope:"submission_details_dialog"},data:i},y=w?w.call(t,"post_comment","Post Comment",k):z.call(t,"t","post_comment","Post Comment",k),(y||0===y)&&(C+=y),C+="</button>\n  </form>\n</div>\n"}),arguments[1]("SubmissionDetailsDialog",".submission_details_dialog .more-details-link{font-size:1.2em;line-height:42px}.submission_details_dialog h1,.submission_details_dialog .h1{margin:20px 0 0;padding:0 12px;font-size:23px}.submission_details_dialog .submission-details{padding:10px}.submission_details_dialog .submission-details h1,.submission_details_dialog .submission-details .h1{margin:0 -10px 15px;border-bottom:1px solid #bbb}.submission_details_dialog .submission-details h2,.submission_details_dialog .submission-details h2 select,.submission_details_dialog .submission-details .h2,.submission_details_dialog .submission-details .h2 select{font-size:15px}.submission_details_dialog .submission_detail{font-size:1.1em;margin:3px 0 10px}.submission_details_dialog .rubric-link{font-weight:bold}.submission_details_dialog .submisison-attachment{padding:3px 0}.submission_details_dialog .submisison-attachment a{font-size:11px}.submission_details_dialog .submisison-attachment a.turnitin_similarity_score{font-size:10px}.submission_details_dialog .submission_details_comments{overflow:auto;max-height:200px;border-top:1px solid #bbb;padding:0 12px;position:relative;background:#a3a3a3 url(/images/messages/messages-background.png) 0 0 repeat}.submission_details_dialog .comment{background:#fff;clear:both;border-bottom:1px solid #ccc;padding:10px;margin:10px 0}.submission_details_dialog .comment:last-child{border-bottom:none}.submission_details_dialog .comment .middle{padding-left:69px}.submission_details_dialog .comment .avatar{float:left}.submission_details_dialog .comment time{float:right;color:#777;font-size:11px}.submission_details_dialog .comment address{font-style:normal;font-weight:bold;margin:0}.submission_details_dialog .comment .comment_attachments a{padding-top:4px}.submission_details_add_comment_form{position:relative;border-top:1px solid #bbb;background-color:#f2f2f2;margin:0px;padding:5px 10px}.submission_details_add_comment_form label{font-weight:bold;display:block}.submission_details_add_comment_form #add_a_comment{width:99%;display:block}.submission_details_add_comment_form #group-comment-container{float:left}.submission_details_add_comment_form #group-comment-container label{display:inline;font-weight:normal}.submission_details_add_comment_form .btn{float:right}\n"),n.SubmissionDetailsDialog}),define("translations/turnitin",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{turnitin:{tooltip:{score:"رصد التشابه حسب Turnitin - انظر التقرير المفصل"}}},de:{turnitin:{tooltip:{score:"Turnitin-similarity-score - detaillierten Bericht anzeigen"}}},"en-AU":{turnitin:{tooltip:{score:"Turnitin Similarity Score - See detailed report"}}},"en-GB":{turnitin:{tooltip:{score:"Turnitin Similarity Score - See detailed report"}}},es:{turnitin:{tooltip:{score:"Calificación de similitud en Turnitin - Ver informe detallado"}}},"fa-IR":{turnitin:{tooltip:{score:"نمره شباهت Turnitin - به گزارش مفصل مراجعه کنید"}}},fr:{turnitin:{tooltip:{score:"Note de similitude Turnitin - Voir le rapport détaillé"}}},ja:{turnitin:{tooltip:{score:"turnitin 類似性スコア - 詳細レポートを参照してください"}}},ko:{turnitin:{tooltip:{score:"Turnitin 유사성 점수 - 자세한 보고서 보기"}}},nb:{turnitin:{tooltip:{score:"Turnitin likhetsresultat - se detaljert rapport"}}},nl:{turnitin:{tooltip:{score:"Turnitin-vergelijkbaarheidsscore - Zie gedetailleerd rapport"}}},pl:{turnitin:{tooltip:{score:"Wynik sprawdzenia podobieństwa — zobacz szczegółowy raport"}}},pt:{turnitin:{tooltip:{score:"Pontuação de semelhança do Turnitin - Ver relatório detalhado"}}},"pt-BR":{turnitin:{tooltip:{score:"Pontos de similaridade do Turnitin – Ver relatório detalhado"}}},ru:{turnitin:{tooltip:{score:"Оценка соответствия Turnitin – См. подробный отчет"}}},tr:{turnitin:{tooltip:{score:"Turnitin Benzerlik Puanı - Ayrıntılı rapora bakınız"}}},zh:{turnitin:{tooltip:{score:"Turnitin 相似分数 - 查看详细报告"}}}}})}),function(){define("compiled/gradebook2/Turnitin",["i18n!turnitin","underscore"],function(e,t){var n,o,i;return i=t.max,o=t.invert,n={extractData:function(e){var t,n,a,s,r,l,u,d,c,g,m,h,p;if(null!=e?e.turnitin_data:void 0){if(n={items:[]},e.attachments&&"online_upload"===e.submission_type)for(g=e.attachments,d=0,c=g.length;c>d;d++)t=g[d],t=null!=(m=t.attachment)?m:t,(u=null!=(h=e.turnitin_data)?h["attachment_"+t.id]:void 0)&&n.items.push(u);else"online_text_entry"===e.submission_type&&(u=null!=(p=e.turnitin_data)?p["submission_"+e.id]:void 0)&&n.items.push(u);if(n.items.length)return s=["no","none","acceptable","warning","problem","failure"],r=o(s),l=function(){var e,t,o,i;for(o=n.items,i=[],e=0,t=o.length;t>e;e++)a=o[e],i.push(parseInt(r[a.state||"no"]));return i}(),n.state=s[i(l)],n}},extractDataFor:function(t,n,o){var i;return i=t.turnitin_data,i&&i[n]&&null!=i[n].similarity_score?(i=i[n],i.state=""+(i.state||"no")+"_score",i.score=""+i.similarity_score+"%",i.reportUrl=""+o+"/assignments/"+t.assignment_id+"/submissions/"+t.user_id+"/turnitin/"+n,i.tooltip=e.t("tooltip.score","Turnitin Similarity Score - See detailed report"),i):{}}}})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("compiled/SubmissionDetailsDialog",["i18n!submission_details_dialog","jquery","jst/SubmissionDetailsDialog","compiled/gradebook2/Turnitin","jst/_submission_detail","jst/_turnitinScore","jquery.ajaxJSON","jquery.disableWhileLoading","jquery.instructure_forms","jqueryui/dialog","jquery.instructure_misc_plugins","vendor/jquery.scrollTo","vendor/jquery.ba-tinypubsub"],function(t,n,o,i){var a,s;return s=i.extractDataFor,a=function(){function t(t,i,a){var s,r,l=this;this.assignment=t,this.student=i,this.options=a,this.update=e(this.update,this),this.scrollCommentsToBottom=e(this.scrollCommentsToBottom,this),this.open=e(this.open,this),r=this.options.speed_grader_enabled?""+this.options.context_url+"/gradebook/speed_grader?assignment_id="+this.assignment.id+"#%7B%22student_id%22%3A"+this.student.id+"%7D":null,this.url=this.options.change_grade_url.replace(":assignment",this.assignment.id).replace(":submission",this.student.id),this.submission=n.extend({},this.student["assignment_"+this.assignment.id],{inputName:"submission[posted_grade]",assignment:this.assignment,speedGraderUrl:r,loading:!0,showPointsPossible:(this.assignment.points_possible||"0"===this.assignment.points_possible)&&"gpa_scale"!==this.assignment.grading_type}),this.submission["assignment_grading_type_is_"+this.assignment.grading_type]=!0,this.dialog=n('<div class="use-css-transitions-for-show-hide" style="padding:0;"/>'),this.dialog.html(o(this.submission)).dialog({title:this.student.name,width:600,resizable:!1,open:this.scrollCommentsToBottom}).delegate("select","change",function(e){return l.dialog.find(".submission_detail").each(function(t){return n(this).showIf(t===e.currentTarget.selectedIndex)})}).delegate(".submission_details_grade_form","submit",function(e){return e.preventDefault(),n(e.currentTarget.form).disableWhileLoading(n.ajaxJSON(l.url,"PUT",n(e.currentTarget).getFormData(),function(e){return l.update(e),n.publish("submissions_updated",[l.submission.all_submissions]),setTimeout(function(){return l.dialog.dialog("close")},500)}))}).delegate(".submission_details_add_comment_form","submit",function(e){return e.preventDefault(),n(e.currentTarget).disableWhileLoading(n.ajaxJSON(l.url,"PUT",n(e.currentTarget).getFormData(),function(e){return l.update(e),setTimeout(function(){return l.dialog.dialog("close")},500)}))}),s=n.ajaxJSON(this.url+"?include[]=submission_history&include[]=submission_comments&include[]=rubric_assessment","GET",{},this.update),this.dialog.find(".submission_details_comments").disableWhileLoading(s)}return t.prototype.open=function(){return this.dialog.dialog("open"),n(".submission_details_dialog .assignment-name").focus()},t.prototype.scrollCommentsToBottom=function(){return this.dialog.find(".submission_details_comments").scrollTop(999999)},t.prototype.update=function(e){var t,i,a,r,l,u,d,c,g,m,h,p,_;for(n.extend(this.submission,e),this.submission.submission_history[0]=this.submission,this.submission.moreThanOneSubmission=this.submission.submission_history.length>1,this.submission.loading=!1,h=this.submission.submission_history,l=0,c=h.length;c>l;l++){for(a=h[l],p=a.submission_comments||[],u=0,g=p.length;g>u;u++)i=p[u],i.url=""+this.options.context_url+"/users/"+i.author_id,r=""+location.protocol+"//"+location.host,i.image_url=""+r+"/images/users/"+i.author_id+"?fallback="+encodeURIComponent(r+"/images/messages/avatar-50.png");for(a.turnitin=s(a,"submission_"+a.id,this.options.context_url),_=a.attachments||[],d=0,m=_.length;m>d;d++)t=_[d],t.turnitin=s(a,"attachment_"+t.id,this.options.context_url)}return this.dialog.html(o(this.submission)),this.dialog.find("select").trigger("change"),this.scrollCommentsToBottom()},t.cachedDialogs={},t.open=function(e,n,o){var i,a;return((i=t.cachedDialogs)[a=""+e.id+"-"+n.id]||(i[a]=new t(e,n,o))).open()},t}()})}.call(this),define("translations/assignment_group_weights_dialog",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{assignment_group_weights_dialog:{buttons:{save:"حفظ"},titles:{assignment_group_weights:"إدارة تقدير مجموعة المهام",total:"الإجمالي"},weight_final:"الدرجة النهائية للتقييم تعتمد على المجموعات"}},de:{assignment_group_weights_dialog:{buttons:{save:"Speichern"},titles:{assignment_group_weights:"Gewichtung der Aufgabengruppen verwalten",total:"Gesamt"},weight_final:"Gesamtnote nach Gruppen gewichten"}},"en-AU":{assignment_group_weights_dialog:{buttons:{save:"Save"},titles:{assignment_group_weights:"Manage assignment group weighting",total:"Total"},weight_final:"Weight final grade based on groups"}},"en-GB":{assignment_group_weights_dialog:{buttons:{save:"Save"},titles:{assignment_group_weights:"Manage assignment group weighting",total:"Total"},weight_final:"Weight final grade based on groups"}},es:{assignment_group_weights_dialog:{buttons:{save:"Guardar"},titles:{assignment_group_weights:"Manejar la asignación de importancia a los grupos de trabajo",total:"Total"},weight_final:"Asignar peso a la calificación final basado en grupos"}},"fa-IR":{assignment_group_weights_dialog:{buttons:{save:"ذخیره سازی"},titles:{assignment_group_weights:"مدیریت وزن دار کردن گروه تکلیف",total:"کل"},weight_final:"وزن دار کردن نمره نهایی بر اساس گروه ها"}},fr:{assignment_group_weights_dialog:{buttons:{save:"Enregistrer"},titles:{assignment_group_weights:"Gérer les coefficients des groupes de tâches",total:"Total"},weight_final:"Pondérer la note finale en fonction des groupes"}},ja:{assignment_group_weights_dialog:{buttons:{save:"保存"},titles:{assignment_group_weights:"課題グループの重み付けを管理する",total:"合計"},weight_final:"グループに基づいて最終的な成績を重み付けする"}},ko:{assignment_group_weights_dialog:{buttons:{save:"저장"},titles:{assignment_group_weights:"과제 그룹 가중치 관리",total:"합계"},weight_final:"그룹을 바탕으로 최종 평가에 가중치 적용"}},nb:{assignment_group_weights_dialog:{buttons:{save:"Lagre"},titles:{assignment_group_weights:"Administrer vekting på gruppeoppgave",total:"Total"},weight_final:"Vekte sluttkarakter basert på grupper"}},nl:{assignment_group_weights_dialog:{buttons:{save:"Opslaan"},titles:{assignment_group_weights:"Wegingsfactor voor opdrachtgroepen beheren",total:"Totaal"},weight_final:"Gewogen eindcijfer gebaseerd op groepen"}},pl:{assignment_group_weights_dialog:{buttons:{save:"Zapisz"},titles:{assignment_group_weights:"Zarządzaj wyważaniem ocen według grup zadań",total:"Łącznie"},weight_final:"Wyważ ocenę końcową na podstawie grup"}},pt:{assignment_group_weights_dialog:{buttons:{save:"Guardar"},titles:{assignment_group_weights:"Gerenciar ponderação do grupo de tarefa",total:"Total"},weight_final:"Ponderar nota final baseado nos grupos"}},"pt-BR":{assignment_group_weights_dialog:{buttons:{save:"Salvar"},titles:{assignment_group_weights:"Gerenciar ponderação do grupo de tarefa",total:"Total"},weight_final:"Ponderar nota final com base nos grupos"}},ru:{assignment_group_weights_dialog:{buttons:{save:"Сохранить"},titles:{assignment_group_weights:"Управление взвешиванием группы заданий",total:"Всего"},weight_final:"Взвесить итоговую оценку на основе групп"}},tr:{assignment_group_weights_dialog:{buttons:{save:"Kaydet"},titles:{assignment_group_weights:"Ödev grup ağırlıklarını yönet",total:"Toplam"},weight_final:"Gruplara dayalı ağırlıklı final notu"}},zh:{assignment_group_weights_dialog:{buttons:{save:"保存"},titles:{assignment_group_weights:"管理作业小组加权",total:"总计"},weight_final:"根据小组加权最终计分"}}}})}),define("jst/AssignmentGroupWeightsDialog",["compiled/handlebars_helpers","compiled/util/registerTemplateCss","i18n!assignment_group_weights_dialog"],function(e){var t=e.template,n=e.templates=e.templates||{};return n.AssignmentGroupWeightsDialog=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s,r,l="",u=n.helperMissing,d=this.escapeExpression;return l+='<div title="',s=n.t||t&&t.t,r={hash:{scope:"assignment_group_weights_dialog"},data:i},a=s?s.call(t,"titles.assignment_group_weights","Manage assignment group weighting",r):u.call(t,"t","titles.assignment_group_weights","Manage assignment group weighting",r),(a||0===a)&&(l+=a),l+='" style="display:none;" id="assignment_group_weights_dialog">\n  <p style="margin-top: 8px;">\n    '+d((s=n.checkbox||t&&t.checkbox,r={hash:{},data:i},s?s.call(t,"group_weighting_scheme",r):u.call(t,"checkbox","group_weighting_scheme",r)))+'\n    <label for="group_weighting_scheme">',s=n.t||t&&t.t,r={hash:{scope:"assignment_group_weights_dialog"},data:i},a=s?s.call(t,"weight_final","Weight final grade based on groups",r):u.call(t,"t","weight_final","Weight final grade based on groups",r),(a||0===a)&&(l+=a),l+='</label>\n  </p>\n  <table>\n    <tbody class="groups_holder">\n      <tr style="display:none;" class="assignment_group_row blank">\n        <td><label></label></td>\n        <td><input type="number" min="0" max="100" class="group_weight"/>%</td>\n      </tr>\n    </tbody>\n    <tfoot>\n      <tr>\n        <td>',s=n.t||t&&t.t,r={hash:{scope:"assignment_group_weights_dialog"},data:i},a=s?s.call(t,"titles.total","Total",r):u.call(t,"t","titles.total","Total",r),(a||0===a)&&(l+=a),l+='</td>\n        <td>&nbsp;<span class="total_weight"></span>%</td>\n      </tr>\n    </tfoot>\n  </table>\n  <button class="btn btn-primary" type="submit">',s=n.t||t&&t.t,r={hash:{scope:"assignment_group_weights_dialog"},data:i},a=s?s.call(t,"buttons.save","Save",r):u.call(t,"t","buttons.save","Save",r),(a||0===a)&&(l+=a),l+="</button>\n</div>\n"}),arguments[1]("AssignmentGroupWeightsDialog","#assignment_group_weights_dialog table{width:100%}#assignment_group_weights_dialog th,#assignment_group_weights_dialog td{padding:2px 10px}#assignment_group_weights_dialog td{width:1px;white-space:nowrap}#assignment_group_weights_dialog tbody tr{border:solid #ccc;border-width:1px 0}#assignment_group_weights_dialog tfoot th,#assignment_group_weights_dialog tfoot td{font-weight:bold}#assignment_group_weights_dialog .group_weight{width:50px}\n"),n.AssignmentGroupWeightsDialog}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("compiled/gradebook2/AssignmentGroupWeightsDialog",["compiled/util/round","jquery","jst/AssignmentGroupWeightsDialog","jquery.ajaxJSON","jquery.disableWhileLoading","jqueryui/dialog","jquery.instructure_misc_helpers","vendor/jquery.ba-tinypubsub"],function(t,n,o){var i;return i=function(){function i(t){this.afterSave=e(this.afterSave,this),this.save=e(this.save,this),this.calcTotal=e(this.calcTotal,this),this.addGroupWeightListener=e(this.addGroupWeightListener,this),this.update=e(this.update,this),this.render=e(this.render,this);var i=this;this.$dialog=n(o()),this.$dialog.dialog({autoOpen:!1,resizable:!1,width:350,buttons:[{text:this.$dialog.find("button[type=submit]").hide().text(),click:this.save}]}),this.$dialog.delegate("input","change keyup keydown input",this.calcTotal),this.$dialog.find("#group_weighting_scheme").change(function(e){var t;return t=!e.currentTarget.checked,i.$dialog.find("table").css("opacity",t?.5:1),i.$dialog.find(".assignment_group_row input").attr("disabled",t)}),this.$group_template=this.$dialog.find(".assignment_group_row.blank").removeClass("blank").detach().show(),this.$groups_holder=this.$dialog.find(".groups_holder"),this.mergeFunction=t.mergeFunction||n.extend,this.update(t)}return i.prototype.render=function(){var e,t,n,o,i;for(this.$groups_holder.empty(),i=this.options.assignmentGroups,n=0,o=i.length;o>n;n++)e=i[n],t="assignment_group_"+e.id+"_weight",this.$group_template.clone().data("assignment_group",e).find("label").attr("for",t).text(e.name).end().find("input").attr("id",t).val(e.group_weight).end().appendTo(this.$groups_holder);return this.$dialog.find("#group_weighting_scheme").prop("checked","percent"===this.options.context.group_weighting_scheme).change(),this.calcTotal(),this.addGroupWeightListener()},i.prototype.update=function(e){return this.options=e,this.render()},i.prototype.addGroupWeightListener=function(){return n(".group_weight").on("change",function(e){var o,i;return i=n(e.target).val(),o=t(parseFloat(i),2),isNaN(o)?void 0:n(e.target).val(o)})},i.prototype.calcTotal=function(){var e;return e=0,this.$dialog.find(".assignment_group_row input").each(function(){return e+=Number(n(this).val())
}),e=t(e,2),this.$dialog.find(".total_weight").text(e)},i.prototype.save=function(){var e,t,o,i,a=this;return e="/courses/"+this.options.context.context_id,i=[],t=this.$dialog.find("#group_weighting_scheme").is(":checked")?"percent":"equal",t!==this.options.context.group_weighting_scheme&&i.push(n.ajaxJSON(e,"PUT",{"course[group_weighting_scheme]":t},function(e){return a.options.context.group_weighting_scheme=e.course.group_weighting_scheme,"percent"===a.options.context.group_weighting_scheme?a.options.context.show_total_grade_as_points=!1:void 0})),this.$dialog.find(".assignment_group_row").each(function(t,o){var s,r;return s=n(o).data("assignment_group"),r=Number(n(o).find("input").val()),r!==s.group_weight?i.push(n.ajaxJSON("/api/v1"+e+"/assignment_groups/"+s.id,"PUT",{group_weight:r},function(e){return a.mergeFunction(s,e)})):void 0}),o=n.when.apply(n,i).done(this.afterSave),this.$dialog.disableWhileLoading(o,{buttons:[".ui-button-text"]})},i.prototype.afterSave=function(){return this.$dialog.dialog("close"),this.render(),n.publish("assignment_group_weights_changed",this.options)},i}()})}.call(this),define("translations/grade_display_warning_dialog",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"عدم إظهار لهذا المساق مرة أخرى.",warning:"تحذير"}}},de:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"Für diesen Kurs nicht mehr anzeigen.",warning:"Warnung"}}},"en-AU":{grade_display_warning_dialog:{grade_display_warning:{checkbox:"Don't show for this course again.",warning:"Warning"}}},"en-GB":{grade_display_warning_dialog:{grade_display_warning:{checkbox:"Don't show for this course again.",warning:"Warning"}}},es:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"No mostrar de nuevo para este curso",warning:"Aviso"}}},"fa-IR":{grade_display_warning_dialog:{grade_display_warning:{checkbox:"دوباره برای این درس نمایش داده نشود.",warning:"هشدار"}}},fr:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"Ne plus afficher pour ce cours.",warning:"Avertissement"}}},ja:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"このコースでは再度表示しません。",warning:"警告"}}},ko:{grade_display_warning_dialog:{grade_display_warning:{warning:"경고"}}},nb:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"Ikke vis for dette kurset senere.",warning:"Advarsel"}}},nl:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"Deze cursus nog niet een keer tonen.",warning:"Waarschuwing"}}},pl:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"Nie pokazuj ponownie dla tego kursu.",warning:"Ostrzeżenie"}}},pt:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"Não mostrar novamente para esta disciplina",warning:"Aviso"}}},"pt-BR":{grade_display_warning_dialog:{grade_display_warning:{checkbox:"Não mostrar para este curso novamente.",warning:"Aviso"}}},ru:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"Не показывать снова для этого курса.",warning:"Предупреждение"}}},tr:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"Bu dersi tekrar gösterme.",warning:"Uyarı"}}},zh:{grade_display_warning_dialog:{grade_display_warning:{checkbox:"不要再显示此课程。",warning:"警告"}}}}})}),define("jst/GradeDisplayWarningDialog",["compiled/handlebars_helpers","i18n!grade_display_warning_dialog"],function(e){var t=e.template,n=e.templates=e.templates||{};return n.GradeDisplayWarningDialog=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s,r,l="",u=n.helperMissing,d="function",c=this.escapeExpression;return l+='<div title="',s=n.t||t&&t.t,r={hash:{scope:"grade_display_warning_dialog"},data:i},a=s?s.call(t,"grade_display_warning.warning","Warning",r):u.call(t,"t","grade_display_warning.warning","Warning",r),(a||0===a)&&(l+=a),l+='" style="display:none;" id="grade_display_warning_dialog">\n  <div>\n    ',(s=n.warning_text)?a=s.call(t,{hash:{},data:i}):(s=t&&t.warning_text,a=typeof s===d?s.call(t,{hash:{},data:i}):s),l+=c(a)+'\n  </div>\n  <br/>\n  <label for="hide_warning">\n    '+c((s=n.checkbox||t&&t.checkbox,r={hash:{id:"hide_warning"},data:i},s?s.call(t,"hide_warning",r):u.call(t,"checkbox","hide_warning",r)))+"\n    ",s=n.t||t&&t.t,r={hash:{scope:"grade_display_warning_dialog"},data:i},a=s?s.call(t,"grade_display_warning.checkbox","Don't show for this course again.",r):u.call(t,"t","grade_display_warning.checkbox","Don't show for this course again.",r),(a||0===a)&&(l+=a),l+="\n  </label>\n</div>\n"}),n.GradeDisplayWarningDialog}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("compiled/gradebook2/GradeDisplayWarningDialog",["i18n!gradebook2","jquery","jst/GradeDisplayWarningDialog","jqueryui/dialog"],function(t,n,o){var i;return i=function(){function i(i){this.cancel=e(this.cancel,this),this.save=e(this.save,this);var a,s,r;this.options=i,r=t.t("grade_display_warning.points_text","Students will also see their final grade as points. Are you sure you want to continue?"),s=t.t("grade_display_warning.percent_text","Students will also see their final grade as a percentage. Are you sure you want to continue?"),a={warning_text:this.options.showing_points?s:r},this.$dialog=n(o(a)),this.$dialog.dialog({resizable:!1,width:350,buttons:[{text:t.t("grade_display_warning.cancel","Cancel"),click:this.cancel},{text:t.t("grade_display_warning.continue","Continue"),click:this.save}]})}return i.prototype.save=function(){return this.$dialog.find("#hide_warning").prop("checked")?this.options.checked_save():this.options.unchecked_save(),this.$dialog.remove()},i.prototype.cancel=function(){return this.$dialog.remove()},i}()})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};define("compiled/gradebook2/SubmissionCell",["compiled/gradebook2/GRADEBOOK_TRANSLATIONS","str/htmlEscape","jquery","underscore","compiled/gradebook2/Turnitin","compiled/util/round","jquery.ajaxJSON"],function(e,n,o,i,a,s){var r,l,u,d,c,g,m;return l=a.extractData,r=function(){function t(e){this.opts=e,this.init()}return t.prototype.init=function(){var e;return e=this.opts.item[this.opts.column.field],this.$wrapper=o(this.cellWrapper("<input "+this.ariaLabel(e.submission_type)+" class='grade'/>")).appendTo(this.opts.container),this.$input=this.$wrapper.find("input").focus().select()},t.prototype.destroy=function(){return this.$input.remove()},t.prototype.focus=function(){return this.$input.focus()},t.prototype.loadValue=function(){return this.val=n(this.opts.item[this.opts.column.field].grade||""),this.$input.val(this.val),this.$input[0].defaultValue=this.val,this.$input.select()},t.prototype.serializeValue=function(){return this.$input.val()},t.prototype.applyValue=function(e,t){var o;return e[this.opts.column.field].grade=n(t),null!=(o=this.wrapper)&&o.remove(),this.postValue(e,t)},t.prototype.postValue=function(e,t){var n,i;return n=e[this.opts.column.field],i=this.opts.grid.getOptions().change_grade_url,i=i.replace(":assignment",n.assignment_id).replace(":submission",n.user_id),o.ajaxJSON(i,"PUT",{"submission[posted_grade]":t},this.onUpdateSuccess,this.onUpdateError)},t.prototype.onUpdateSuccess=function(e){return o.publish("submissions_updated",[e.all_submissions])},t.prototype.onUpdateError=function(){return o.flashError(e.submission_update_error)},t.prototype.isValueChanged=function(){return this.val!==this.$input.val()},t.prototype.validate=function(){return{valid:!0,msg:null}},t.formatter=function(e,t,n,o){var i;return i=parseFloat(n.grade),i=isNaN(i)?n.grade:s(i,s.DEFAULT),this.prototype.cellWrapper(i,{submission:n,assignment:o,editable:!1})},t.prototype.cellWrapper=function(n,i){var a,s,r,u,d,c;return null==i&&(i={}),a=o.extend({},{classes:"",editable:!0},i),a.submission||(a.submission=this.opts.item[this.opts.column.field]),a.assignment||(a.assignment=this.opts.column.object),(null!=(c=a.submission)?c.submission_type:void 0)&&(r=a.submission.submission_type),s=t.classesBasedOnSubmission(a.submission,a.assignment),a.submission.grade||(a.classes+=" no_grade_yet "),null==n&&(n=r?t.submissionIcon(r):"-"),(d=l(a.submission))&&(s.push("turnitin"),n+="<span class='gradebook-cell-turnitin "+d.state+"-score' />"),u=o.map(s,function(t){return e["submission_tooltip_"+t]}).join(", "),""+(u?'<div class="gradebook-tooltip">'+u+"</div>":"")+'\n<div class="gradebook-cell '+(a.editable?"gradebook-cell-editable focus":"")+" "+a.classes+" "+s.join(" ")+'">\n  <a href="#" data-user-id='+a.submission.user_id+" data-assignment-id="+a.assignment.id+' class="gradebook-cell-comment"><span class="gradebook-cell-comment-label">submission comments</span></a>\n  '+n+"\n</div>"},t.prototype.ariaLabel=function(t){var n;return n=e["submission_tooltip_"+t],null!=n?"aria-label='"+n+"'":""},t.classesBasedOnSubmission=function(e,t){var n;return null==e&&(e={}),null==t&&(t={}),n=[],e.grade_matches_current_submission===!1&&n.push("resubmitted"),e.late&&n.push("late"),""+t.submission_types=="not_graded"&&n.push("ungraded"),t.muted&&n.push("muted"),e.submission_type&&n.push(e.submission_type),n},t.submissionIcon=function(e){var n;return n=t.iconFromSubmissionType(e),"<i class='icon-"+n+"' ></i>"},t.iconFromSubmissionType=function(e){switch(e){case"online_upload":return"document";case"discussion_topic":return"discussion";case"online_text_entry":return"text";case"online_url":return"link";case"media_recording":return"filmstrip";case"online_quiz":return"quiz"}},t}(),r.out_of=function(e){function n(){return u=n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.init=function(){var e;return e=this.opts.item[this.opts.column.field],this.$wrapper=o(this.cellWrapper('<div class="overflow-wrapper">\n  <div class="grade-and-outof-wrapper">\n    <input type="number" '+this.ariaLabel(e.submission_type)+' class="grade"/><span class="outof"><span class="divider">/</span>'+this.opts.column.object.points_possible+"</span>\n  </div>\n</div>",{classes:"gradebook-cell-out-of-formatter"})).appendTo(this.opts.container),this.$input=this.$wrapper.find("input").focus().select()},n}(r),r.letter_grade=function(e){function n(){return d=n.__super__.constructor.apply(this,arguments)}return t(n,e),n.formatter=function(e,t,n,o){var i;return i=n.score?""+n.grade+"<span class='letter-grade-points'>"+n.score+"</span>":n.grade,r.prototype.cellWrapper(i,{submission:n,assignment:o,editable:!1})},n}(r),r.gpa_scale=function(e){function n(){return c=n.__super__.constructor.apply(this,arguments)}return t(n,e),n.formatter=function(e,t,n,o){var i;return i=n.grade,r.prototype.cellWrapper(i,{submission:n,assignment:o,editable:!1,classes:"gpa_scale_cell"})},n}(r),r.pass_fail=function(e){function n(){return g=n.__super__.constructor.apply(this,arguments)}var i,a;return t(n,e),a=["pass","fail",""],i=function(e){return{pass:"pass",complete:"pass",fail:"fail",incomplete:"fail"}[e.grade]||""},n.prototype.htmlFromSubmission=function(e){var t;return null==e&&(e={}),t=i(e.submission),r.prototype.cellWrapper('<a data-value="'+t+'" class="gradebook-checkbox gradebook-checkbox-'+t+" "+(e.editable?"editable":void 0)+'" href="#">'+t+"</a>",e)},n.formatter=function(e,t,o,i){return null==o.grade?r.formatter.apply(this,arguments):n.prototype.htmlFromSubmission({submission:o,assignment:i,editable:!1})},n.prototype.init=function(){var e=this;return this.$wrapper=o(this.cellWrapper()),this.$wrapper=o(this.htmlFromSubmission({submission:this.opts.item[this.opts.column.field],assignment:this.opts.column.object,editable:!0})).appendTo(this.opts.container),this.$input=this.$wrapper.find(".gradebook-checkbox").bind("click keypress",function(t){var n,o;return t.preventDefault(),n=e.$input.data("value"),o="pass"===n?"fail":"fail"===n?"":"pass",e.transitionValue(o)}).focus()},n.prototype.destroy=function(){return this.$wrapper.remove()},n.prototype.transitionValue=function(e){return this.$input.removeClass("gradebook-checkbox-pass gradebook-checkbox-fail").addClass("gradebook-checkbox-"+i({grade:e})).data("value",e)},n.prototype.loadValue=function(){return this.val=this.opts.item[this.opts.column.field].grade||""},n.prototype.serializeValue=function(){return this.$input.data("value")},n.prototype.isValueChanged=function(){return this.val!==this.$input.data("value")},n}(r),r.points=function(e){function n(){return m=n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(r),r})}.call(this),define("translations/message_students",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{message_students:{buttons:{send_message:"إرسال رسالة",send_message_failed:"فشل إرسال الرسائل، الرجاء المحاولة مرة أخرى",sending_message:"جارٍ إرسال رسالة..."},message_student:"إرسال رسائل للطلاب بشأن %{course_name}",send_message:"إرسال رسالة"}},de:{message_students:{buttons:{send_message:"Nachricht senden",send_message_failed:"Der Nachrichtenversand ist fehlgeschlagen, bitte erneut versuchen",sending_message:"Nachricht wird versandt..."},message_student:"Studenten benachrichtigen wegen %{course_name}",send_message:"Nachricht senden"}},"en-AU":{message_students:{buttons:{send_message:"Send Message",send_message_failed:"Sending Message Failed, please try again",sending_message:"Sending Message..."},message_student:"Message Students for %{course_name}",send_message:"Send Message"}},"en-GB":{message_students:{buttons:{send_message:"Send message",send_message_failed:"Sending message failed. Please try again",sending_message:"Sending message..."},message_student:"Message students for %{course_name}",send_message:"Send message"}},es:{message_students:{buttons:{send_message:"Enviar Mensaje",send_message_failed:"Envío del Mensaje Falló, intente de nuevo",sending_message:"Enviando Mensaje..."},message_student:"Enviar Mensaje a Estudiantes para %{course_name}",send_message:"Enviar el Mensaje"}},"fa-IR":{message_students:{buttons:{send_message:"ارسال پیام",send_message_failed:"ارسال پیام انجام نشد، لطفا دوباره سعی کنید",sending_message:"درحال ارسال پیام..."},message_student:"ارسال پیام برای دانشجویان درس %{course_name}",send_message:"ارسال پیام"}},fr:{message_students:{buttons:{send_message:"Envoyer le message",send_message_failed:"Échec de l’envoi du message, veuillez réessayer",sending_message:"Envoi du message..."},message_student:"Envoyer un message aux étudiants pour le cours %{course_name}",send_message:"Envoyer le message"}},ja:{message_students:{buttons:{send_message:"メッセージの送信",send_message_failed:"メッセージの送信に失敗しました。もう一度やり直してください",sending_message:"メッセージを送信しています..."},message_student:"%{course_name} の受講生にメッセージを送る",send_message:"メッセージの送信"}},ko:{message_students:{buttons:{send_message:"메시지 보내기",send_message_failed:"메시지 보내기 실패",sending_message:"메시지 보내는 중..."},message_student:"%{course_name}의 학생 관리",send_message:"메시지 보내기"}},nb:{message_students:{buttons:{send_message:"Send beskjed",send_message_failed:"Sending av beskjed feilet, vennligst forsøk igjen",sending_message:"Sender beskjed..."},message_student:"Send beskjed til studenter i %{course_name}",send_message:"Send beskjed"}},nl:{message_students:{buttons:{send_message:"Bericht verzenden",send_message_failed:"Verzenden van bericht mislukt, probeer het opnieuw",sending_message:"Bezig met verzenden van bericht..."},message_student:"Bericht naar cursisten voor %{course_name}",send_message:"Bericht zenden"}},pl:{message_students:{buttons:{send_message:"Wyślij wiadomość",send_message_failed:"Wysyłanie wiadomości nie powiodło się, spróbuj ponownie",sending_message:"Trwa wysyłanie wiadomości..."},message_student:"Powiadom uczestników z kursu %{course_name}",send_message:"Wyślij wiadomość"}},pt:{message_students:{buttons:{send_message:"Enviar mensagem",send_message_failed:"Falha no envio da mensagem, tente novamente",sending_message:"Enviando mensagem..."},message_student:"Enviar mensagem aos alunos para %{course_name}",send_message:"Enviar mensagem"}},"pt-BR":{message_students:{buttons:{send_message:"Enviar mensagem",send_message_failed:"Falha no envio da mensagem, tente novamente",sending_message:"Enviando mensagem..."},message_student:"Enviar mensagem aos alunos para %{course_name}",send_message:"Enviar mensagem"}},ru:{message_students:{buttons:{send_message:"Отправить сообщение",send_message_failed:"Ошибка отправки сообщения, повторите попытку",sending_message:"Отправка сообщения..."},message_student:"Отправка студентам сообщений для %{course_name}",send_message:"Отправить сообщение"}},tr:{message_students:{buttons:{send_message:"Mesaj Gönder",send_message_failed:"Mesah gönderimi başarısız, lütfen tekrar deneyin",sending_message:"Mesajınız Gönderiliyor..."},message_student:"%{course_name} dersi Öğrencilerine Mesaj Gönder",send_message:"Mesaj Gönder"}},zh:{message_students:{buttons:{send_message:"发送邮件",send_message_failed:"发送邮件失败，请重试",sending_message:"正在发送邮件..."},message_student:"向学生发送有关 %{course_name} 的邮件",send_message:"发送邮件"}}}})}),define("message_students",["i18n!message_students","jquery","jquery.instructure_forms","jqueryui/dialog","compiled/jquery/fixDialogButtons","jquery.instructure_misc_plugins"],function(e,t){var n=t("#message_students_dialog"),o={};return window.messageStudents=function(i){o=i,n.find(".message_types").empty();for(var a=0,s=i.options.length;s>a;a++){var r=t("<option/>"),l=i.options[a];r.val(a).text(l.text),n.find(".message_types").append(r)}var u=i.title,d=n.find("ul li.blank:first"),c=n.find("ul"),g={};n.find("ul li:not(.blank)").remove();for(var m=0;m<i.students.length;m++){var h=d.clone(!0).removeClass("blank");h.find(".name").text(i.students[m].name),h.find(".score").text(i.students[m].score),h.data("id",i.students[m].id),h.user_data=i.students[m],c.append(h.show()),g[i.students[m].id]=h}c.show(),n.data("students_hash",g),n.find(".asset_title").text(u),n.find(".out_of").showIf(null!=i.points_possible),n.find(".send_button").text(e.t("send_message","Send Message")),n.find(".points_possible").text(i.points_possible),n.find("[name=context_code]").val(i.context_code),n.find("textarea").val(""),n.find("select")[0].selectedIndex=0,n.find("select").change(),n.dialog({width:600,modal:!0}).fixDialogButtons().dialog("open").dialog("option","title",e.t("message_student","Message Students for %{course_name}",{course_name:u}))},t(document).ready(function(){n.find(".cutoff_score").bind("change blur keyup",function(){n.find("select").change()}),n.find(".cancel_button").click(function(){n.dialog("close")}),t("#message_assignment_recipients").formSubmit({processData:function(e){var n=[];return t(this).find(".student:visible").each(function(){n.push(t(this).data("id"))}),0==n.length?!1:(e.recipients=n.join(","),e)},beforeSubmit:function(){t(this).find("button").attr("disabled",!0).filter(".send_button").text(e.t("buttons.sending_message","Sending Message..."))},success:function(){t(this).find(".send_button").text("Message Sent!");var n=t(this);setTimeout(function(){n.find("button").attr("disabled",!1).filter(".send_button").text(e.t("buttons.send_message","Send Message")),t("#message_students_dialog").dialog("close")},2e3)},error:function(){t(this).find("button").attr("disabled",!1).filter(".send_button").text(e.t("buttons.send_message_failed","Sending Message Failed, please try again"))}}),n.find("select").change(function(){var e=parseInt(t(this).val(),10)||0,i=o.options[e],a=n.data("students_hash"),s=parseFloat(n.find(".cutoff_score").val(),10);s||0===s||(s=null);var r=null,l=[];for(var e in a)l.push(a[e]);a&&(i&&i.callback?r=i.callback.call(window.messageStudents,s,l):o.callback&&(r=o.callback.call(window.messageStudents,i.text,s,l))),r=r||[],o.subjectCallback&&n.find("[name=subject]").val(o.subjectCallback(i.text,s)),n.find(".cutoff_holder").showIf(i.cutoff),n.find(".student_list").toggleClass("show_score",!(!i.cutoff&&!i.score)),n.find("button").attr("disabled",0==r.length);var u={};for(var e in r)r.hasOwnProperty(e)&&(u[parseInt(r[e],10)||0]=!0);for(var e in a)a[e].showIf(u[e])})}),messageStudents}),define("translations/assignment_details",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{assignment_details:{no_graded_submissions:"لا توجد عمليات إرسال تم تقدير درجاتها"}},de:{assignment_details:{no_graded_submissions:"Keine benoteten Einsendungen"}},"en-AU":{assignment_details:{no_graded_submissions:"No graded submissions"}},"en-GB":{assignment_details:{no_graded_submissions:"No graded submissions"}},es:{assignment_details:{no_graded_submissions:"No hay envíos calificados"}},"fa-IR":{assignment_details:{no_graded_submissions:"هیچ مورد ارسالی نمره گذاری شده موجود نیست"}},fr:{assignment_details:{no_graded_submissions:"Pas d’envois notés"}},ja:{assignment_details:{no_graded_submissions:"採点済みの提出物なし"}},ko:{},nb:{assignment_details:{no_graded_submissions:"Ingen innleveringer som er karaktersatt"}},nl:{assignment_details:{no_graded_submissions:"Geen beoordeelde inzendingen"}},pl:{assignment_details:{no_graded_submissions:"Brak ocenionych zadań"}},pt:{assignment_details:{no_graded_submissions:"Nenhum envio avaliado"}},"pt-BR":{assignment_details:{no_graded_submissions:"Nenhum envio avaliado"}},ru:{assignment_details:{no_graded_submissions:"Нет оцененных отправок"}},tr:{assignment_details:{no_graded_submissions:"Notlandırılmış gönderi yok"}},zh:{assignment_details:{no_graded_submissions:"无已评分作业"}}}})}),define("translations/assignment_details_dialog",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{assignment_details_dialog:{average_score:"متوسط مجموع النقاط:",count_of_submissions:"%{cnt} إرسالاً/إرسالات",grading_statistics_for_assignment:"إحصاءات الدرجة من أجل: %{assignment.name}",high_score:"مجموع نقاط مرتفع:",low_score:"مجموع نقاط منخفض:",no_one_scored_higher:"لم يحرز أحد نقاطًا أعلى من %{max}",no_one_scored_lower:"لم يحرز أحد نقاطًا أقل من %{min}",scores_higher_than_the_average:"النقاط الأعلى من متوسط %{average}",scores_lower_than_the_average:"النقاط الأقل من متوسط %{average}",total_graded_submissions:"إجمالي عمليات الإرسال التي تم تصحيحها:"}},de:{assignment_details_dialog:{average_score:"Durchschnittliche Punktzahl:",count_of_submissions:"%{cnt} Einsendungen",grading_statistics_for_assignment:"Benotungsstatistik für: %{assignment.name}",high_score:"Höchste Punktzahl:",low_score:"Niedrigste Punktzahl:",no_one_scored_higher:"Niemand hat mehr Punkte erzielt als %{max}",no_one_scored_lower:"Niemand hat weniger Punkte erzielt als %{min}",scores_higher_than_the_average:"Punktzahlen oberhalb des Durchschnitts von %{average}",scores_lower_than_the_average:"Punktzahlen unterhalb des Durchschnitts von %{average}",total_graded_submissions:"Benotete Einsendungen gesamt:"}},"en-AU":{assignment_details_dialog:{average_score:"Average Score:",count_of_submissions:"%{cnt} submissions",grading_statistics_for_assignment:"Grade statistics for: %{assignment.name}",high_score:"High Score:",low_score:"Low Score:",no_one_scored_higher:"No one scored higher than %{max}",no_one_scored_lower:"No one scored lower than %{min}",scores_higher_than_the_average:"Scores higher than the average of %{average}",scores_lower_than_the_average:"Scores lower than the average of %{average}",total_graded_submissions:"Total Graded Submissions:"}},"en-GB":{assignment_details_dialog:{average_score:"Average score:",count_of_submissions:"%{cnt} submissions",grading_statistics_for_assignment:"Grade statistics for: %{assignment.name}",high_score:"High score:",low_score:"Low score:",no_one_scored_higher:"No one scored higher than %{max}",no_one_scored_lower:"No one scored lower than %{min}",scores_higher_than_the_average:"Scores higher than the average of %{average}",scores_lower_than_the_average:"Scores lower than the average of %{average}",total_graded_submissions:"Total graded submissions:"}},es:{assignment_details_dialog:{average_score:"Calificación Promedio:",count_of_submissions:"%{cnt} envíos",grading_statistics_for_assignment:"Estadísticas de calificación para: %{assignment.name}",high_score:"Calificación Alta:",low_score:"Calificación Baja:",no_one_scored_higher:"Nadie obtuvo una calificación mayor de %{max}",no_one_scored_lower:"Nadie obtuvo una calificación menor de %{min}",scores_higher_than_the_average:"Calificaciones mayores del promedio de %{average}",scores_lower_than_the_average:"Calificaciones menores del promedio de %{average}",total_graded_submissions:"Total de envíos calificados:"}},"fa-IR":{assignment_details_dialog:{average_score:"میانگین نمره:",count_of_submissions:"%{cnt} مورد ارسالی",grading_statistics_for_assignment:"آمارهای نمره برای: %{assignment.name}",high_score:"بالاترین نمره:",low_score:"پایین ترین نمره:",no_one_scored_higher:"هیچ کس نمره بالاتر از%{max} نگرفت",no_one_scored_lower:"هیچ کس نمره پایین تر از %{min} نگرفت",scores_higher_than_the_average:"نمره های بالاتر از میانگین %{average}",scores_lower_than_the_average:"نمهر های پایین تر از میانگین %{average}",total_graded_submissions:"کل موردهای ارسالی نمره گذاری شده:"}},fr:{assignment_details_dialog:{average_score:"Note moyenne :",count_of_submissions:"%{cnt} envois",grading_statistics_for_assignment:"Statistiques de notation pour : %{assignment.name}",high_score:"Note élevée :",low_score:"Note basse :",no_one_scored_higher:"La note la plus élevée est : %{max}",no_one_scored_lower:"La note la plus basse est : %{min}",scores_higher_than_the_average:"Notes supérieures à la moyenne de %{average}",scores_lower_than_the_average:"Notes inférieures à la moyenne de %{average}",total_graded_submissions:"Total des envois notés :"}},ja:{assignment_details_dialog:{average_score:"平均点:",count_of_submissions:"%{cnt} 件の提出物",grading_statistics_for_assignment:"成績統計対象: %{assignment.name}",high_score:"高スコア:",low_score:"低スコア:",no_one_scored_higher:"%{max} を上回るスコアの受講者はいませんでした",no_one_scored_lower:"%{min} を下回るスコアの受講者はいませんでした",scores_higher_than_the_average:"平均点 %{average} を上回るスコア",scores_lower_than_the_average:"平均点 %{average} を下回るスコア",total_graded_submissions:"採点済みの提出物合計:"}},ko:{assignment_details_dialog:{average_score:"평균 점수:",count_of_submissions:"제출물 %{cnt}개",grading_statistics_for_assignment:"다음 과제에 대한 평가 통계: %{assignment.name}",high_score:"최고 점수:",low_score:"최저 점수:",no_one_scored_higher:"%{max}점 이상 없음",no_one_scored_lower:"%{min}점 이하 없음",scores_higher_than_the_average:"평균(%{average}점) 이상",scores_lower_than_the_average:"평균(%{average}점) 이하"}},nb:{assignment_details_dialog:{average_score:"Gjennomsnittlig resultat:",count_of_submissions:"%{cnt} innleveringer",grading_statistics_for_assignment:"Karakterstatistikk for: %{assignment.name}",high_score:"Høyeste resultat:",low_score:"Laveste resultat:",no_one_scored_higher:"Ingen fikk høyere resultat enn %{max}",no_one_scored_lower:"Ingen fikk lavere resultat enn %{min}",scores_higher_than_the_average:"Resultater som er høyere enn gjennomsnittet %{average}",scores_lower_than_the_average:"Resultater som er lavere enn gjennomsnittet %{average}",total_graded_submissions:"Antall rettede innleveringer:"}},nl:{assignment_details_dialog:{average_score:"Gemiddelde score:",count_of_submissions:"%{cnt} inzendingen",grading_statistics_for_assignment:"Beoordelingsstatistieken voor: %{assignment.name}",high_score:"Hoogste score:",low_score:"Laagste score:",no_one_scored_higher:"Geen score hoger dan %{max}",no_one_scored_lower:"Geen score lager dan %{min}",scores_higher_than_the_average:"Scores hoger dan het gemiddelde van %{average}",scores_lower_than_the_average:"Scores lager dan het gemiddelde van %{average}",total_graded_submissions:"Totaal aantal beoordeelde inzendingen:"}},pl:{assignment_details_dialog:{average_score:"Średni wynik punktowy:",count_of_submissions:"Liczba przesłanych zadań: %{cnt}",grading_statistics_for_assignment:"Statystki dot. ocen dla: %{assignment.name}",high_score:"Wysoki wynik punktowy:",low_score:"Niski wynik punktowy:",no_one_scored_higher:"Żaden z uczestników nie uzyskał wyższej liczby punktów niż %{max}",no_one_scored_lower:"Żaden z uczestników nie uzyskał niższej liczby punktów niż %{min}",scores_higher_than_the_average:"Wyniki powyżej średniej wynoszącej %{average}",scores_lower_than_the_average:"Wyniki poniżej średniej wynoszącej %{average}",total_graded_submissions:"Łącznie ocenionych zadań:"}},pt:{assignment_details_dialog:{average_score:"Pontuação média:",count_of_submissions:"%{cnt} envios",grading_statistics_for_assignment:"Estatísticas de nota para: %{assignment.name}",high_score:"Pontuação mais alta:",low_score:"Pontuação mais baixa:",no_one_scored_higher:"Ninguém fez mais pontos que %{max}",no_one_scored_lower:"Ninguém fez menos pontos que %{min}",scores_higher_than_the_average:"Pontuações maiores que a média de %{average}",scores_lower_than_the_average:"Pontuações menores que a média de %{average}",total_graded_submissions:"Total de envios avaliados:"}},"pt-BR":{assignment_details_dialog:{average_score:"Pontuação média:",count_of_submissions:"%{cnt} envios",grading_statistics_for_assignment:"Estatísticas de nota para: %{assignment.name}",high_score:"Pontuação mais alta:",low_score:"Pontuação mais baixa:",no_one_scored_higher:"Ninguém fez mais pontos que %{max}",no_one_scored_lower:"Ninguém fez menos pontos que %{min}",scores_higher_than_the_average:"Pontuações maiores que a média de %{average}",scores_lower_than_the_average:"Pontuações menores que a média de %{average}",total_graded_submissions:"Total de envios avaliados:"}},ru:{assignment_details_dialog:{average_score:"Средний балл:",count_of_submissions:"%{cnt} отправок",grading_statistics_for_assignment:"Статистика оценок для: %{assignment.name}",high_score:"Высокая оценка:",low_score:"Низкая оценка:",no_one_scored_higher:"Нет оценок выше %{max}",no_one_scored_lower:"Нет оценок ниже %{min}",scores_higher_than_the_average:"Оценки выше средних %{average}",scores_lower_than_the_average:"Оценки ниже средних %{average}",total_graded_submissions:"Всего отправок оценено:"}},tr:{assignment_details_dialog:{average_score:"Ortalama Puan:",count_of_submissions:"%{cnt} gönderi",grading_statistics_for_assignment:"%{assignment.name} için not istatistikleri",high_score:"Yüksek Puan:",low_score:"Düşük Puan:",no_one_scored_higher:"%{max}'dan daha yüksek puan yok",no_one_scored_lower:"%{min}'den daha düşük puan yok",scores_higher_than_the_average:"%{average} ortalamasından büyük puanlar",scores_lower_than_the_average:"%{average} ortalamasından düşük puanlar",total_graded_submissions:"Toplam Notlandırılmış Gönderiler:"}},zh:{assignment_details_dialog:{average_score:"平均分数:",count_of_submissions:"%{cnt} 个作业",grading_statistics_for_assignment:"下列评分统计: %{assignment.name}",high_score:"高分:",low_score:"低分:",no_one_scored_higher:"没有分数高于 %{max}",no_one_scored_lower:"没有分数低于 %{min}",scores_higher_than_the_average:"高于平均分 %{average} 的分数",scores_lower_than_the_average:"低于平均分 %{average} 的分数",total_graded_submissions:"已评分的提交项总数："}}}})}),define("jst/AssignmentDetailsDialog",["compiled/handlebars_helpers","compiled/util/registerTemplateCss","i18n!assignment_details_dialog"],function(e){var t=e.template,n=e.templates=e.templates||{};return n.AssignmentDetailsDialog=t(function(e,t,n,o,i){function a(e,t){var o,i,a,s="";return s+='\n    <div class="distribution" style="display: block; ">\n      <div class="bar-left"></div>\n      <div class="none-left" title="',i=n.t||e&&e.t,a={hash:{scope:"assignment_details_dialog"},data:t},o=i?i.call(e,"no_one_scored_lower","No one scored lower than %{min}",a):d.call(e,"t","no_one_scored_lower","No one scored lower than %{min}",a),(o||0===o)&&(s+=o),s+='" style="width: ',(i=n.noneLeftWidth)?o=i.call(e,{hash:{},data:t}):(i=e&&e.noneLeftWidth,o=typeof i===c?i.call(e,{hash:{},data:t}):i),s+=g(o)+"%; left: ",(i=n.noneLeftLeft)?o=i.call(e,{hash:{},data:t}):(i=e&&e.noneLeftLeft,o=typeof i===c?i.call(e,{hash:{},data:t}):i),s+=g(o)+'%; "></div>\n      <div class="some-left" title="',i=n.t||e&&e.t,a={hash:{scope:"assignment_details_dialog"},data:t},o=i?i.call(e,"scores_lower_than_the_average","Scores lower than the average of %{average}",a):d.call(e,"t","scores_lower_than_the_average","Scores lower than the average of %{average}",a),(o||0===o)&&(s+=o),s+='" style="width: ',(i=n.someLeftWidth)?o=i.call(e,{hash:{},data:t}):(i=e&&e.someLeftWidth,o=typeof i===c?i.call(e,{hash:{},data:t}):i),s+=g(o)+"%; left: ",(i=n.someLeftLeft)?o=i.call(e,{hash:{},data:t}):(i=e&&e.someLeftLeft,o=typeof i===c?i.call(e,{hash:{},data:t}):i),s+=g(o)+'%; "></div>\n      <div class="some-right" title="',i=n.t||e&&e.t,a={hash:{scope:"assignment_details_dialog"},data:t},o=i?i.call(e,"scores_higher_than_the_average","Scores higher than the average of %{average}",a):d.call(e,"t","scores_higher_than_the_average","Scores higher than the average of %{average}",a),(o||0===o)&&(s+=o),s+='" style="width: ',(i=n.someRightWidth)?o=i.call(e,{hash:{},data:t}):(i=e&&e.someRightWidth,o=typeof i===c?i.call(e,{hash:{},data:t}):i),s+=g(o)+"%; left: ",(i=n.someRightLeft)?o=i.call(e,{hash:{},data:t}):(i=e&&e.someRightLeft,o=typeof i===c?i.call(e,{hash:{},data:t}):i),s+=g(o)+'%; "></div>\n      <div class="none-right" title="',i=n.t||e&&e.t,a={hash:{scope:"assignment_details_dialog"},data:t},o=i?i.call(e,"no_one_scored_higher","No one scored higher than %{max}",a):d.call(e,"t","no_one_scored_higher","No one scored higher than %{max}",a),(o||0===o)&&(s+=o),s+='" style="width: ',(i=n.noneRightWidth)?o=i.call(e,{hash:{},data:t}):(i=e&&e.noneRightWidth,o=typeof i===c?i.call(e,{hash:{},data:t}):i),s+=g(o)+"%; left: ",(i=n.noneRightLeft)?o=i.call(e,{hash:{},data:t}):(i=e&&e.noneRightLeft,o=typeof i===c?i.call(e,{hash:{},data:t}):i),s+=g(o)+'%; "></div>\n      <div class="bar-right"></div>\n    </div>\n  '
}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,r,l,u="",d=n.helperMissing,c="function",g=this.escapeExpression,m=this;return u+='<div id="assignment-details-dialog" title="',r=n.t||t&&t.t,l={hash:{scope:"assignment_details_dialog"},data:i},s=r?r.call(t,"grading_statistics_for_assignment","Grade statistics for: %{assignment.name}",l):d.call(t,"t","grading_statistics_for_assignment","Grade statistics for: %{assignment.name}",l),(s||0===s)&&(u+=s),u+='">\n  ',s=n["if"].call(t,t&&t.showDistribution,{hash:{},inverse:m.noop,fn:m.program(1,a,i),data:i}),(s||0===s)&&(u+=s),u+='\n  <table id="assignment-details-dialog-stats-table">\n    <tr>\n      <th scope="row">',r=n.t||t&&t.t,l={hash:{scope:"assignment_details_dialog"},data:i},s=r?r.call(t,"average_score","Average Score:",l):d.call(t,"t","average_score","Average Score:",l),(s||0===s)&&(u+=s),u+="</th>\n      <td>",(r=n.average)?s=r.call(t,{hash:{},data:i}):(r=t&&t.average,s=typeof r===c?r.call(t,{hash:{},data:i}):r),u+=g(s)+'</td>\n    </tr>\n    <tr>\n      <th scope="row">',r=n.t||t&&t.t,l={hash:{scope:"assignment_details_dialog"},data:i},s=r?r.call(t,"high_score","High Score:",l):d.call(t,"t","high_score","High Score:",l),(s||0===s)&&(u+=s),u+="</th>\n      <td>",(r=n.max)?s=r.call(t,{hash:{},data:i}):(r=t&&t.max,s=typeof r===c?r.call(t,{hash:{},data:i}):r),u+=g(s)+'</td>\n    </tr>\n    <tr>\n      <th scope="row">',r=n.t||t&&t.t,l={hash:{scope:"assignment_details_dialog"},data:i},s=r?r.call(t,"low_score","Low Score:",l):d.call(t,"t","low_score","Low Score:",l),(s||0===s)&&(u+=s),u+="</th>\n      <td>",(r=n.min)?s=r.call(t,{hash:{},data:i}):(r=t&&t.min,s=typeof r===c?r.call(t,{hash:{},data:i}):r),u+=g(s)+'</td>\n    </tr>\n    <tr>\n      <th scope="row">',r=n.t||t&&t.t,l={hash:{scope:"assignment_details_dialog"},data:i},s=r?r.call(t,"total_graded_submissions","Total Graded Submissions:",l):d.call(t,"t","total_graded_submissions","Total Graded Submissions:",l),(s||0===s)&&(u+=s),u+="</th>\n      <td>",r=n.t||t&&t.t,l={hash:{scope:"assignment_details_dialog"},data:i},s=r?r.call(t,"count_of_submissions","%{cnt} submissions",l):d.call(t,"t","count_of_submissions","%{cnt} submissions",l),(s||0===s)&&(u+=s),u+="</td>\n    </tr>\n  </table>\n</div>\n"}),arguments[1]("AssignmentDetailsDialog","#assignment-details-dialog .distribution{margin:15px 0;height:30px;position:relative}#assignment-details-dialog .distribution div{position:absolute;top:0;border-style:solid;border-color:#aaa;overflow:hidden}#assignment-details-dialog .distribution .bar-left,#assignment-details-dialog .distribution .bar-right{height:10px;width:0px;margin:5px 0px}#assignment-details-dialog .distribution .bar-left{left:0;border-width:2px 0 2px 2px}#assignment-details-dialog .distribution .none-left,#assignment-details-dialog .distribution .none-right{height:11px;border-bottom-width:2px}#assignment-details-dialog .distribution .some-left{height:20px;border-width:2px 0pt 2px 2px;border-top-left-radius:3px;border-bottom-left-radius:3px;background:#fff;z-index:2}#assignment-details-dialog .distribution .some-right{height:20px;border-width:2px;overflow:hidden;border-top-right-radius:3px;border-bottom-right-radius:3px;background:#fff;z-index:2}#assignment-details-dialog .distribution .bar-right{width:0;height:10px;margin:5px 0;right:0;border-width:2px 2px 2px 0}#assignment-details-dialog-stats-table{font-size:1.2em}#assignment-details-dialog-stats-table th,#assignment-details-dialog-stats-table td{padding:2px 5px;white-space:nowrap}#assignment-details-dialog-stats-table td{font-size:1.1em;font-weight:bold}\n"),n.AssignmentDetailsDialog}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("compiled/AssignmentDetailsDialog",["i18n!assignment_details","jquery","jst/AssignmentDetailsDialog","jqueryui/dialog","compiled/jquery/fixDialogButtons"],function(t,n,o){var i;return i=function(){function i(t){var i,a,s,r,l,u;this.assignment=t.assignment,this.students=t.students,this.nonNumericGuard=e(this.nonNumericGuard,this),this.compute=e(this.compute,this),u=this.compute(),a=u.scores,i=u.locals,s=0,l=0,r=100,n.extend(i,{showDistribution:i.average&&this.assignment.points_possible,noneLeftWidth:l=r*(i.min/this.assignment.points_possible),noneLeftLeft:(s+=l)-l,someLeftWidth:l=r*((i.average-i.min)/this.assignment.points_possible),someLeftLeft:(s+=l)-l,someRightWidth:l=r*((i.max-i.average)/this.assignment.points_possible),someRightLeft:(s+=l)-l,noneRightWidth:l=r*((this.assignment.points_possible-i.max)/this.assignment.points_possible),noneRightLeft:(s+=l)-l}),n(o(i)).dialog({width:500,close:function(){return n(this).remove()}})}return i.prototype.compute=function(e){var t,n,o,i,a,s,r=this;return null==e&&(e={students:this.students,assignment:this.assignment}),s=e.students,t=e.assignment,i=function(){var e,o;o=[];for(n in s)a=s[n],null!=(null!=(e=a["assignment_"+t.id])?e.score:void 0)&&o.push(a["assignment_"+t.id].score);return o}(),o={assignment:t,cnt:i.length,max:this.nonNumericGuard(Math.max.apply(Math,i)),min:this.nonNumericGuard(Math.min.apply(Math,i)),average:function(e){var t,n,o,i;for(n=0,o=0,i=e.length;i>o;o++)t=e[o],n+=t;return r.nonNumericGuard(Math.round(n/e.length))}(i)},{scores:i,locals:o}},i.prototype.nonNumericGuard=function(e){return isFinite(e)&&!isNaN(e)?e:t.t("no_graded_submissions","No graded submissions")},i}()})}.call(this),define("translations/assignment_muter",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{assignment_muter:{mute_assignment:"حجب المهمة",muting_assignment:"إخفاء درجة التعيين...",unmute_assignment:"إلغاء حجب المهمة",unmute_button:"إلغاء حجب المهمة",unmute_dialog:"تم حجب هذه المهمة حاليًا. وهذا يعني أن الطلاب لا يمكنهم عرض الدرجات والملاحظات الخاصة بهم. هل ترغب في إلغاء حجبها الآن؟",unmuting_assignment:"إظهار درجة التعيين..."}},de:{assignment_muter:{mute_assignment:"Aufgabe stummschalten",muting_assignment:"Aufgabe stummschalten...",unmute_assignment:"Aufgabe lautschalten",unmute_button:"Aufgabe lautschalten",unmute_dialog:"Diese Aufgabe ist zurzeit stummgeschaltet. Das bedeutet, dass die Studenten Ihre Noten und Feedbacks nicht aufrufen können. Möchten Sie diese Aufgabe jetzt lautschalten?",unmuting_assignment:"Aufgabe lautschalten..."}},"en-AU":{assignment_muter:{mute_assignment:"Mute Assignment",muting_assignment:"Muting Assignment...",unmute_assignment:"Unmute Assignment",unmute_button:"Unmute Assignment",unmute_dialog:"This assignment is currently muted. That means students can't see their grades and feedback. Would you like to unmute now?",unmuting_assignment:"Unmuting Assignment..."}},"en-GB":{assignment_muter:{mute_assignment:"Mute assignment",muting_assignment:"Muting assignment...",unmute_assignment:"Unmute assignment",unmute_button:"Unmute assignment",unmute_dialog:"This assignment is currently muted. That means students can't see their grades and feedback. Would you like to unmute now?",unmuting_assignment:"Unmuting assignment..."}},es:{assignment_muter:{mute_assignment:"Obviar Tarea",muting_assignment:"Desactivando la tarea...",unmute_assignment:"Activar la Tarea",unmute_button:"Activar la Tarea",unmute_dialog:"Esta tarea está obviada. Esto significa que los estudiantes no pueden ver sus calificaciones ni retroalimentación. ¿Quiere activarla ahora?",unmuting_assignment:"Activando la tarea..."}},"fa-IR":{assignment_muter:{mute_assignment:"غیر فعال کردن تکلیف",muting_assignment:"در حال غیر فعال کردن تکلیف...",unmute_assignment:"فعال کردن تکلیف",unmute_button:"فعال کردن تکلیف",unmute_dialog:"این تکلیف در حال حاضر غیر فعال شده است. بدین معنا که دانشجویان نمی توانند نمره ها و بازخورد خود را ببینند. آیا مایلید الان فعال شود؟",unmuting_assignment:"در حال فعال کردن تکلیف..."}},fr:{assignment_muter:{mute_assignment:"Tâche silencieuse",muting_assignment:"Tâche en mode silencieux...",unmute_assignment:"Annuler une tâche silencieuse",unmute_button:"Annuler une tâche silencieuse",unmute_dialog:"Cette tâche est actuellement en mode silencieux. Cela signifie que les étudiants ne peuvent pas voir leurs notes ni leurs corrections. Voulez-vous annuler la tâche silencieuse maintenant ?",unmuting_assignment:"Réactiver le son pour la tâche..."}},ja:{assignment_muter:{mute_assignment:"課題をミュートにする",muting_assignment:"課題をミュートにしています...",unmute_assignment:"課題のミュート解除",unmute_button:"課題のミュート解除",unmute_dialog:"この課題は現在ミュートになっています。つまり、受講生は成績やフィードバックを見ることができません。今すぐミュートを解除しますか?",unmuting_assignment:"課題のミュートを解除しています..."}},ko:{assignment_muter:{mute_assignment:"과제 평점 비공개",muting_assignment:"과제 평점 비공개 중...",unmute_assignment:"과제 평점 공개",unmute_button:"과제 평점 공개",unmute_dialog:"이 과제는 현재 평점 비공개 상태입니다. 이는 학생이 평점과 피드백을 볼 수 없다는 것을 뜻합니다. 지금 평점을 공개하시겠습니까?",unmuting_assignment:"과제 평점 공개 중..."}},nb:{assignment_muter:{mute_assignment:"Skjul oppgaven",muting_assignment:"Skjuler oppgaven...",unmute_assignment:"Vis oppgaven",unmute_button:"Vis oppgaven",unmute_dialog:"Denne oppgaven er for tiden skjult. Det betyr at studentene ikke kan se karakter eller tilbakemelding. Vil du vise oppgaven nå?",unmuting_assignment:"Viser oppgaven..."}},nl:{assignment_muter:{mute_assignment:"Opdracht verbergen",muting_assignment:"Bezig met verbergen van opdracht...",unmute_assignment:"Opdracht verbergen ongedaan maken",unmute_button:"Opdracht verbergen ongedaan maken",unmute_dialog:"De opdracht is momenteel verborgen. Hierdoor kunnen cursisten hun cijfers en feedback niet zien. Wil je dit nu ongedaan maken?",unmuting_assignment:"Bezig met het ongedaan maken van opdracht..."}},pl:{assignment_muter:{mute_assignment:"Ukryj zadanie",muting_assignment:"Ukrywanie zadania",unmute_assignment:"Odkryj zadanie",unmute_button:"Odkryj zadanie",unmute_dialog:"To zadanie jest obecnie ukryte. Oznacza to, że uczestnicy nie widzą swoich ocen ani komentarzy. Czy chcesz odkryć zadanie?",unmuting_assignment:"Odkrywanie zadania"}},pt:{assignment_muter:{mute_assignment:"Silenciar tarefa",muting_assignment:"A desativar a tarefa...",unmute_assignment:"Dessilenciar tarefa",unmute_button:"Dessilenciar tarefa",unmute_dialog:"Esta tarefa está desativada de momento. Isso significa que os alunos não podem ver as suas notas e observações. Pretende ativar agora a tarefa?",unmuting_assignment:"A ativar a tarefa..."}},"pt-BR":{assignment_muter:{mute_assignment:"Silenciar tarefa",muting_assignment:"Silenciando compromisso...",unmute_assignment:"Dessilenciar tarefa",unmute_button:"Dessilenciar tarefa",unmute_dialog:"Esta tarefa está silenciada no momento. Isto significa que os alunos não podem ver suas notas e observações. Você gostaria de remover o silêncio agora?",unmuting_assignment:"Dessilenciando tarefa..."}},ru:{assignment_muter:{mute_assignment:"Отключить звук задания",muting_assignment:"Отключение звука задания...",unmute_assignment:"Включить звук задания",unmute_button:"Включить звук задания",unmute_dialog:"В настоящий момент звук в данном задании отключен. Это означает, что студенты не могут просматривать свои оценки и отзывы. Включить звук сейчас?",unmuting_assignment:"Включение звука задания..."}},tr:{assignment_muter:{mute_assignment:"Ödevi Beklet",muting_assignment:"Ödev beklemeye alınıyor...",unmute_assignment:"Ödevi Beklemeden Çıkar",unmute_button:"Ödevi Beklemeden Çıkar",unmute_dialog:"Bu ödev şu anda bekletiliyor. Öğrenciler notlarını ve geribildirimleri göremezler. Şimdi açmak ister misiniz?",unmuting_assignment:"Ödev beklemeden çıkarılıyor..."}},zh:{assignment_muter:{mute_assignment:"屏蔽作业",muting_assignment:"正在屏蔽作业...",unmute_assignment:"取消屏蔽作业",unmute_button:"取消屏蔽作业",unmute_dialog:"此作业当前被屏蔽。这意味着学生无法看到其计分和反馈。是否要立即取消屏蔽?",unmuting_assignment:"正在取消屏蔽作业..."}}}})}),define("translations/mute_dialog",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{mute_dialog:{curving_assignments:"المهام المنحنية",grade_change_notifications:"إعلامات تغيير الدرجات",how_to_unmute:'بمجرد حجب هذه المهمة، يمكنك بدء إرسال إعلامات مرة أخرى عن طريق النقر فوق الارتباط "إلغاء حجب المهمة".',mute_assignment:"حجب المهمة",score_change_notifications:"إعلامات تغيير النقاط",see_grade:"الدرجة الخاصة بالمهمة",students_will_see:"سيرى الطلاب أنه قد تم حجب هذه المهمة. ",submission_comments:"تعليقات الإرسال",sure_you_want_to_mute:"هل ترغب بالتأكيد في حجب هذه المهمة؟ بينما تم حجب هذه المهمة، لن يتلقى الطلاب إعلامات جديدة حولها أو لن يقدروا على رؤيتها:"}},de:{mute_dialog:{curving_assignments:"Aufgaben-chart erstellen",grade_change_notifications:"Benachrichtigungen bei Notenänderung",how_to_unmute:'Für eine stummgeschaltete Aufgabe können Sie durch einen Klick auf den Link "Aufgabe lautschalten" die Versendung von Benachrichtigungen erneut aktivieren.',mute_assignment:"Aufgabe stummschalten",score_change_notifications:"Benachrichtigungen bei Punktzahländerung",see_grade:"Ihre Note für die Aufgabe",students_will_see:"Die Studenten können sehen, dass diese Aufgabe stummgeschaltet ist.",submission_comments:"Einsendungskommentare",sure_you_want_to_mute:"Möchten Sie diese Aufgabe wirklich stummschalten? Solange diese Aufgabe stummgeschaltet ist, erhalten die Studenten keine neuen Benachrichtigungen und sehen keine Informationen im Zusammenhang mit:"}},"en-AU":{mute_dialog:{curving_assignments:"Curving assignments",grade_change_notifications:"Grade change notifications",how_to_unmute:'Once you have muted this assignment, you can begin sending notifications again by clicking the "Unmute Assignment" link.',mute_assignment:"Mute Assignment",score_change_notifications:"Score change notifications",see_grade:"Their grade for the assignment",students_will_see:"Students will be able to see that this assignment is muted.",submission_comments:"Submission comments",sure_you_want_to_mute:"Are you sure you want to mute this assignment? While this assignment is muted, students will not receive new notifications about or be able to see:"}},"en-GB":{mute_dialog:{curving_assignments:"Curving assignments",grade_change_notifications:"Grade change notifications",how_to_unmute:'Once you have muted this assignment, you can begin sending notifications again by clicking the "Unmute assignment" link.',mute_assignment:"Mute assignment",score_change_notifications:"Score change notifications",see_grade:"Their grade for the assignment",students_will_see:"Students will be able to see that this assignment is muted.",submission_comments:"Submission comments",sure_you_want_to_mute:"Are you sure you want to mute this assignment? While this assignment is muted, students will not receive new notifications about or be able to see:"}},es:{mute_dialog:{curving_assignments:"Aplicando Curvas a tareas",grade_change_notifications:"Notificaciones de Cambios de Calificaciones",how_to_unmute:'Una vez que ha obviado esta tarea, puede comenzar a enviar notificaciones otra vez haciendo click en el enlace "Obviar Tarea".',mute_assignment:"Obviar Tarea",score_change_notifications:"Notificaciones de cambio en calificaciones",see_grade:"La calificación para su tarea",students_will_see:"Los estudiantes podrán ver que esta tarea está obviada.",submission_comments:"Comentarios de los envíos",sure_you_want_to_mute:"¿Está seguro que quiere obviar esta tarea? Mientras esta tarea está obviada, los estudiantes no recibirán nuevas notificaciones acerca o podrá ver:"}},"fa-IR":{mute_dialog:{curving_assignments:"در حال روی منحنی بردن تکلیف ها",grade_change_notifications:"اطلاعیه های تغییر نمره",how_to_unmute:"وقتی این تکلیف را غیر فعال کردید، می توانید با کلیک کردن روی پیوند «فعال کردن تکلیف»، اطلاعیه ها را دوباره ارسال کنید.",mute_assignment:"غیر فعال کردن تکلیف",score_change_notifications:"اطلاعیه های تغییر نمره",see_grade:"نمره آنها برای این تکلیف",students_will_see:"دانشجویان می توانند ببینند که این تکلیف غیرفعال شده است.",submission_comments:"نظرهای مربوط به مورد ارسالی",sure_you_want_to_mute:"مطمئنید که می خواهید این تکلیف غیرفعال شود؟ مادامی که این تکلیف غیرفعال است، دانشجویان اطلاعیه های جدیدی درباره آن دریافت نخواهند کرد و یا قادر به مشاهده آن نخواهند بود:"}},fr:{mute_dialog:{curving_assignments:"Courbe des tâches",grade_change_notifications:"Notifications de changement de notes",how_to_unmute:'Après avoir mis cette tâche en mode silencieux, vous pouvez recommencer à envoyer des notifications en cliquant sur le lien "Annuler une tâche silencieuse".',mute_assignment:"Tâche silencieuse",score_change_notifications:"Notifications de changement de notes",see_grade:"Leur note pour la tâche",students_will_see:"Les étudiants pourront voir que cette tâche est en mode silencieux.",submission_comments:"Commentaires sur l’envoi",sure_you_want_to_mute:"Voulez-vous vraiment mettre cette tâche en mode silencieux ? Tant qu’elle sera en mode silencieux, les étudiants ne reçoivent pas de nouvelles notifications ni ne peuvent afficher :"}},ja:{mute_dialog:{curving_assignments:"課題を分布曲線評価",grade_change_notifications:"成績変更のお知らせ",how_to_unmute:'この課題をミュートにした場合は、再度お知らせの送信を開始するには、"課題のミュート解除" リンクをクリックします。',mute_assignment:"課題をミュートにする",score_change_notifications:"スコア変更のお知らせ",see_grade:"課題に対する成績",students_will_see:"受講生は、この課題がミュートになっていることを確認できます。",submission_comments:"提出コメント",sure_you_want_to_mute:"この課題をミュートにしてもよろしいですか?この課題がミュートになっている間、受講生は以下について表示できず、新しいお知らせも受信しません:"}},ko:{mute_dialog:{curving_assignments:"과제 상대 평가",grade_change_notifications:"평점 변경 알림",how_to_unmute:'이 과제를 평점 비공개로 하고 나면 "과제 평점 공개" 링크를 클릭해서 다시 알림을 보낼 수 있습니다.',mute_assignment:"과제 평점 비공개",score_change_notifications:"점수 변경 알림",see_grade:"과제에 대한 평점",students_will_see:"학생이 이 과제가 평점 비공개라는 것을 볼 수 있습니다.",submission_comments:"제출물 의견",sure_you_want_to_mute:"이 과제의 평점을 비공개하시겠습니까? 과제가 평점 비공개 상태인 동안에는 학생이 다음 경우에 대한 알림을 받거나 볼 수 없습니다:"}},nb:{mute_dialog:{curving_assignments:"Korrigerer oppgaver",grade_change_notifications:"Kunngjøring om endring i karakterer",how_to_unmute:'Når du har gjort denne oppgaven utilgjengelig, kan du begynne å sende kunngjøringer igjen ved å klikke "Gjør oppgaven tilgjengelig" lenken.',mute_assignment:"Skjul oppgaven",score_change_notifications:"Varsler om endrede resultater",see_grade:"Deres karakter for oppgaven",students_will_see:"Studentene vil være i stand til å se at denne oppgaven er gjort utilgjengelig.",submission_comments:"Innleveringskommentarer",sure_you_want_to_mute:"Er du sikker på at du vil gjøre denne oppgaven utilgjengelig? Mens oppgaven er utilgjengelig, vil studentene ikke motta nye varsler om eller kunne se:"}},nl:{mute_dialog:{curving_assignments:"Cijfers van opdrachten bijstellen",grade_change_notifications:"Meldingen over cijfer-wijziging",how_to_unmute:'Eens je de opdracht  verborgen hebt, kun je weer meldingen versturen als je op de link "Opheffen verbergen opdracht " hebt geklikt.',mute_assignment:"Opdracht verbergen",score_change_notifications:"Meldingen over score-wijziging",see_grade:"Hun cijfer voor de opdracht",students_will_see:"Cursisten kunnen zien dat deze opdracht wordt verborgen.",submission_comments:"Opmerkingen over inzending",sure_you_want_to_mute:"Weet je zeker dat je deze opdracht wilt verbergen? Terwijl deze opdracht verborgen wordt, zullen cursisten geen nieuwe meldingen ontvangen. Ze kunnen ze ook niet zien:"}},pl:{mute_dialog:{curving_assignments:"Tworzenie krzywej ocen dla zadań",grade_change_notifications:"Powiadomienia o zmianie oceny",how_to_unmute:"Po ukryciu zadania można ponowić wysyłanie powiadomień, klikając łącze „Odkryj zadanie”.",mute_assignment:"Ukryj zadanie",score_change_notifications:"Powiadomienia o zmianie wyniku punktowego",see_grade:"Ich ocena za zadanie",students_will_see:"Uczestnicy będą widzieć, że zadanie zostało ukryte.",submission_comments:"Komentarze do przesłanego zadania",sure_you_want_to_mute:"Czy na pewno chcesz ukryć to zadanie? Gdy zadanie jest ukryte, uczestnicy nie otrzymują nowych powiadomień ani nie mogą zobaczyć:"}},pt:{mute_dialog:{curving_assignments:"Relativizando as tarefas",grade_change_notifications:"Notificações de alteração de nota",how_to_unmute:'Uma vez que silenciar esta tarefa, é possível começar a enviar notificações novamente clicando no link "Dessilenciar tarefa".',mute_assignment:"Silenciar tarefa",score_change_notifications:"Notificações de alteração de pontuação",see_grade:"Sua nota para a tarefa",students_will_see:"Os alunos poderão ver que esta tarefa foi silenciada.",submission_comments:"Comentários do envio",sure_you_want_to_mute:"Tem certeza que deseja silenciar esta tarefa? Enquanto esta tarefa estiver silenciada, os alunos não receberão novas notificações sobre ela, nem poderão ver:"}},"pt-BR":{mute_dialog:{curving_assignments:"Relativizando as tarefas",grade_change_notifications:"Notificações de alteração de nota",how_to_unmute:'Uma vez que silenciar esta tarefa, é possível começar a enviar notificações novamente clicando no link "Dessilenciar tarefa".',mute_assignment:"Silenciar tarefa",score_change_notifications:"Notificações de alteração de pontuação",see_grade:"Sua nota para a tarefa",students_will_see:"Os alunos poderão ver que esta tarefa foi silenciada.",submission_comments:"Comentários do envio",sure_you_want_to_mute:"Tem certeza que deseja silenciar esta tarefa? Enquanto esta tarefa estiver silenciada, os alunos não receberão novas notificações sobre ela, nem poderão ver:"}},ru:{mute_dialog:{curving_assignments:"Кривая оценок для заданий",grade_change_notifications:"Уведомления об изменении оценки",how_to_unmute:'После отключения звука данного задания можно начать снова отправлять уведомления, нажав на ссылку "Включить звук задания".',mute_assignment:"Отключить звук задания",score_change_notifications:"Уведомления об изменении оценки",see_grade:"Их оценка за это задание",students_will_see:"Студенты смогут видеть, что звук этого задания отключен.",submission_comments:"Комментарии отправки",sure_you_want_to_mute:"Действительно хотите отключить звук этого задания? Пока звук этого задания отключен, студенты не будут получать новые уведомления и не смогут просматривать:"}},tr:{mute_dialog:{curving_assignments:"Ödevlere çan eğrisi uygulama",grade_change_notifications:"Değerlendirme bildirimleri değişikliği",how_to_unmute:'Bu ödevi askıya aldıktan sonra  "Ödevi Etkinleştir" bağlantısına tıklayarak yeniden bildirim göndermeye başlayabilirsiniz.',mute_assignment:"Ödevi Beklet",score_change_notifications:"Puan değişikliği bildirimleri",see_grade:"Ödev için onların notu",students_will_see:"Öğrenciler bu ödevin askıya alındığını görebilecekler.",submission_comments:"Gönderim yorumları",sure_you_want_to_mute:"Bu ödevi askıya almak istediğinize emin misiniz? Bu ödev askıdayken öğenciler yeni bildirim almayacak ve şunları göremeyecekler:"}},zh:{mute_dialog:{curving_assignments:"曲线作业",grade_change_notifications:"评分更改通知",how_to_unmute:'一旦您取消静音此作业，即可通过单击"取消静音作业"链接再次开始发送通知。',mute_assignment:"屏蔽作业",score_change_notifications:"分数更改通知",see_grade:"其作业的评分",students_will_see:"学生将能够看到此作业已静音。",submission_comments:"提交评论",sure_you_want_to_mute:"是否确定要静音此作业?此作业静音时，学生将不会收到关于以下内容的新通知或无法看到:"}}}})}),define("jst/mute_dialog",["compiled/handlebars_helpers","i18n!mute_dialog"],function(e){var t=e.template,n=e.templates=e.templates||{};return n.mute_dialog=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s,r,l="",u=n.helperMissing;return l+='<div title="',s=n.t||t&&t.t,r={hash:{scope:"mute_dialog"},data:i},a=s?s.call(t,"mute_assignment","Mute Assignment",r):u.call(t,"t","mute_assignment","Mute Assignment",r),(a||0===a)&&(l+=a),l+='">\n  <div id="assignment_muter_content" tabindex="-1">\n    <p>\n      ',s=n.t||t&&t.t,r={hash:{scope:"mute_dialog"},data:i},a=s?s.call(t,"sure_you_want_to_mute","Are you sure you want to mute this assignment? While this assignment is muted, students will not receive new notifications about or be able to see:",r):u.call(t,"t","sure_you_want_to_mute","Are you sure you want to mute this assignment? While this assignment is muted, students will not receive new notifications about or be able to see:",r),(a||0===a)&&(l+=a),l+="\n    </p>\n    <ul>\n      <li>",s=n.t||t&&t.t,r={hash:{scope:"mute_dialog"},data:i},a=s?s.call(t,"see_grade","Their grade for the assignment",r):u.call(t,"t","see_grade","Their grade for the assignment",r),(a||0===a)&&(l+=a),l+="</li>\n      <li>",s=n.t||t&&t.t,r={hash:{scope:"mute_dialog"},data:i},a=s?s.call(t,"grade_change_notifications","Grade change notifications",r):u.call(t,"t","grade_change_notifications","Grade change notifications",r),(a||0===a)&&(l+=a),l+="</li>\n      <li>",s=n.t||t&&t.t,r={hash:{scope:"mute_dialog"},data:i},a=s?s.call(t,"submission_comments","Submission comments",r):u.call(t,"t","submission_comments","Submission comments",r),(a||0===a)&&(l+=a),l+="</li>\n      <li>",s=n.t||t&&t.t,r={hash:{scope:"mute_dialog"},data:i},a=s?s.call(t,"curving_assignments","Curving assignments",r):u.call(t,"t","curving_assignments","Curving assignments",r),(a||0===a)&&(l+=a),l+="</li>\n      <li>",s=n.t||t&&t.t,r={hash:{scope:"mute_dialog"},data:i},a=s?s.call(t,"score_change_notifications","Score change notifications",r):u.call(t,"t","score_change_notifications","Score change notifications",r),(a||0===a)&&(l+=a),l+="</li>\n    </ul>\n    <p>\n      ",s=n.t||t&&t.t,r={hash:{scope:"mute_dialog"},data:i},a=s?s.call(t,"students_will_see","Students will be able to see that this assignment is muted.",r):u.call(t,"t","students_will_see","Students will be able to see that this assignment is muted.",r),(a||0===a)&&(l+=a),l+="\n    </p>\n    <p>\n      ",s=n.t||t&&t.t,r={hash:{scope:"mute_dialog"},data:i},a=s?s.call(t,"how_to_unmute",'Once you have muted this assignment, you can begin sending notifications again by clicking the "Unmute Assignment" link.',r):u.call(t,"t","how_to_unmute",'Once you have muted this assignment, you can begin sending notifications again by clicking the "Unmute Assignment" link.',r),(a||0===a)&&(l+=a),l+="\n    </p>\n  </div>\n</div>\n"}),n.mute_dialog}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("compiled/AssignmentMuter",["i18n!assignment_muter","jquery","jst/mute_dialog","jquery.ajaxJSON","jquery.disableWhileLoading","jqueryui/dialog","vendor/jquery.ba-tinypubsub"],function(t,n,o){var i;return i=function(){function i(t,o,i,a){var s=this;this.$link=t,this.assignment=o,this.url=i,this.setter=a,this.confirmUnmute=e(this.confirmUnmute,this),this.afterUpdate=e(this.afterUpdate,this),this.showDialog=e(this.showDialog,this),this.updateLink=e(this.updateLink,this),this.$link=n(this.$link),this.updateLink(),this.$link.click(function(e){return e.preventDefault(),s.assignment.muted?s.confirmUnmute():s.showDialog()})}return i.prototype.updateLink=function(){return this.$link.text(this.assignment.muted?t.t("unmute_assignment","Unmute Assignment"):t.t("mute_assignment","Mute Assignment"))},i.prototype.showDialog=function(){var e=this;return this.$dialog=n(o()).dialog({buttons:[{text:t.t("mute_assignment","Mute Assignment"),"data-text-while-loading":t.t("muting_assignment","Muting Assignment..."),click:function(){return e.$dialog.disableWhileLoading(n.ajaxJSON(e.url,"put",{status:!0},e.afterUpdate))}}],open:function(){return setTimeout(function(){return e.$dialog.find("#assignment_muter_content").focus()},100)},close:function(){return e.$dialog.remove()},resizable:!1,width:400})},i.prototype.afterUpdate=function(e){return this.setter?this.setter(this.assignment,"muted",e.assignment.muted):this.assignment.muted=e.assignment.muted,this.updateLink(),this.$dialog.dialog("close"),n.publish("assignment_muting_toggled",[this.assignment])},i.prototype.confirmUnmute=function(){var e=this;return this.$dialog=n("<div />").text(t.t("unmute_dialog","This assignment is currently muted. That means students can't see their grades and feedback. Would you like to unmute now?")).dialog({buttons:[{text:t.t("unmute_button","Unmute Assignment"),"data-text-while-loading":t.t("unmuting_assignment","Unmuting Assignment..."),click:function(){return e.$dialog.disableWhileLoading(n.ajaxJSON(e.url,"put",{status:!1},e.afterUpdate))}}],close:function(){return e.$dialog.remove()},resizable:!1,title:t.t("unmute_assignment","Unmute Assignment"),width:400})},i}()})}.call(this),define("translations/set_default_grade_dialog",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{set_default_grade_dialog:{default_grades:"منح كافة الطلاب نفس الدرجة الخاصة بـ *%{assignment.name}* عن طريق إدخال قيمة درجة وإرسالها أدناه:",dialog_title:"الدرجة الافتراضية لـ %{assignment.name}",overwrite:"الكتابة فوق الدرجات التي تم إدخالها بالفعل",set_grades_button:"تعيين الدرجة الافتراضية",set_grades_button_loading:"جارٍ تعيين الدرجات..."}},de:{set_default_grade_dialog:{default_grades:"Vergeben Sie an alle Studenten die gleiche Note für *%{assignment.name}*, indem Sie unten eine Note eingeben und absenden:",dialog_title:"Standardnote für %{assignment.name}",overwrite:"Bereits eingegebene Noten überschreiben",set_grades_button:"Standardnote festlegen",set_grades_button_loading:"Noten werden vergeben..."}},"en-AU":{set_default_grade_dialog:{default_grades:"Give all students the same grade for *%{assignment.name}* by entering and submitting a grade value below:",dialog_title:"Default grade for %{assignment.name}",overwrite:"Overwrite already-entered grades",set_grades_button:"Set Default Grade",set_grades_button_loading:"Setting Grades..."}},"en-GB":{set_default_grade_dialog:{default_grades:"Give all students the same grade for *%{assignment.name}* by entering and submitting a grade value below:",dialog_title:"Default grade for %{assignment.name}",overwrite:"Overwrite already-entered grades",set_grades_button:"Set default grade",set_grades_button_loading:"Setting grades..."}},es:{set_default_grade_dialog:{default_grades:"Dar a todos los estudiantes la misma calificación para *%{assignment.name}* ingresando y enviando un valor de la calificación a continuación:",dialog_title:"Calificación Predeterminada para %{assignment.name}",overwrite:"Sobrescribir calificaciones que ya se han ingresado",set_grades_button:"Establecer una Calificación Predeterminada",set_grades_button_loading:"Estableciendo Calificaciones..."}},"fa-IR":{set_default_grade_dialog:{default_grades:"با وارد کردن و ارسال یک مقدار نمره در قسمت زیر، برای *%{assignment.name}* به همه دانشجویان نمره یکسان بدهید:",dialog_title:"نمره پیش فرض برای %{assignment.name}",overwrite:"رونویسی نمره هایی که وارد شده اند",set_grades_button:"تعیین نمره پیش فرض",set_grades_button_loading:"در حال تعیین نمره ها..."}},fr:{set_default_grade_dialog:{default_grades:"Donner à tous les étudiants la même note pour *%{assignment.name}* en entrant et en envoyant une valeur de note ci-dessous :",dialog_title:"Note par défaut pour %{assignment.name}",overwrite:"Remplacer les notes déjà entrées",set_grades_button:"Définir la note par défaut",set_grades_button_loading:"Configuration des notes..."}},ja:{set_default_grade_dialog:{default_grades:"以下に成績値を入力して送信することによって、*%{assignment.name}* については、すべての受講生に同じ成績を与える:",dialog_title:"%{assignment.name} の既定の成績",overwrite:"既に入力されている成績を上書き",set_grades_button:"既定の成績の設定",set_grades_button_loading:"成績を設定しています..."}},ko:{set_default_grade_dialog:{default_grades:"아래에 평점 값을 입력해서 모든 학생에게 *%{assignment.name}*에 대한 동일한 평점을 주십시오:",dialog_title:"%{assignment.name}의 기본 평점",overwrite:"이미 입력한 평점을 다시 정의",set_grades_button:"기본 평점 설정",set_grades_button_loading:"평점 설정 중..."}},nb:{set_default_grade_dialog:{default_grades:"Gi alle studentene samme karakter for *%{assignment.name}* ved å skrive inn en karakterverdi nedenfor:",dialog_title:"Standardkarakter for %{assignment.name}",overwrite:"Overskriv karakterene som er lagt inn allerede",set_grades_button:"Sett standardkarakter",set_grades_button_loading:"Setter karakterer…"}},nl:{set_default_grade_dialog:{default_grades:"Aan alle cursisten hetzelfde cijfer geven voor *%{assignment.name}* door hieronder een cijfer in te voeren en in te zenden:",dialog_title:"Standaardcijfer voor %{assignment.name}",overwrite:"Reeds ingevoerde cijfers overschrijven",set_grades_button:"Standaardcijfer instellen",set_grades_button_loading:"Bezig met cijfers instellen..."}},pl:{set_default_grade_dialog:{default_grades:"Wystaw wszystkim uczestnikom tę samą ocenę za zadanie *%{assignment.name}*, wpisując i przesyłając ocenę podaną poniżej:",dialog_title:"Ocena domyślna za zadanie %{assignment.name}",overwrite:"Zastąp wprowadzone oceny",set_grades_button:"Ustaw ocenę domyślną",set_grades_button_loading:"Trwa ustawianie ocen..."}},pt:{set_default_grade_dialog:{default_grades:"Dar a todos os alunos a mesma nota para *%{assignment.name}*, inserindo e enviando um valor de nota abaixo:",dialog_title:"Nota padrão para %{assignment.name}",overwrite:"Sobrescrever notas já inseridas",set_grades_button:"Definir nota padrão",set_grades_button_loading:"Definindo notas..."}},"pt-BR":{set_default_grade_dialog:{default_grades:"Dar a todos os alunos a mesma nota para *%{assignment.name}*, inserindo e enviando um valor de nota abaixo:",dialog_title:"Nota padrão para %{assignment.name}",overwrite:"Sobrescrever notas já inseridas",set_grades_button:"Definir nota padrão",set_grades_button_loading:"Definindo notas..."}},ru:{set_default_grade_dialog:{default_grades:"Назначьте всем студентам одну оценку для *%{assignment.name}*, введя и отправив значение оценки ниже:",dialog_title:"Оценка по умолчанию для %{assignment.name}",overwrite:"Перезаписать уже существующие оценки",set_grades_button:"Установить оценку по умолчанию",set_grades_button_loading:"Установка оценок..."}},tr:{set_default_grade_dialog:{default_grades:"*%{assignment.name}* sınavında tüm öğrencilere aynı not verilecektir. Bunun için bir not değeri girin ve ardından notlandırın : ",dialog_title:"%{assignment.name} varsayılan notu",overwrite:"Önceden girilmiş notların üzerine yaz",set_grades_button:"Var Sayılan Notu Ayarla",set_grades_button_loading:"Notlar Ayarlanıyor..."}},zh:{set_default_grade_dialog:{default_grades:"通过输入并提交下面的评分值为所有学生给出相同的 *%{assignment.name}* 评分:",dialog_title:"%{assignment.name} 的默认评分",overwrite:"覆盖已输入的评分",set_grades_button:"设置默认评分",set_grades_button_loading:"正在设置评分..."}}}})
}),define("jst/SetDefaultGradeDialog",["compiled/handlebars_helpers","i18n!set_default_grade_dialog","jst/_grading_box"],function(e){var t=e.template,n=e.templates=e.templates||{};return n.SetDefaultGradeDialog=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),o=this.merge(o,e.partials),i=i||{};var a,s,r,l="",u="function",d=this.escapeExpression,c=n.helperMissing,g=this;return l+='<form action="',(s=n.url)?a=s.call(t,{hash:{},data:i}):(s=t&&t.url,a=typeof s===u?s.call(t,{hash:{},data:i}):s),l+=d(a)+'" method="POST" title="',s=n.t||t&&t.t,r={hash:{scope:"set_default_grade_dialog"},data:i},a=s?s.call(t,"dialog_title","Default grade for %{assignment.name}",r):c.call(t,"t","dialog_title","Default grade for %{assignment.name}",r),(a||0===a)&&(l+=a),l+='">\n  <input type="hidden" name="assignment_id" class="assignment_id" value="'+d((a=t&&t.assignment,a=null==a||a===!1?a:a.id,typeof a===u?a.apply(t):a))+'"/>\n  <div>\n    ',s=n.t||t&&t.t,r={hash:{scope:"set_default_grade_dialog",w0:"<b>$1</b>"},data:i},a=s?s.call(t,"default_grades","Give all students the same grade for *%{assignment.name}* by entering and submitting a grade value below:",r):c.call(t,"t","default_grades","Give all students the same grade for *%{assignment.name}* by entering and submitting a grade value below:",r),(a||0===a)&&(l+=a),l+='\n  </div>\n  <p style="text-align: center;" class="grading_box_holder">\n    ',a=g.invokePartial(o.grading_box,"grading_box",t,n,o,i),(a||0===a)&&(l+=a),l+='\n  </p>\n  <div>\n    <input type="checkbox" name="overwrite_existing_grades" id="overwrite_existing_grades_for_'+d((a=t&&t.assignment,a=null==a||a===!1?a:a.id,typeof a===u?a.apply(t):a))+'"/>\n    <label for="overwrite_existing_grades_for_'+d((a=t&&t.assignment,a=null==a||a===!1?a:a.id,typeof a===u?a.apply(t):a))+'">',s=n.t||t&&t.t,r={hash:{scope:"set_default_grade_dialog"},data:i},a=s?s.call(t,"overwrite","Overwrite already-entered grades",r):c.call(t,"t","overwrite","Overwrite already-entered grades",r),(a||0===a)&&(l+=a),l+='</label>\n  </div>\n  <button type="submit" class="btn" data-text-while-loading="',s=n.t||t&&t.t,r={hash:{scope:"set_default_grade_dialog"},data:i},a=s?s.call(t,"set_grades_button_loading","Setting Grades...",r):c.call(t,"t","set_grades_button_loading","Setting Grades...",r),(a||0===a)&&(l+=a),l+='">',s=n.t||t&&t.t,r={hash:{scope:"set_default_grade_dialog"},data:i},a=s?s.call(t,"set_grades_button","Set Default Grade",r):c.call(t,"t","set_grades_button","Set Default Grade",r),(a||0===a)&&(l+=a),l+="</button>\n</form>\n"}),n.SetDefaultGradeDialog}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=[].slice;define("compiled/gradebook2/SetDefaultGradeDialog",["i18n!gradebook2","jquery","jst/SetDefaultGradeDialog","underscore","jquery.disableWhileLoading","jquery.instructure_forms","jqueryui/dialog","jquery.instructure_misc_plugins","vendor/jquery.ba-tinypubsub","compiled/jquery/fixDialogButtons","jst/_grading_box"],function(n,o,i,a){var s,r;return s=50,r=function(){function r(t){this.assignment=t.assignment,this.students=t.students,this.context_id=t.context_id,this.selected_section=t.selected_section,this.initDialog=e(this.initDialog,this),this.initDialog()}return r.prototype.initDialog=function(){var e,r,l,u,d,c=this;return d={assignment:this.assignment,showPointsPossible:(this.assignment.points_possible||"0"===this.assignment.points_possible)&&"gpa_scale"!==this.assignment.grading_type,url:"/courses/"+this.context_id+"/gradebook/update_submission",inputName:"default_grade"},d["assignment_grading_type_is_"+this.assignment.grading_type]=!0,this.$dialog=o(i(d)),this.$dialog.dialog({resizable:!1,width:350,open:function(){return c.$dialog.find(".grading_box").focus()},close:function(){return c.$dialog.remove()}}).fixDialogButtons(),e=this.$dialog,e.submit(function(i){var d,g,m,h,p;return i.preventDefault(),p=o.Deferred(),e.disableWhileLoading(p),d=e.getFormData(),h=l(),g=function(){var e;for(e=[];h.length;)e.push(h.splice(0,s));return e}(),m=g.map(function(t){var n,i;return i=r(t,d.default_grade),n=a.extend({},i,{dont_overwrite_grades:!d.overwrite_existing_grades}),o.ajaxJSON(e.attr("action"),"POST",n)}),o.when.apply(o,m).then(function(){var e,i;return e=1<=arguments.length?t.call(arguments,0):[],1===m.length&&(e=[e]),i=u(e),o.publish("submissions_updated",[i]),alert(n.t("alerts.scores_updated",{one:"1 Student score updated",other:"%{count} Student scores updated"},{count:i.length})),p.resolve(),c.$dialog.remove()})}),l=function(){return c.selected_section?a(c.students).filter(function(e){return a.include(e.sections,c.selected_section)}):a(c.students).values()},r=function(e,t){return a.chain(e).map(function(e){var n;return n="submissions[submission_"+e.id+"]",[[""+n+"[assignment_id]",c.assignment.id],[""+n+"[user_id]",e.id],[""+n+"[grade]",t]]}).flatten(!0).object().value()},u=function(e){return a.chain(e).map(function(e){var t,n,o;return t=e[0],o=e[1],[function(){var e,o,i;for(i=[],e=0,o=t.length;o>e;e++)n=t[e],i.push(n.submission);return i}()]}).flatten().value()}},r}()})}.call(this),define("translations/curve_grades_dialog",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{curve_grades_dialog:{average_score:"متوسط الدرجات",buttons:{curve_grades:"منحنى الدرجات",curving_grades:"منحنى الدرجات..."},curve_average:"أدخل متوسط الدرجات الخاص بمنحنى *%{assignment.name}*. يوضح المخطط أفضل محاولة لمنحنى الدرجات وفقًا لدرجات الطالب الحالية.",curve_grade_for_assignment:"منحنى الدرجات الخاص بـ %{assignment.name}",labels:{assign_blanks:"تخصيص الأصفار للطلاب الذين لم يتم إرسالهم"},out_of_points_possible:"من %{assignment.points_possible}",this_is_permanent:"لا يمكن التراجع عن إنشاء منحنى للدرجات. ستتوفر محفزظات الدرجة التي تم إنشاء منحنى لها مسبقًا، إلا أنه لا يمكن التراجع عن إجراء إنشاء منحنى."}},de:{curve_grades_dialog:{average_score:"Punktedurchschnitt",buttons:{curve_grades:"Noten anpassen",curving_grades:"Noten werden angepasst..."},curve_average:"Geben Sie die Durchschnittsnote für die Anpassung von *%{assignment.name}* ein. Die Grafik zeigt den besten Versuch der Anpassung auf der Basis der aktuellen Punktzahlen der Studenten.",curve_grade_for_assignment:"Noten für %{assignment.name} anpassen",labels:{assign_blanks:"Studenten ohne Einsendungen Ausfälle zuweisen"},out_of_points_possible:"von insgesamt %{assignment.points_possible}",this_is_permanent:"Anpassung von Noten kann nicht rückgängig gemacht werden. Die Verläufe zuvor angepasster Noten sind verfügbar, der Anpassungsvorgang kann jedoch nicht rückgängig gemacht werden."}},"en-AU":{curve_grades_dialog:{average_score:"Average Score",buttons:{curve_grades:"Curve Grades",curving_grades:"Curving Grades..."},curve_average:"Enter an average grade for the curve for *%{assignment.name}*. The chart shows a best attempt at curving the grades based on current student scores.",curve_grade_for_assignment:"Curve Grade for %{assignment.name}",labels:{assign_blanks:"Assign zeroes to unsubmitted students"},out_of_points_possible:"out of %{assignment.points_possible}",this_is_permanent:"Grade curving cannot be undone. Pre-curved grade histories will be available, but the curving action is irreversible."}},"en-GB":{curve_grades_dialog:{average_score:"Average score",buttons:{curve_grades:"Curve grades",curving_grades:"Curving grades..."},curve_average:"Enter an average grade for the curve for *%{assignment.name}*. The chart shows a best attempt at curving the grades based on current student scores.",curve_grade_for_assignment:"Curve grade for %{assignment.name}",labels:{assign_blanks:"Assign zeroes to unsubmitted students"},out_of_points_possible:"out of %{assignment.points_possible}",this_is_permanent:"Grade curving cannot be undone. Pre-curved grade histories will be available, but the curving action is irreversible."}},es:{curve_grades_dialog:{average_score:"Calificación Promedio",buttons:{curve_grades:"Aplicar Curva a Calificaciones",curving_grades:"Aplicando Curva a las Calificaciones..."},curve_average:"Ingrese una calificación promedio para *%{assignment.name}*. El cuadro muestra el mejor intento en aplicar la curva a las calificaciones basado en las calificaciones actuales.",curve_grade_for_assignment:"Aplique Curva para %{assignment.name}",labels:{assign_blanks:"Asignar cero a estudiantes que no han hecho envíos"},out_of_points_possible:"de %{assignment.points_possible}",this_is_permanent:"No se puede deshacer la aplicación de la curva a las calificaciones. Se proporcionarán los historiales de calificación previos a la curva, pero la aplicación de la curva es irreversible."}},"fa-IR":{curve_grades_dialog:{average_score:"میانگین نمره",buttons:{curve_grades:"روی منحنی بردن نمره ها",curving_grades:"در حال روی منحنی بردن نمره ها..."},curve_average:"یک میانگین نمره را برای منحنی مربوط به *%{assignment.name}* وارد کنید. نمودار بهترین اقدام را برای روی منحنی بردن نمره ها بر اساس نمره های فعلی دانشجو نشان می دهد.",curve_grade_for_assignment:"روی منحنی بردن نمره برای %{assignment.name}",labels:{assign_blanks:"تخصیص صفر به دانشجویانی که ارسال نکرده اند"},out_of_points_possible:"از %{assignment.points_possible}",this_is_permanent:"روی منحنی بردن نمره را نمی توان لغو کرد. تاریخچه نمره از پیش روی منحنی برده شده موجود خواهد بود، اما اقدام روی منحنی بردن غیر قابل برگشت است."}},fr:{curve_grades_dialog:{average_score:"Note moyenne",buttons:{curve_grades:"Courbe des notes",curving_grades:"Création de la courbe..."},curve_average:"Entrez une note moyenne pour la courbe pour *%{assignment.name}*. Le graphique affiche sa meilleure proposition de normalisation des notes en fonction des notes actuelles des étudiants.",curve_grade_for_assignment:"Courbe des notes pour %{assignment.name}",labels:{assign_blanks:"Attribuer un zéro aux tâches non envoyées"},out_of_points_possible:"sur %{assignment.points_possible}",this_is_permanent:"La courbe de notation ne peut pas être annulée. Les historiques restent disponibles, mais l’action relative à la courbe est irréversible."}},ja:{curve_grades_dialog:{average_score:"平均スコア",buttons:{curve_grades:"分布曲線に基づいた評価",curving_grades:"分布曲線に基づいて評価..."},curve_average:"*%{assignment.name}* の分布曲線について、平均の成績を入力します。グラフに、受講生の現在のスコアに基づいた採点の最適な試みが示されます。",curve_grade_for_assignment:"%{assignment.name} についての分布曲線評価",labels:{assign_blanks:"未提出の受講生にゼロを割り当てる"},out_of_points_possible:"配点: %{assignment.points_possible}",this_is_permanent:"分布曲線評価は取り消しできません。分布曲線評価を行う前の成績の履歴は利用できますが、分布曲線評価の処理は取り消すことができません。"}},ko:{curve_grades_dialog:{average_score:"평균 점수",buttons:{curve_grades:"상대 평가",curving_grades:"상대 평가 중..."},curve_average:"*%{assignment.name}*의 상대 평가를 위한 평균 평점을 입력하십시오. 차트는 현재 학생의 점수를 바탕으로 상대 평가에서 최선의 시도를 표시합니다.",curve_grade_for_assignment:"%{assignment.name}에 대해 상대 평가",labels:{assign_blanks:"제출하지 않은 학생에게 0점 할당"},out_of_points_possible:"/ %{assignment.points_possible}",this_is_permanent:"상대 평가를 실행 취소할 수 없습니다. 상대 평가 이전의 평점 이력은 사용할 수 있으나 상대 평가 동작은 되돌릴 수 없습니다."}},nb:{curve_grades_dialog:{average_score:"Gjennomsnittlig resultat",buttons:{curve_grades:"Korriger karakterer",curving_grades:"Korrigerer karakterer…"},curve_average:"Skriv inn en gjennomsnittskarakter for korrigeringen til *%{assignment.name}*. Oversikten viser det beste forsøket på å korrigere karakterene basert på resultatene til de nåværende studentene.",curve_grade_for_assignment:"Korriger karakterer i %{assignment.name}",labels:{assign_blanks:"Gi nullkarakter til studenter som ikke har levert"},out_of_points_possible:"av %{assignment.points_possible}",this_is_permanent:"Korrigerte karakterer kan ikke gjøres om. Informasjon om karakterer før korrigeringen vil være tilgjengelig, men korrigeringen er ikke reversibel."}},nl:{curve_grades_dialog:{average_score:"Gemiddelde score",buttons:{curve_grades:"Cijfers bijstellen",curving_grades:"Bezig met bijstellen van cijfers..."},curve_average:"Een gemiddeld cijfer invoeren voor de verdeling voor *%{assignment.name}*. De grafiek toont een beste poging voor het bijstellen van de cijfers op basis van de huidige scores van cursisten.",curve_grade_for_assignment:"Cijfers bijstellen voor %{assignment.name}",labels:{assign_blanks:"Nullen toewijzen aan cursisten die geen opdracht ingediend hebben"},out_of_points_possible:"vanuit %{assignment.points_possible}",this_is_permanent:"Gewijzigde cijferverdeling kan niet ongedaan gemaakt worden. De cijfers van vóór de cijferverdeling zijn nog wel beschikbaar, maar de gewijzigde verdeling kan niet teruggedraaid worden."}},pl:{curve_grades_dialog:{average_score:"Średni wynik punktowy",buttons:{curve_grades:"Krzywa ocen",curving_grades:"Trwa wyznaczanie krzywej ocen..."},curve_average:"Wprowadź średnią ocenę dla krzywej dla zadania *%{assignment.name}*. Wykres przedstawia możliwie najlepiej wyznaczoną krzywą ocen na podstawie bieżących wyników uczestników.",curve_grade_for_assignment:"Wyznacz krzywą dla %{assignment.name}",labels:{assign_blanks:"Przydziel wartości zerowe studentom bez zadania"},out_of_points_possible:"na %{assignment.points_possible} możliwych",this_is_permanent:"Wyznaczania krzywej ocen nie można cofnąć. Wstępne krzywe ocen będą dostępne, jednak czynność wyznaczania krzywych jest nieodwracalna."}},pt:{curve_grades_dialog:{average_score:"Pontuação média",buttons:{curve_grades:"Relativizar as notas de acordo com a curva",curving_grades:"Relativizando as notas..."},curve_average:"Insira uma nota média para a curva de distribuição de *%{assignment.name}*. O gráfico mostra a melhor tentativa de distribuir relativamente as notas baseado na curva de pontos atual dos alunos.",curve_grade_for_assignment:"Relativizar as notas de acordo com a curva para %{assignment.name}",labels:{assign_blanks:"Atribuir zero aos alunos que não enviaram"},out_of_points_possible:"de %{assignment.points_possible}",this_is_permanent:"A atribuição de notas em curva não pode ser anulada. Os históricos de notas pré-curva estarão disponíveis, mas a ação de curva é irreversível."}},"pt-BR":{curve_grades_dialog:{average_score:"Pontuação média",buttons:{curve_grades:"Relativizar as notas de acordo com a curva",curving_grades:"Relativizando as notas..."},curve_average:"Insira uma nota média para a curva de distribuição de *%{assignment.name}*. O gráfico mostra a melhor tentativa de distribuir relativamente as notas baseado na curva de pontos atual dos alunos.",curve_grade_for_assignment:"Relativizar as notas de acordo com a curva para %{assignment.name}",labels:{assign_blanks:"Atribuir zero aos alunos que não enviaram"},out_of_points_possible:"de %{assignment.points_possible}",this_is_permanent:"Uma relativização de notas não pode ser desfeita. Históricos de notas relativizadas estarão disponíveis, mas a ação de relativização de notas é irreversível."}},ru:{curve_grades_dialog:{average_score:"Средний балл",buttons:{curve_grades:"Создание кривой оценок",curving_grades:"Создание кривой оценок..."},curve_average:"Введите среднюю оценку для кривой для *%{assignment.name}*. На рисунке отображается лучшая попытка на кривой оценок на основе текущих оценок студента.",curve_grade_for_assignment:"Кривая оценок для %{assignment.name}",labels:{assign_blanks:"Назначение нулей студентам, не отправившим задания"},out_of_points_possible:"из %{assignment.points_possible}",this_is_permanent:"Ранжирование оценок не может быть отменено. История оценок до ранжирования будет доступна, но ранжирование необратимо."}},tr:{curve_grades_dialog:{average_score:"Ortalama Puan",buttons:{curve_grades:"Çan Eğrisi Notları",curving_grades:"Notları Çan Eğrisine Ayarlıyor"},curve_average:"*%{assignment.name}* çan eğrisi için ortalama bir not girin. Tabloda mevcut öğrenci puanlarına göre notları çan eğrisine uyarlamada en iyi deneme görünüyor.",curve_grade_for_assignment:"%{assignment.name} için Çan Eğrisi Notu",labels:{assign_blanks:"Ödev göndermeyen öğrencilere sıfır ver"},out_of_points_possible:"%{assignment.points_possible} üzerinden",this_is_permanent:"Not çan eğrisi oluşturma geri alınamaz. Önceden çan eğrisi oluşturulmuş notların geçmişi kullanılabilir fakat çan eğrisi oluşturma geri alınamaz."}},zh:{curve_grades_dialog:{average_score:"平均分数",buttons:{curve_grades:"曲线评分",curving_grades:"正在计算曲线评分..."},curve_average:"输入 *%{assignment.name}* 的曲线平均评分。图表显示根据当前学生分数计算曲线评分的最佳方法。",curve_grade_for_assignment:"%{assignment.name} 的曲线评分",labels:{assign_blanks:"对未提交的学生分配零"},out_of_points_possible:"满分 %{assignment.points_possible} 分",this_is_permanent:"曲线评分无法撤消。将提供预先进行曲线计算的评分历史记录，但曲线计算操作不可逆。"}}}})}),define("jst/CurveGradesDialog",["compiled/handlebars_helpers","i18n!curve_grades_dialog"],function(e){var t=e.template,n=e.templates=e.templates||{};return n.CurveGradesDialog=t(function(e,t,n,o,i){function a(e,t){var o,i,a,s="";return s+="\n      ",i=n.t||e&&e.t,a={hash:{scope:"curve_grades_dialog"},data:t},o=i?i.call(e,"out_of_points_possible","out of %{assignment.points_possible}",a):d.call(e,"t","out_of_points_possible","out of %{assignment.points_possible}",a),(o||0===o)&&(s+=o),s+="\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,r,l,u="",d=n.helperMissing,c="function",g=this.escapeExpression,m=this;return u+='<form action="',(r=n.action)?s=r.call(t,{hash:{},data:i}):(r=t&&t.action,s=typeof r===c?r.call(t,{hash:{},data:i}):r),u+=g(s)+'" id="curve_grade_dialog" style="display: none;" title="',r=n.t||t&&t.t,l={hash:{scope:"curve_grades_dialog"},data:i},s=r?r.call(t,"curve_grade_for_assignment","Curve Grade for %{assignment.name}",l):d.call(t,"t","curve_grade_for_assignment","Curve Grade for %{assignment.name}",l),(s||0===s)&&(u+=s),u+='">\n  <input type="hidden" name="_method" value="POST"/>\n  <input type="hidden" name="assignment_id" class="assignment_id" value="'+g((s=t&&t.assignment,s=null==s||s===!1?s:s.id,typeof s===c?s.apply(t):s))+'" />\n  <p>\n    ',r=n.t||t&&t.t,l={hash:{scope:"curve_grades_dialog",w0:"<b>$1</b>"},data:i},s=r?r.call(t,"curve_average","Enter an average grade for the curve for *%{assignment.name}*. The chart shows a best attempt at curving the grades based on current student scores.",l):d.call(t,"t","curve_average","Enter an average grade for the curve for *%{assignment.name}*. The chart shows a best attempt at curving the grades based on current student scores.",l),(s||0===s)&&(u+=s),u+='\n  </p>\n  <div style="min-height: 100px;">\n    <table cellpadding="0" cellspacing="0">\n      <tr id="results_list"></tr>\n      <tr id="results_values"></tr>\n    </table>\n  </div>\n  <p style="text-align: center;">\n    ',r=n.t||t&&t.t,l={hash:{scope:"curve_grades_dialog"},data:i},s=r?r.call(t,"average_score","Average Score",l):d.call(t,"t","average_score","Average Score",l),(s||0===s)&&(u+=s),u+='\n    <input type="number" min="0" name="middle_score" id="middle_score" style="width: 45px;" value="',(r=n.middleScore)?s=r.call(t,{hash:{},data:i}):(r=t&&t.middleScore,s=typeof r===c?r.call(t,{hash:{},data:i}):r),u+=g(s)+'"/>\n    ',s=n["if"].call(t,t&&t.showOutOf,{hash:{},inverse:m.noop,fn:m.program(1,a,i),data:i}),(s||0===s)&&(u+=s),u+="\n  </p>\n  <p>\n    "+g((r=n.checkbox||t&&t.checkbox,l={hash:{},data:i},r?r.call(t,"assign_blanks",l):d.call(t,"checkbox","assign_blanks",l)))+'\n    <label for="assign_blanks">',r=n.t||t&&t.t,l={hash:{scope:"curve_grades_dialog"},data:i},s=r?r.call(t,"labels.assign_blanks","Assign zeroes to unsubmitted students",l):d.call(t,"t","labels.assign_blanks","Assign zeroes to unsubmitted students",l),(s||0===s)&&(u+=s),u+='</label>\n  </p>\n  <div class="alert alert-danger">\n    <p>\n      ',r=n.t||t&&t.t,l={hash:{scope:"curve_grades_dialog"},data:i},s=r?r.call(t,"this_is_permanent","Grade curving cannot be undone. Pre-curved grade histories will be available, but the curving action is irreversible.",l):d.call(t,"t","this_is_permanent","Grade curving cannot be undone. Pre-curved grade histories will be available, but the curving action is irreversible.",l),(s||0===s)&&(u+=s),u+='\n    </p>\n  </div>\n  <button data-text-while-loading="',r=n.t||t&&t.t,l={hash:{scope:"curve_grades_dialog"},data:i},s=r?r.call(t,"buttons.curving_grades","Curving Grades...",l):d.call(t,"t","buttons.curving_grades","Curving Grades...",l),(s||0===s)&&(u+=s),u+='" type="submit" class="btn btn-primary">\n    ',r=n.t||t&&t.t,l={hash:{scope:"curve_grades_dialog"},data:i},s=r?r.call(t,"buttons.curve_grades","Curve Grades",l):d.call(t,"t","buttons.curve_grades","Curve Grades",l),(s||0===s)&&(u+=s),u+="\n  </button>\n</form>\n"}),n.CurveGradesDialog}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("compiled/gradebook2/CurveGradesDialog",["i18n!gradebook2","jquery","jst/CurveGradesDialog","jquery.disableWhileLoading","jquery.instructure_forms","jqueryui/dialog","jquery.instructure_misc_plugins","compiled/jquery/fixDialogButtons","vendor/jquery.ba-tinypubsub"],function(t,n,o){var i;return i=function(){function i(i){var a,s,r=this;this.assignment=i.assignment,this.students=i.students,a=i.context_url,this.curve=e(this.curve,this),s={assignment:this.assignment,action:""+a+"/gradebook/update_submission",middleScore:parseInt(.6*(this.assignment.points_possible||0)),showOutOf:this.assignment.points_possible>=0},this.$dialog=n(o(s)),this.$dialog.formSubmit({disableWhileLoading:!0,processData:function(e){var n,o,i,a,s,l;if(!r.assignment.points_possible||"0"===r.assignment.points_possible)return i=r.$dialog.errorBox(t.t("errors.no_points_possible","Cannot curve without points possible")),setTimeout(function(){return i.fadeOut(function(){return i.remove()})},3500),!1;n=0,o=r.curve();for(a in o)l="submissions[submission_"+a+"]",e[l+"[assignment_id]"]=e.assignment_id,e[l+"[user_id]"]=a,"gpa_scale"===r.assignment.grading_type?(s=o[a]/r.assignment.points_possible*100,e[l+"[grade]"]=""+s+"%"):e[l+"[grade]"]=o[a],n++;return 0===n?(i=r.$dialog.errorBox(t.t("errors.none_to_update","None to Update")),setTimeout(function(){return i.fadeOut(function(){return i.remove()})},3500),!1):e},success:function(e){var o,i;return r.$dialog.dialog("close"),i=function(){var t,n,i;for(i=[],t=0,n=e.length;n>t;t++)o=e[t],i.push(o.submission);return i}(),n.publish("submissions_updated",[i]),alert(t.t("alerts.scores_updated",{one:"1 Student score updated",other:"%{count} Student scores updated"},{count:e.length}))}}).dialog({width:350,modal:!0,resizable:!1,open:this.curve,close:function(){return r.$dialog.remove()}}).fixDialogButtons(),this.$dialog.find("#middle_score").bind("blur change keyup focus",this.curve),this.$dialog.find("#assign_blanks").change(this.curve)}return i.prototype.curve=function(){var e,t,o,i,a,s,r,l,u,d,c,g,m,h,p,_,f,v,b,y,w,k,C,x,S,z,M,A,E,T;if(c=0,v={},r=this.$dialog.getFormData(),z=[],f=0,h=parseInt(n("#middle_score").val(),10),h/=this.assignment.points_possible,b=n("#assign_blanks").prop("checked"),!isNaN(h)){T=this.students;for(c in T)w=T[c],k=w["assignment_"+this.assignment.id],_=null!=k?k.score:void 0,_>this.assignment.points_possible&&(_=this.assignment.points_possible),(0>_||null==_&&b)&&(_=0),z[parseInt(_,10)]=z[parseInt(_,10)]||[],z[parseInt(_,10)].push([c,_||0]),f++;for(o=[.006,.012,.028,.04,.068,.106,.159,.227,.309,.401,.5,.599,.691,.773,.841,.894,.933,.96,.977,.988,1],g=(1-h)/Math.floor(o.length/2),t=[],e=[],c=0;c<o.length;)e.push(1-g*c),t.push(Math.round((1-g*c)*this.assignment.points_possible)),c++;for(C=0,u={},s=0,n("#results_list").empty(),n("#results_values").empty(),d=[],c=z.length-1;c>=0;){for(S=z[c]||[],_=Math.round(t[s]),A=0,E=S.length;E>A;A++)x=S[A],u[x[0]]=_,0===x[1]&&(u[x[0]]=0),l=u[x[0]],d[l]=d[l]||[],d[l].push(x[0]);for(C+=S.length;C>o[s]*f;)s++;c--}for(m=0,c=d.length-1;c>=0;)i=(d[c]||[]).length,i>m&&(m=i),c--;for(M=15,y=0,c=d.length-1;c>=0;)S=d[c],p=0,i=0,S||y>this.assignment.points_possible/10?(S&&(p=S.length/m,i=S.length),a=0===c?"#ee8":"#cdf",n("#results_list").prepend("<td style='padding: 1px;'><div title='"+i+" student"+(1===i?"":"s")+" will get "+c+" points' style='border: 1px solid #888; background-color: "+a+"; width: "+M+"px; height: "+100*p+"px; margin-top: "+100*(1-p)+"px;'>&nbsp;</div></td>"),n("#results_values").prepend("<td style='text-align: center;'>"+c+"</td>"),y=0):y++,c--;return n("#results_list").prepend("<td><div style='height: 100px; position: relative; width: 30px; font-size: 0.8em;'><img src='/images/number_of_students.png' alt='# of students'/><div style='position: absolute; top: 0; right: 3px;'>"+m+"</div><div style='position: absolute; bottom: 0; right: 3px;'>0</div></div></td>"),n("#results_values").prepend("<td>&nbsp;</td>"),u}},i}()})}.call(this),define("translations/gradebook2.gradebook_header_menu",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{gradebook2:{gradebook_header_menu:{assignment_details:"تفاصيل المهمة",curve_grades:"منحنى الدرجات",download_submissions:"تنزيل الإرسالات",message_students_who:"رسائل الطلاب الذين...",re_upload_submissions:"إعادة تحميل الإرسالات",set_default_grade:"ضبط الدرجة الافتراضية",speedgrader:"SpeedGrader"}}},de:{gradebook2:{gradebook_header_menu:{assignment_details:"Aufgabendetails",curve_grades:"Noten anpassen",download_submissions:"Einsendungen herunterladen",message_students_who:"Studenten benachrichtigen, auf die Folgendes zutrifft...",re_upload_submissions:"Einsendungen erneut hochladen",set_default_grade:"Standardnote festlegen",speedgrader:"SpeedGrader"}}},"en-AU":{gradebook2:{gradebook_header_menu:{assignment_details:"Assignment Details",curve_grades:"Curve Grades",download_submissions:"Download Submissions",message_students_who:"Message Students Who...",re_upload_submissions:"Re-Upload Submissions",set_default_grade:"Set Default Grade",speedgrader:"SpeedGrader"}}},"en-GB":{gradebook2:{gradebook_header_menu:{assignment_details:"Assignment details",curve_grades:"Curve grades",download_submissions:"Download submissions",message_students_who:"Message students who...",re_upload_submissions:"Reupload submissions",set_default_grade:"Set default grade",speedgrader:"SpeedGrader"}}},es:{gradebook2:{gradebook_header_menu:{assignment_details:"Detalles de la Tarea",curve_grades:"Aplicar Curva a Calificaciones",download_submissions:"Descargar Envios",message_students_who:"Enviar un Mensaje a Estudiantes que...",re_upload_submissions:"Re-Cargar Envios",set_default_grade:"Establecer Calificación Predeterminada",speedgrader:"Calificador Rápido"}}},"fa-IR":{gradebook2:{gradebook_header_menu:{assignment_details:"اطلاعات تکلیف",curve_grades:"روی منحنی بردن نمره ها",download_submissions:"بارگیری موردهای ارسالی",message_students_who:"ارسال پیام برای دانشجویانی که...",re_upload_submissions:" بارگذاری دوباره موردهای ارسالی",set_default_grade:"تعیین نمره پیش فرض",speedgrader:"برنامه نمره گذاری سریع"}}},fr:{gradebook2:{gradebook_header_menu:{assignment_details:"Informations sur la tâche",curve_grades:"Courbe des notes",download_submissions:"Télécharger les envois",message_students_who:"Envoyer un message aux étudiants qui...",re_upload_submissions:"Retélécharger les envois",set_default_grade:"Définir la note par défaut",speedgrader:"SpeedGrader™"}}},ja:{gradebook2:{gradebook_header_menu:{assignment_details:"課題の詳細",curve_grades:"分布曲線に基づいた評価",download_submissions:"提出物のダウンロード",message_students_who:"次の状態の受講生にメッセージを送る...",re_upload_submissions:"提出物の再アップロード",set_default_grade:"既定の成績の設定",speedgrader:"SpeedGrader"}}},ko:{gradebook2:{gradebook_header_menu:{assignment_details:"과제 세부 정보",curve_grades:"상대 평가",download_submissions:"제출물 다운로드",message_students_who:"다음 학생에게 메시지 보내기",re_upload_submissions:"제출물 다시 업로드",set_default_grade:"기본 평점 설정",speedgrader:"SpeedGrader"}}},nb:{gradebook2:{gradebook_header_menu:{assignment_details:"Oppgavedetaljer",curve_grades:"Korriger karakterer",download_submissions:"Last ned innleveringer",message_students_who:"Send beskjed til studenter som...",re_upload_submissions:"Last opp innleveringer på nytt",set_default_grade:"Sett standardkarakter",speedgrader:"SpeedGrader"}}},nl:{gradebook2:{gradebook_header_menu:{assignment_details:"Details van opdrachten",curve_grades:"Cijfers bijstellen",download_submissions:"Inzendingen downloaden",message_students_who:"Bericht naar cursisten sturen die...",re_upload_submissions:"Inzendingen opnieuw uploaden",set_default_grade:"Standaardcijfer instellen",speedgrader:"SpeedGrader"}}},pl:{gradebook2:{gradebook_header_menu:{assignment_details:"Szczegółowe informacje dot. zadania",curve_grades:"Krzywa ocen",download_submissions:"Pobierz przesłane zadania",message_students_who:"Wyślij wiadomość do uczestników, którzy...",re_upload_submissions:"Ponownie przekaż zadania",set_default_grade:"Ustaw ocenę domyślną",speedgrader:"SpeedGrader"}}},pt:{gradebook2:{gradebook_header_menu:{assignment_details:"Detalhes da tarefa",curve_grades:"Relativizar as notas de acordo com a curva",download_submissions:"Baixar envios",message_students_who:"Enviar mensagem aos alunos que...",re_upload_submissions:"Fazer novamente o upload dos envios",set_default_grade:"Definir nota padrão",speedgrader:"SpeedGrader"}}},"pt-BR":{gradebook2:{gradebook_header_menu:{assignment_details:"Detalhes da tarefa",curve_grades:"Relativizar as notas de acordo com a curva",download_submissions:"Baixar envios",message_students_who:"Enviar mensagem aos alunos que...",re_upload_submissions:"Fazer novamente o upload dos envios",set_default_grade:"Definir nota padrão",speedgrader:"SpeedGrader"}}},ru:{gradebook2:{gradebook_header_menu:{assignment_details:"Сведения о задании",curve_grades:"Создание кривой оценок",download_submissions:"Загрузить отправки",message_students_who:"Отправить сообщения студентов, которые...",re_upload_submissions:"Повторно загрузить отправки",set_default_grade:"Установить оценку по умолчанию",speedgrader:"SpeedGrader"}}},tr:{gradebook2:{gradebook_header_menu:{assignment_details:"Ödev Ayrıntıları",curve_grades:"Çan Eğrisi Notları",download_submissions:"Gönderileri İndir",message_students_who:"... Yapan Öğrencileri Göster",re_upload_submissions:"Gönderileri Yeniden Yükle",set_default_grade:"Var Sayılan Notu Ayarla",speedgrader:"SpeedGrader"}}},zh:{gradebook2:{gradebook_header_menu:{assignment_details:"作业详细信息",curve_grades:"曲线评分",download_submissions:"下载提交文件",message_students_who:"给相关学生发送信息",re_upload_submissions:"重新上传提交文件",set_default_grade:"设置默认评分",speedgrader:"快速评分器"}}}}})}),define("jst/gradebook2/GradebookHeaderMenu",["compiled/handlebars_helpers","i18n!gradebook2.gradebook_header_menu"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/GradebookHeaderMenu"]=t(function(e,t,n,o,i){function a(e,t){var o,i,a,s="";return s+='\n    <li><a href="',(i=n.speedGraderUrl)?o=i.call(e,{hash:{},data:t}):(i=e&&e.speedGraderUrl,o=typeof i===d?i.call(e,{hash:{},data:t}):i),s+=c(o)+'">',i=n.t||e&&e.t,a={hash:{scope:"gradebook2.gradebook_header_menu"},data:t},o=i?i.call(e,"speedgrader","SpeedGrader",a):g.call(e,"t","speedgrader","SpeedGrader",a),(o||0===o)&&(s+=o),s+="</a></li>\n  "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,r,l,u="",d="function",c=this.escapeExpression,g=n.helperMissing,m=this;return u+='<ul class="gradebook-header-menu">\n  <li><a data-action="showAssignmentDetails" href="',(r=n.assignmentUrl)?s=r.call(t,{hash:{},data:i}):(r=t&&t.assignmentUrl,s=typeof r===d?r.call(t,{hash:{},data:i}):r),u+=c(s)+'">',r=n.t||t&&t.t,l={hash:{scope:"gradebook2.gradebook_header_menu"},data:i},s=r?r.call(t,"assignment_details","Assignment Details",l):g.call(t,"t","assignment_details","Assignment Details",l),(s||0===s)&&(u+=s),u+="</a></li>\n  ",s=n["if"].call(t,t&&t.speedGraderUrl,{hash:{},inverse:m.noop,fn:m.program(1,a,i),data:i}),(s||0===s)&&(u+=s),u+='\n  <li><a data-action="messageStudentsWho" href="#">',r=n.t||t&&t.t,l={hash:{scope:"gradebook2.gradebook_header_menu"},data:i},s=r?r.call(t,"message_students_who","Message Students Who...",l):g.call(t,"t","message_students_who","Message Students Who...",l),(s||0===s)&&(u+=s),u+='</a></li>\n  <li><a data-action="setDefaultGrade" href="#">',r=n.t||t&&t.t,l={hash:{scope:"gradebook2.gradebook_header_menu"},data:i},s=r?r.call(t,"set_default_grade","Set Default Grade",l):g.call(t,"t","set_default_grade","Set Default Grade",l),(s||0===s)&&(u+=s),u+='</a></li>\n  <li><a data-action="curveGrades" href="#">',r=n.t||t&&t.t,l={hash:{scope:"gradebook2.gradebook_header_menu"},data:i},s=r?r.call(t,"curve_grades","Curve Grades",l):g.call(t,"t","curve_grades","Curve Grades",l),(s||0===s)&&(u+=s),u+='</a></li>\n  <li><a data-action="downloadSubmissions" href="#">',r=n.t||t&&t.t,l={hash:{scope:"gradebook2.gradebook_header_menu"},data:i},s=r?r.call(t,"download_submissions","Download Submissions",l):g.call(t,"t","download_submissions","Download Submissions",l),(s||0===s)&&(u+=s),u+='</a></li>\n  <li><a data-action="reuploadSubmissions" href="#">',r=n.t||t&&t.t,l={hash:{scope:"gradebook2.gradebook_header_menu"},data:i},s=r?r.call(t,"re_upload_submissions","Re-Upload Submissions",l):g.call(t,"t","re_upload_submissions","Re-Upload Submissions",l),(s||0===s)&&(u+=s),u+='</a></li>\n  <li><a data-action="toggleMuting" href="#"></a></li>\n</ul>\n'
}),n["gradebook2/GradebookHeaderMenu"]}),define("translations/re_upload_submissions_form",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{re_upload_submissions_form:{buttons:{upload:"تحميل الملفات"},reupload_submission_files:"إعادة تحميل ملفات الإرسال",upload_info:"إذا أجريت تغييرات في ملفات إرسال الطلاب التي قمت بتنزيلها من قبل، فما عليك سوى ضغطها مرة أخرى وتحميل الملف المضغوط مع النموذج أدناه. وسيرى الطلاب الملفات المعدلة في تعليقاتهم للإرسال.",upload_warning:"تأكد من عدم تغيير أسماء ملفات الإرسال حتى نستطيع التعرف عليها."}},de:{re_upload_submissions_form:{buttons:{upload:"Dateien hochladen"},reupload_submission_files:"Einsendungsdateien erneut hochladen",upload_info:"Wenn Sie Änderungen an den heruntergeladenen Einsendungen der Studenten vorgenommen haben, komprimieren Sie die Einsendungen erneut und laden Sie die Zip-datei über das unten stehende Formular hoch. Die geänderten Dateien werden den Studenten in den Einsendungskommentaren angezeigt.",upload_warning:"Bitte achten Sie darauf, dass die Namen der eingesandten Dateien unverändert bleiben, sodass eine eindeutige Zuordnung möglich ist."}},"en-AU":{re_upload_submissions_form:{buttons:{upload:"Upload Files"},reupload_submission_files:"Re-Upload Submission Files",upload_info:"If you made changes to the student submission files you downloaded before, just zip them back up and upload the zip with the form below. Students will see the modified files in their comments for the submission.",upload_warning:"Make sure you don't change the names of the submission files so we can recognize them."}},"en-GB":{re_upload_submissions_form:{buttons:{upload:"Upload files"},reupload_submission_files:"Reupload submission files",upload_info:"If you made changes to the student submission files you downloaded before, just zip them back up and upload the zip with the form below. Students will see the modified files in their comments for the submission.",upload_warning:"Make sure you don't change the names of the submission files so we can recognise them."}},es:{re_upload_submissions_form:{buttons:{upload:"Cargar Archivos"},reupload_submission_files:"Volver a Cargar Archivos de los Envíos",upload_info:"Si hizo cambios a los archivos de envíos de estudiantes que descargó anteriormente, sólo comprímalos y cargue el archivo zip con el formulario a continuación. Los estudiantes verán los archivos modificados en sus comentarios para el envío.",upload_warning:"Asegurese que no cambie los nombres de los archivos de envío para poder reconocerlos."}},"fa-IR":{re_upload_submissions_form:{buttons:{upload:"بارگذاری فایل ها"},reupload_submission_files:"بارگذاری دوباره فایل های ارسالی",upload_info:"اگر در فایل های ارسالی دانشجو که قبلا بارگیری کرده اید، تغییراتی ایجاد کردید، آنها را دوباره فشرده کنید و فایل فشرده را با استفاده از فرم زیر بارگذاری نمایید. دانشجویان فایل های تغییر یافته را در نظرهای مربوط به مورد ارسالی خود مشاهده خواهند کرد.",upload_warning:"مطمئن شوید که نام فایل های ارسالی را تغییر ندهید تا بتوانیم آنها را شناسایی کنیم."}},fr:{re_upload_submissions_form:{buttons:{upload:"Charger des fichiers"},reupload_submission_files:"Retélécharger les fichiers d’envoi",upload_info:"Si vous avez apporté des modifications aux fichiers d’envois de l’étudiant que vous avez téléchargés , compressez-les puis téléchargez le fichier zip avec le formulaire ci-dessous. Les étudiants verront les fichiers modifiés dans les commentaires de leur envoi.",upload_warning:"Assurez-vous de ne pas modifier les noms des fichiers d’envoi afin que nous puissions les reconnaître."}},ja:{re_upload_submissions_form:{buttons:{upload:"ファイルのアップロード"},reupload_submission_files:"提出ファイルの再アップロード",upload_info:"以前にダウンロードした、その受講生からの提出ファイルに変更を加えた場合は、zip ファイルに圧縮しなおして、下のフォームと一緒にアップロードしてください。受講生には、提出用のコメント内に、修正済みのファイルが表示されます。",upload_warning:"ファイル名で区別しますので、提出ファイルのファイル名は変更しないでください。"}},ko:{re_upload_submissions_form:{buttons:{upload:"파일 업로드"},reupload_submission_files:"제출물 파일 다시 업로드",upload_info:"이전에 다운로드한 학생의 제출물 파일을 바꿨다면 다시 압축해서 아래 양식에 압축 파일을 업로드하십시오. 학생이 제출물 파일에 대한 의견에서 변경된 파일을 볼 수 있습니다.",upload_warning:"파일의 이름을 인식할 수 있도록 제출물 파일의 이름을 변경하지 마십시오."}},nb:{re_upload_submissions_form:{buttons:{upload:"Last opp filer"},reupload_submission_files:"Last opp innleveringsfiler på nytt",upload_info:"Om du endret de innleverte filene du lastet ned, komprimer de til zip-format og last opp zip-filen med skjemaet nedenfor. Studentene vil se de modifiserte filene via kommentarfeltet for innleveringen. ",upload_warning:"Ikke endre navn på innleveringsfiler slik at vi kan gjenkjenne de."}},nl:{re_upload_submissions_form:{buttons:{upload:"Upload bestanden"},reupload_submission_files:"Ingestuurde bestanden opnieuw uploaden",upload_info:"Als u wijzigingen hebt aanbracht in bestanden die leerlingen hebben ingeleverd, zipt u ze opnieuw en uploadt u de zip met het onderstaande formulier. Leerlingen zullen dan de aangepaste bestanden ontvangen.",upload_warning:"Let op dat u de naam van de ingeleverde bestanden niet wijzigt. Hieraan kan Canvas de bestanden herkennen."}},pl:{re_upload_submissions_form:{buttons:{upload:"Przekaż pliki"},reupload_submission_files:"Ponownie przekaż pliki z zadaniem",upload_info:"W przypadku wprowadzenia zmian do pobranych wcześniej plików z zadaniami należy spakować je ponownie i przekazać paczkę wraz z poniższym formularzem. Uczestnicy będą widzieć zmodyfikowane pliki w komentarzach do przesłanego zadania.",upload_warning:"Upewnij się, że nazwy plików nie zostały zmienione, gdyż system może ich nie rozpoznać."}},pt:{re_upload_submissions_form:{buttons:{upload:"Enviar arquivos (upload)"},reupload_submission_files:"Fazer novamente o upload dos arquivos do envio",upload_info:"Se tiver efetuado alterações nos ficheiros enviados do aluno descarregados anteriormente, é só fazer novamente o zip e enviar o ficheiro zip com o formulário abaixo. Os alunos verão os ficheiros modificados nos seus comentários para o envio.",upload_warning:"Certifique-se de não alterar os nomes dos arquivos enviados, para que possamos reconhecê-los."}},"pt-BR":{re_upload_submissions_form:{buttons:{upload:"Enviar arquivos (upload)"},reupload_submission_files:"Fazer novamente o upload dos arquivos do envio",upload_info:"Se forem feitas alterações nos arquivos enviados pelo aluno que você baixou anteriormente, é só fazer novamente o zip e enviar este zip com o formulário abaixo. Os alunos verão os arquivos modificados em seus comentários para o envio.",upload_warning:"Certifique-se de não alterar os nomes dos arquivos enviados, para que possamos reconhecê-los."}},ru:{re_upload_submissions_form:{buttons:{upload:"Загрузить файлы"},reupload_submission_files:"Повторно загрузить файлы отправки",upload_info:"Если в файлы отправок студентов ранее вносились изменения, просто заархивируйте их и загрузите ZIP-файл, используя форму ниже. Студенты будут видеть измененные файлы в комментариях для отправки.",upload_warning:"Убедитесь, что имена файлов подписок не изменены, чтобы их можно было распознать."}},tr:{re_upload_submissions_form:{buttons:{upload:"Dosya Yükle"},reupload_submission_files:"Ödev Gönderilerini Yeniden Yükle",upload_info:"Daha önce indirdiğiniz öğrencilerin gönderdikleri dosyalarda değişiklik yaptıysanız bunları zip dosyası olarak sıkıştırıp aşağıdaki form ile birlikte bu zipli dosyayı yükleyin. Öğrenciler değiştirilmiş dosyaları gönderi yorumlarında görecekler.",upload_warning:"Gönderi dosyalarının adlarını değiştirmeyin ki bunları algılayabilelim."}},zh:{re_upload_submissions_form:{buttons:{upload:"上传文件"},reupload_submission_files:"重新上传提交文件",upload_info:"如果您对此前下载的学生提交文件作出了更改，只需压缩其备份并使用以下表单上传该压缩文件。学生将在其提交评论中看到修改的文件。",upload_warning:"确保不要更改提交文件的名称，以便我们组织。"}}}})}),define("jst/re_upload_submissions_form",["compiled/handlebars_helpers","i18n!re_upload_submissions_form"],function(e){var t=e.template,n=e.templates=e.templates||{};return n.re_upload_submissions_form=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s,r,l="",u=n.helperMissing,d="function",c=this.escapeExpression;return l+='<form action="." enctype="multipart/form-data" id="re_upload_submissions_form" method="post" style="display: none;" title="',s=n.t||t&&t.t,r={hash:{scope:"re_upload_submissions_form"},data:i},a=s?s.call(t,"reupload_submission_files","Re-Upload Submission Files",r):u.call(t,"t","reupload_submission_files","Re-Upload Submission Files",r),(a||0===a)&&(l+=a),l+='">\n  <input type="hidden" name=\'authenticity_token\' value="',(s=n.authenticityToken)?a=s.call(t,{hash:{},data:i}):(s=t&&t.authenticityToken,a=typeof s===d?s.call(t,{hash:{},data:i}):s),l+=c(a)+'">\n  <p>\n    ',s=n.t||t&&t.t,r={hash:{scope:"re_upload_submissions_form"},data:i},a=s?s.call(t,"upload_info","If you made changes to the student submission files you downloaded before, just zip them back up and upload the zip with the form below. Students will see the modified files in their comments for the submission.",r):u.call(t,"t","upload_info","If you made changes to the student submission files you downloaded before, just zip them back up and upload the zip with the form below. Students will see the modified files in their comments for the submission.",r),(a||0===a)&&(l+=a),l+="\n  </p>\n  <p>\n    <i>",s=n.t||t&&t.t,r={hash:{scope:"re_upload_submissions_form"},data:i},a=s?s.call(t,"upload_warning","Make sure you don't change the names of the submission files so we can recognize them.",r):u.call(t,"t","upload_warning","Make sure you don't change the names of the submission files so we can recognize them.",r),(a||0===a)&&(l+=a),l+='</i>\n  </p>\n  <input type="file" name="submissions_zip"/>\n  <button type="submit" class="btn">',s=n.t||t&&t.t,r={hash:{scope:"re_upload_submissions_form"},data:i},a=s?s.call(t,"buttons.upload","Upload Files",r):u.call(t,"t","buttons.upload","Upload Files",r),(a||0===a)&&(l+=a),l+="</button>\n</form>\n"}),n.re_upload_submissions_form}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("compiled/gradebook2/GradebookHeaderMenu",["i18n!gradebook2","jquery","message_students","compiled/AssignmentDetailsDialog","compiled/AssignmentMuter","compiled/gradebook2/SetDefaultGradeDialog","compiled/gradebook2/CurveGradesDialog","jst/gradebook2/GradebookHeaderMenu","jst/re_upload_submissions_form","underscore","jquery.instructure_forms","jqueryui/dialog","jquery.instructure_misc_helpers","jquery.instructure_misc_plugins","compiled/jquery.kylemenu"],function(t,n,o,i,a,s,r,l,u,d){var c;return c=function(){function o(t,o,i){var s,r=this;this.assignment=t,this.$trigger=o,this.gradebook=i,this.reuploadSubmissions=e(this.reuploadSubmissions,this),this.downloadSubmissions=e(this.downloadSubmissions,this),this.curveGrades=e(this.curveGrades,this),this.setDefaultGrade=e(this.setDefaultGrade,this),this.messageStudentsWho=e(this.messageStudentsWho,this),this.showAssignmentDetails=e(this.showAssignmentDetails,this),s={assignmentUrl:""+this.gradebook.options.context_url+"/assignments/"+this.assignment.id,speedGraderUrl:""+this.gradebook.options.context_url+"/gradebook/speed_grader?assignment_id="+this.assignment.id},this.gradebook.options.speed_grader_enabled||(s.speedGraderUrl=null),this.gradebook.allSubmissionsLoaded.done(function(){return r.allSubmissionsLoaded=!0}),this.$menu=n(l(s)).insertAfter(this.$trigger),this.$trigger.kyleMenu({noButton:!0}),this.$menu.appendTo("#gradebook_grid").delegate("a","click",function(e){var t;return t=r[n(e.target).data("action")],t?(t(),!1):void 0}).bind("popupopen popupclose",function(e){return r.$trigger.toggleClass("ui-menu-trigger-menu-is-open","popupopen"===e.type),"popupclose"===e.type&&null!=e.originalEvent&&"focusout"!==e.originalEvent.type?setTimeout(function(){return r.gradebook.grid.editActiveCell()},0):void 0}).bind("popupopen",function(){var e,t,n,o;n={showAssignmentDetails:r.allSubmissionsLoaded,messageStudentsWho:r.allSubmissionsLoaded,setDefaultGrade:r.allSubmissionsLoaded,curveGrades:r.allSubmissionsLoaded&&"pass_fail"!==r.assignment.grading_type&&r.assignment.points_possible,downloadSubmissions:(""+r.assignment.submission_types).match(/(online_upload|online_text_entry|online_url)/)&&r.assignment.has_submitted_submissions,reuploadSubmissions:r.assignment.submissions_downloads>0},o=[];for(e in n)t=n[e],o.push(r.$menu.find("[data-action="+e+"]").showIf(t));return o}).popup("open"),new a(this.$menu.find("[data-action=toggleMuting]"),this.assignment,""+this.gradebook.options.context_url+"/assignments/"+this.assignment.id+"/mute")}return o.prototype.showAssignmentDetails=function(e){return null==e&&(e={assignment:this.assignment,students:this.gradebook.students}),new i(e)},o.prototype.messageStudentsWho=function(e){var o,i,a,s,r;return null==e&&(e={assignment:this.assignment,students:this.gradebook.students}),s=e.students,o=e.assignment,s=d.map(s,function(e){var t;return t=e["assignment_"+o.id],{id:e.id,name:e.name,score:null!=t?t.score:void 0,submitted_at:null!=t?t.submitted_at:void 0}}),r=o.submission_types,i=!0,0===r.length?i=!1:1===r.length&&(i=!d.include(["none","on_paper"],r[0])),a=[{text:t.t("students_who.havent_submitted_yet","Haven't submitted yet")},{text:t.t("students_who.havent_been_graded","Haven't been graded")},{text:t.t("students_who.scored_less_than","Scored less than"),cutoff:!0},{text:t.t("students_who.scored_more_than","Scored more than"),cutoff:!0}],i||a.splice(0,1),window.messageStudents({options:a,title:o.name,points_possible:o.points_possible,students:s,context_code:"course_"+o.course_id,callback:function(e,o,i){return i=n.grep(i,function(n){var i;return i=n.user_data,e===t.t("students_who.havent_submitted_yet","Haven't submitted yet")?!i.submitted_at&&null==i.score:e===t.t("students_who.havent_been_graded","Haven't been graded")?null==i.score:e===t.t("students_who.scored_less_than","Scored less than")?null!=i.score&&""!==i.score&&null!=o&&i.score<o:e===t.t("students_who.scored_more_than","Scored more than")?null!=i.score&&""!==i.score&&null!=o&&i.score>o:void 0}),n.map(i,function(e){return e.user_data.id})},subjectCallback:function(e,n){return n=n||"",e===t.t("students_who.not_submitted_yet","Haven't submitted yet")?t.t("students_who.no_submission_for","No submission for %{assignment}",{assignment:o.name}):e===t.t("students_who.havent_been_graded","Haven't been graded")?t.t("students_who.no_grade_for","No grade for %{assignment}",{assignment:o.name}):e===t.t("students_who.scored_less_than","Scored less than")?t.t("students_who.scored_less_than_on","Scored less than %{cutoff} on %{assignment}",{assignment:o.name,cutoff:n}):e===t.t("students_who.scored_more_than","Scored more than")?t.t("students_who.scored_more_than_on","Scored more than %{cutoff} on %{assignment}",{assignment:o.name,cutoff:n}):void 0}})},o.prototype.setDefaultGrade=function(e){return null==e&&(e={assignment:this.assignment,students:this.gradebook.students,context_id:this.gradebook.options.context_id,selected_section:this.gradebook.sectionToShow}),new s(e)},o.prototype.curveGrades=function(e){return null==e&&(e={assignment:this.assignment,students:this.gradebook.students,context_url:this.gradebook.options.context_url}),new r(e)},o.prototype.downloadSubmissions=function(){var e,t,o;return e=n.replaceTags(this.gradebook.options.download_assignment_submissions_url,"assignment_id",this.assignment.id),INST.downloadSubmissions(e),this.assignment.submissions_downloads=(null!=(o=(t=this.assignment).submissions_downloads)?o:t.submissions_downloads=0)+1},o.prototype.reuploadSubmissions=function(){var e,i;return this.$re_upload_submissions_form||(e={authenticityToken:n("#ajax_authenticity_token").text()},o.prototype.$re_upload_submissions_form=n(u(e)).dialog({width:400,modal:!0,resizable:!1,autoOpen:!1}).submit(function(){var e;return e=n(this).getFormData(),e.submissions_zip?e.submissions_zip.match(/\.zip$/)?void 0:(n(this).formErrors({submissions_zip:t.t("errors.upload_as_zip","Please upload files as a .zip")}),!1):!1})),i=n.replaceTags(this.gradebook.options.re_upload_submissions_url,"assignment_id",this.assignment.id),this.$re_upload_submissions_form.attr("action",i).dialog("open")},o}()})}.call(this),function(){define("compiled/util/NumberCompare",["underscore"],function(e){return function(t,n,o){var i;return null==o&&(o={}),i=e.isNumber(t)?e.isNumber(n)?o.descending?n-t:t-n:-1:e.isNumber(n)?1:0}})}.call(this),define("translations/gradebook_uploads_form",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{gradebook_uploads_form:{buttons:{upload_data:"تحميل البيانات"},example_csv_file:"مثال ملف CSV",existing_assignment_example:"مهمة موجودة (581)",explanation_of_required_columns:"يجب أن يكون لديك *كل* هذه الأعمدة، إنك *تحتاج* فقط واحد لكل صف.",instructions:{csv_download_and_upload:"إن كنت في شك، فيمكنك دائمًا *تنزيل ملف CSV* وتغيير الدرجات التي تريدها وإعادة تحميل نفس الملف."},labels:{upload:"اختيار ملف CSV لتحميله:"},leaving_id_will_match_better_can_add_new_assignment:'سيساعد ترك المعرّف الصحيح (الجزء "(581)" في هذه الحالة) على إجراء التطابق بشكل أفضل. يمكنك أيضًا إضافة مهام جديدة سيتم إنشاؤها سريعًا.',new_assignment_example:"مهمة جديدة",optional_ignored:"اختيارية، تم تجاهلها.",screenreader_csv_explainer:'ما هي محتويات ملف CSV؟ يجب أن يتوفر العمودان التاليان في الملف الذي تحمّله: "معرف الطالب" و"رقم المهمة الحالية". ويجب أن يشتمل عمود "الطالب" على اسم كل طالب، حسب التنسيق: "الاسم الأخير، الاسم الأول". على سبيل المثال، "أمين، تامر". كما يجب أن تشتمل أعمدة المهام على اسم المهمة متبوعًا بمعرف المهمة بين قوسين. على سبيل المثال، "ورقة عمل الفصل الأول (201)". وإذا كنت تستخدم SIS، فأدرج العمودين التاليين: "معرف مستخدم SIS" و"معرف تسجيل دخول SIS". وإذا كنت ترغب في إنشاء مهمة جديدة، فأدرج عمودًا بعنوان اسم المهمة. على سبيل المثال، "ورقة عمل الاشتقاقات". جدير بالذكر أن الأعمدة التالية اختيارية: "القسم" و"الدرجة الحالية" و"الدرجة النهائية".',titles:{upload_form:"اختيار ملف CSV لتحميله"},what_should_csv_look_like:"ما الشكل الذي يجب أن يكون عليه ملف CSV؟"}},de:{gradebook_uploads_form:{buttons:{upload_data:"Daten hochladen"},example_csv_file:"CSV-beispieldatei",existing_assignment_example:"Bestehende Aufgabe (581)",explanation_of_required_columns:"Sie müssen über *alle* diese Spalten verfügen, Sie *benötigen* nur eine per Zeile.",instructions:{csv_download_and_upload:"Im Zweifelsfall können Sie jederzeit eine *CSV-datei herunterladen*, die betreffenden Noten ändern und dieselbe Datei erneut hochladen."},labels:{upload:"Wählen Sie eine CSV-datei zum Hochladen aus:"},leaving_id_will_match_better_can_add_new_assignment:'Für eine zuverlässige Zuordnung empfiehlt es sich, die ID unverändert zu lassen (in diesem Fall Abschnitt "(581)"). Sie können auch zwischendurch neue Aufgaben hinzufügen.',new_assignment_example:"Eine neue Aufgabe",optional_ignored:"Optional, ignoriert.",screenreader_csv_explainer:'Welchen Inhalt muss meine CSV-Datei haben? Die von Ihnen hochgeladene Datei muss die folgenden Spalten enthalten: "Student", "ID" und "Vorhandene Aufgabe (#)". In der Spalte "Student" müssen die Namen der einzelnen Studenten angegeben sein, im Format Nachname, Vorname. Beispiel: "Schmitt, Thomas". Die Spalte für vorhandene Aufgaben muss den Namen der Aufgabe gefolgt von der Aufgaben-ID in Klammern enthalten. Beispiel, "Arbeitsblatt Kapitel eins (201)". Wenn Sie SIS verwenden, fügen Sie die folgenden Spalten ein: "SIS-Benutzer-ID" und "SIS-Anmelde- ID". Wenn Sie eine neue Aufgabe erstellen möchten, fügen Sie eine Spalte mit dem Namen der Aufgabe ein. Beispiel: "Arbeitsblatt für Derivate". Die folgenden Spalten sind optional: "Kursabschnitt", "Aktuelle Punktzahl", "Gesamtpunktzahl".',titles:{upload_form:"Wählen Sie eine CSV-Datei zum Hochladen aus"},what_should_csv_look_like:"Wie sollte diese CSV-Datei aussehen?"}},"en-AU":{gradebook_uploads_form:{buttons:{upload_data:"Upload Data"},example_csv_file:"Example CSV file",existing_assignment_example:"Existing Assignment (581)",explanation_of_required_columns:"You Must have *all* of these columns, you only *need* one per row.",instructions:{csv_download_and_upload:"If in doubt, you can always *download a CSV*, change the grades you want and re-upload the same file."},labels:{upload:"Choose a CSV file to upload:"},leaving_id_will_match_better_can_add_new_assignment:'Leaving the ID intact (the "(581)" part in this case) will help match better. You can also add new assignments that will be created on the fly.',new_assignment_example:"A New Assignment",optional_ignored:"Optional, ignored.",screenreader_csv_explainer:'What should be in my CSV File? The following columns should be in your upload: "Student", "ID", and "Existing Assignment (#)". The Student column should have the name of each student, formatted as Last Name, First Name. For example, "Smith, John". Existing assignment columns should say the assignment name followed by the assignment ID in parentheses. For example, "Chapter One Worksheet (201)". If you use SIS, include the following columns: "SIS User ID" and "SIS Login ID". If you wish to create a new assignment, include a column titled with the name of the assignment. For example, "Derivatives Worksheet". The following columns are optional: "Section", "Current Score", "Final Score".',titles:{upload_form:"Choose a CSV file to upload"},what_should_csv_look_like:"What should the CSV file look like?"}},"en-GB":{gradebook_uploads_form:{buttons:{upload_data:"Upload data"},example_csv_file:"Example CSV file",existing_assignment_example:"Existing assignment (581)",explanation_of_required_columns:"You must have *all* of these columns. You only *need* one per row.",instructions:{csv_download_and_upload:"If in doubt, you can always *download a CSV*, change the grades you want and re-upload the same file."},labels:{upload:"Choose a CSV file to upload:"},leaving_id_will_match_better_can_add_new_assignment:'Leaving the ID intact (the "(581)" part in this case) will help match better. You can also add new assignments that will be created on the fly.',new_assignment_example:"A new assignment",optional_ignored:"Optional, ignored.",screenreader_csv_explainer:'What should be in my CSV File? The following columns should be in your upload: "Student", "ID", and "Existing Assignment (#)". The Student column should have the name of each student, formatted as Last Name, First Name. For example, "Smith, John". Existing assignment columns should say the assignment name followed by the assignment ID in parentheses. For example, "Chapter One Worksheet (201)". If you use SIS, include the following columns: "SIS User ID" and "SIS Login ID". If you wish to create a new assignment, include a column titled with the name of the assignment. For example, "Derivatives Worksheet". The following columns are optional: "Section", "Current Score", "Final Score".',titles:{upload_form:"Choose a CSV file to upload"},what_should_csv_look_like:"What should the CSV file look like?"}},es:{gradebook_uploads_form:{buttons:{upload_data:"Cargar la Información"},example_csv_file:"Ejemplo de un archivo CSV",existing_assignment_example:"Tarea Existente (581)",explanation_of_required_columns:"Debe tener *todas* estas columnas, solo *necesita* uno por fila.",instructions:{csv_download_and_upload:"Si tiene duda, puede *descargar un CSV*, cambiar las calificaciones que desea y recargar el mismo archivo."},labels:{upload:"Escoger un archivo CSV para cargarlo:"},leaving_id_will_match_better_can_add_new_assignment:'Al dejar el ID intact (la parte "(581)" en este caso) ayudará a hacer el apareamiento más fácil. Puede también agregar tareas nuevas que serán creadas rápidamente.',new_assignment_example:"Una Tarea Nueva",optional_ignored:"Opcional, ignorado.",screenreader_csv_explainer:'¿Qué me debería encontrar en el archivo CSV? Su archivo cargado debería tener las siguientes columnas:  "Alumno", "ID" y "Tarea existente (nº)". En la columna Alumno debe aparecer el nombre de cada alumno, con el siguiente formato: Apellido, Nombre. Por ejemplo, "Smith, John". Las columnas de tareas existentes deberían mostrar el nombre de la tarea seguido de la ID de la tarea entre paréntesis. Por ejemplo, "Hoja de trabajo del capítulo uno (201)". Si utiliza SIS, incluya las siguientes columnas: "ID SIS de usuario" e "ID SIS de inicio de sesión". Si desea crear una nueva tarea, incluya una columna cuyo título coincida con el nombre de la tarea. Por ejemplo, "Hoja de trabajo de derivadas". Las siguientes columnas son optativas: "Sección", "Calificación actual", "Calificación final". ',titles:{upload_form:"Escoger un archivo CSV para cargar"},what_should_csv_look_like:"¿Cómo se debería ver el archivo CSV?"}},"fa-IR":{gradebook_uploads_form:{buttons:{upload_data:"بارگذاری داده ها"},example_csv_file:"نمونه فایل CSV",existing_assignment_example:"تکلیف موجود (581)",explanation_of_required_columns:"باید *همه* این ستون ها را داشته باشید، در هر ردیف فقط به یکی از آنها *نیاز دارید*.",instructions:{csv_download_and_upload:"اگر تردید دارید، همیشه می توانید *یک CSV را بارگیری کنید*، نمره های مورد نظر را تغییر دهید و همان فایل را دوباره بارگذاری کنید."},labels:{upload:"انتخاب یک فایل CSV برای بارگذاری:"},leaving_id_will_match_better_can_add_new_assignment:"تغییر ندادن شناسه (بخش (581) در این مورد)، در مطابقت بهتر مؤثر خواهد بود. همچنین می توانید تکلیف های جدیدی که به سرعت ایجاد می شوند را بیفزایید.",new_assignment_example:"یک تکلیف جدید",optional_ignored:"انتخابی، صرفنظر شد.",screenreader_csv_explainer:'چه چیزهایی باید در فایل CSV من باشد؟ ستون های زیر باید در بارگذاری شما باشد: "دانشجو"، "شناسه" و "تکلیف موجود (#)". ستون دانشجو باید نام هر دانشجو را داشته باشد و با فرمت نام خانودگی، نام باشد. به عنوان مثال، "Smith,John". ستون های تکلیف موجود باید نام تکلیف به همراه شناسه تکلیف را در داخل پرانتز نشان دهند. به عنوان مثال، "کاربرگ فصل یک (201)".  اگر از سامانه اطلاعات دانشجو استفاده می کنید، این ستون های زیر را اضافه کنید : "شناسه کاربری سامانه اطلاعات دانشجو" و "شناسه ی ورود سامانه اطلاعات دانشجو". اگر می خواهید یک تکلیف جدید ایجاد کنید، یک ستون جدید با عنوان نام تکلیف درج کنید. برای مثال، "کاربرگ مشتق ها". ستون های زیر اختیاری هستند: "بخش"، "نمره فعلی"، "نمره نهایی".',titles:{upload_form:"انتخاب یک فایل CSV برای بارگذاری"},what_should_csv_look_like:"فایل CSV باید چطور باشد؟"}},fr:{gradebook_uploads_form:{buttons:{upload_data:"Télécharger les données"},example_csv_file:"Fichier CSV d’exemple",existing_assignment_example:"Tâche existante (581)",explanation_of_required_columns:"Vous avez besoin de *toutes* ces colonnes, vous avez *besoin* d’une seule par ligne.",instructions:{csv_download_and_upload:"Si vous ne savez pas, vous pouvez toujours *télécharger un fichier CSV*, modifier les notes souhaitées et retélécharger le même fichier."},labels:{upload:"Choisissez un fichier CSV à télécharger :"},leaving_id_will_match_better_can_add_new_assignment:'Laisser l’ID intact (la partie "(581)" dans ce cas) aidera à mieux combiner. Vous pouvez aussi ajouter de nouvelles tâches créées à la volée.',new_assignment_example:"Nouvelle tâche",optional_ignored:"Optionnel, ignoré.",screenreader_csv_explainer:"Que doit contenir le fichier CSV ? Les colonnes suivantes doivent être fournies : Étudiant, ID et Travaux existants (n°). La colonne Étudiant doit indiquer le nom de chaque étudiant selon la syntaxe Nom, Prénom. Par exemple, « Smith, John ». La colonne des travaux existants doit afficher le nom du travail suivi de son numéro entre parenthèses. Par exemple, « Fiche de travail du chapitre 1 (201) ». Si vous utilisez SIS, incluez les colonnes suivantes : ID Utilisateur SIS  et ID de connexion SIS. Si vous souhaitez créer un nouveau travail, ajoutez une colonne ayant pour titre le nom du travail en question. Par exemple, « Fiche de travail sur les dérivées ». Les colonnes suivantes sont facultatives : Section, Note actuelle, Note finale.",titles:{upload_form:"Choisissez un fichier CSV à télécharger"},what_should_csv_look_like:"À quoi ressemble le fichier CSV ?"}},ja:{gradebook_uploads_form:{buttons:{upload_data:"データのアップロード"},example_csv_file:"CSV ファイル例",existing_assignment_example:"既存の課題 (581)",explanation_of_required_columns:"これらの列が *すべて* 揃っている必要があります。*1 行に 1 項目* で十分です。",instructions:{csv_download_and_upload:"疑わしい場合は、いつでも *CSV をダウンロード* し、成績を変更して、同じファイルを再度アップロードしてください。"},labels:{upload:"アップロードする CSV ファイルの選択:"},leaving_id_will_match_better_can_add_new_assignment:'ID は変更しないほうが一致しやすくなります (この例では "(581)" という部分)。進行中に作成される新しい課題を追加することもできます。',new_assignment_example:"新しい課題",optional_ignored:"オプションです。無視されました。",screenreader_csv_explainer:"アップロードする CSV ファイルには、「受講生」、「ID」、および「既存の課題 (ID)」の列が必要です。受講生の列には、「山田, 太郎」のように、「姓, 名」の形式で各受講生の名前を指定します。既存の課題の列には、「第 1 章のワークシート (201)」のように、課題の名前の後に、課題 ID をかっこで囲んで指定します。SIS を使用している場合は、「SIS ユーザ ID」と「SIS ログイン ID」の列を含めます。新しい課題を作成する場合は、「派生物のワークシート」のように、課題の名前を指定した列を含めます。「セクション」、「現在のスコア」、「最終的なスコア」の列はオプションです。",titles:{upload_form:"アップロードする CSV ファイルの選択"},what_should_csv_look_like:"CSV ファイルはどのような表示にしたいですか?"}},ko:{gradebook_uploads_form:{buttons:{upload_data:"데이터 업로드"},example_csv_file:"예제 CSV 파일",existing_assignment_example:"기존 과제 (581)",explanation_of_required_columns:"이 열을 *모두* 가져야 하고 행 당 하나가 *필요*합니다.",labels:{upload:"업로드할 CSV 파일 선택:"},leaving_id_will_match_better_can_add_new_assignment:'ID를 그대로 두면(이 경우에는 "(581)" 부분) 일치가 잘되도록 합니다. 곧바로 만드는 새 과제를 추가할 수도 있습니다.',new_assignment_example:"새 과제",optional_ignored:"선택사항 - 무시했습니다.",titles:{upload_form:"업로드할 CSV 파일 선택"},what_should_csv_look_like:"CSV 파일은 어떻게 보입니까?"}},nb:{gradebook_uploads_form:{buttons:{upload_data:"Last opp data"},example_csv_file:"Eksempel CSV fil",existing_assignment_example:"Eksisterende oppgave (581)",explanation_of_required_columns:"Du må ha *alle* disse kolonnene, du *trenger* bare én per rad.",instructions:{csv_download_and_upload:"Om du er i tvil kan du alltids *laste ned en CSV*, endre karakterene du ønsker og laste opp samme fil igjen."},labels:{upload:"Velg en CSV-fil å laste opp:"},leaving_id_will_match_better_can_add_new_assignment:'Ved å la ID være intakt ("(581)" i dette tilfellet) vil det gi bedre samsvar. Du kan også legge til nye oppgaver som opprettes umiddelbart.',new_assignment_example:"En ny oppgave",optional_ignored:"Valgfritt, ignorert.",screenreader_csv_explainer:'Hva bør min CSV Fil inneholde? Følgende kolonner bør være i fila du laster opp: "Student", "ID", og "Eksisterende Oppgave (#)". Student-kolonnen bør ha navnet på hver student, formatert som Etternavn, Fornavn. For eksempel, "Smith, John". Eksisterende oppgave kolonner bør angi navnet på oppgaven etterfulgt av oppgavens ID i parentes. For eksempel, "Chapter One Worksheet (201)". Dersom du benytter SIS, inkluder følgende kolonner: "SIS bruker ID" og "SIS Login ID". Dersom du ønsker å opprette en ny oppgave, inkluder en kolonne med navnet på oppgaven. For eksempel, "Derivatives Worksheet". Følgende kolonner er valgfrie: "Klasse", "Nåværende resultat", "Sluttresultat".',titles:{upload_form:"Velg en CSV for opplasting"},what_should_csv_look_like:"Hvordan bør en CSV fil se ut?"}},nl:{gradebook_uploads_form:{buttons:{upload_data:"Gegevens uploaden"},example_csv_file:"Voorbeeld van CSV bestand",existing_assignment_example:"Bestaande opdracht (581)",explanation_of_required_columns:"Deze kolommen zijn *allemaal* verplicht, je hebt er per rij maar een *nodig*.",instructions:{csv_download_and_upload:"Als je twijfelt, kun je altijd een *CSV downloaden*, de cijfers veranderen die je wilt en hetzelfde bestand opnieuw laden."},labels:{upload:"Een CSV-bestand kiezen om te uploaden:"},leaving_id_will_match_better_can_add_new_assignment:'Door de ID niet te wijzigen (het "(581)"-gedeelte in dit geval) kan de vergelijking verbeterd worden. Je kunt ook nieuwe opdrachten toevoegen, die direct gemaakt worden.',new_assignment_example:"Een nieuwe opdracht",optional_ignored:"Optioneel, genegeerd.",screenreader_csv_explainer:'Wat zou in mijn CSV-bestand moeten staan? Jouw upload zou de volgende kolommen moeten bevatten: "Cursist", "ID", en "Bestaande Opdracht (#)". De kolom cursist moet de naam van iedere cursist bevatten, in het formaat van achternaam, voornaam. Bijvoorbeeld, "Smith, John". De kolommen met bestaande opdracht moeten de naam van de opdracht aangeven gevolgd door het opdracht-ID tussen haakjes. Bijvoorbeeld, "Hoofdstuk 1 worksheet (201)". Als je SIS gebruikt, neem dan de volgende kolommen op: "SIS gebruikers-ID" en "SIS aanmeldings-ID". Als je een nieuwe opdracht wilt maken, neem dan en kolom op met dezelfde naam als de naam van de opdracht. Bijvoorbeeld, "Worksheet deriatieven". De volgende kolommen zijn optioneel: "Sectie", "Huidige cijfer", "Eindcijfer."',titles:{upload_form:"Een CSV-bestand kiezen om te uploaden"},what_should_csv_look_like:"Hoe zou het CSV-bestand er uit moeten zien?"}},pl:{gradebook_uploads_form:{buttons:{upload_data:"Przekaż dane"},example_csv_file:"Przykład pliku CSV",existing_assignment_example:"Istniejące zadanie (581)",explanation_of_required_columns:"*Wszystkie* kolumny Są Niezbędne, *potrzebna* jest tylko jedna w wierszu.",instructions:{csv_download_and_upload:"W przypadku wątpliwości możesz w dowolnym momencie *pobrać plik CSV*, zmienić odpowiednie oceny i ponownie przekazać ten sam plik."},labels:{upload:"Wybierz plik CSV, który chcesz przekazać:"},leaving_id_will_match_better_can_add_new_assignment:'Pozostawienie identyfikatora w niezmienionej formie (część "(581)" w tym przypadku) ułatwi lepsze dopasowanie. Możesz również dodać nowe zadania, które zostaną utworzone w razie potrzeby.',new_assignment_example:"Nowe zadanie",optional_ignored:"Opcjonalne, pominięte.",screenreader_csv_explainer:"Co powinno znajdować się w pliku CSV? Plik powinien zawierać następujące kolumny: „Uczestnik”, „Identyfikator”, „Istniejące zadanie (#)”. W kolumnie Uczestnik należy podać nazwę każdego uczestnika — najpierw nazwisko, następnie imię, np. „Kowalski, Jan”. W kolumnach Istniejące zadania należy wpisać nazwę zadania, a następnie Identyfikator zadania w okrągłym nawiasie, np. „Zadania do rozdziału pierwszego (201)”. Jeśli korzystasz z danych SIS, uwzględnij następujące kolumny: „Identyfikator użytkownika SIS” oraz „Identyfikator loginu SIS”. Jeśli chcesz utworzyć nowe zadanie, uwzględnij kolumnę z nazwą zadania, np. „Zapożyczone zadania”. Następujące kolumny są opcjonalne: „Sekcja”, „Bieżący wynik”, „Końcowy wynik”.",titles:{upload_form:"Wybierz plik CSV, który chcesz przekazać"},what_should_csv_look_like:"Jak powinien wyglądać plik CSV?"}},pt:{gradebook_uploads_form:{buttons:{upload_data:"Atualizar dados"},example_csv_file:"Exemplo de arquivo CSV",existing_assignment_example:"Tarefas existentes (581)",explanation_of_required_columns:"Tem de ter *todas* estas colunas, *precisa* apenas de um por linha.",instructions:{csv_download_and_upload:"Se tiver dúvidas, pode sempre *transferir um ficheiro CSV*, alterar as notas que desejar e carregar novamente o mesmo ficheiro."},labels:{upload:"Selecione um arquivo CSV para fazer upload:"},leaving_id_will_match_better_can_add_new_assignment:'Deixar o ID intacto (a parte "(581)" neste caso) ajudará a uma melhor correspondência. É possível também adicionar novas tarefas que serão criadas instantaneamente.',new_assignment_example:"Uma nova tarefa",optional_ignored:"Opcional, ignorada.",screenreader_csv_explainer:'O que deve estar incluído no meu ficheiro CSV? As colunas que se seguem devem estar incluídas no carregamento: "Aluno", "ID" e "Tarefa existente (n.º)". A coluna de Aluno deve ter o nome de cada aluno, com o formato Apelido, Nome próprio. Por exemplo, "Silva, João". As colunas de Tarefa existente devem ter o nome da tarefa, seguido da identificação da tarefa entre parênteses. Por exemplo, "Ficha do Capítulo Um (201)". Se utilizar SIS, inclua as seguintes colunas: "ID de utilizador SIS" e "ID de login SIS". Se quiser criar uma nova tarefa, inclua uma coluna com o nome igual ao da tarefa. Por exemplo, "Ficha de Derivados". As seguintes colunas são opcionais: "Secção", "Pontuação atual", "Pontuação final".',titles:{upload_form:"Selecione um arquivo CSV para fazer upload"},what_should_csv_look_like:"Qual seria a aparência do arquivo CSV?"}},"pt-BR":{gradebook_uploads_form:{buttons:{upload_data:"Atualizar dados"},example_csv_file:"Exemplo de arquivo CSV",existing_assignment_example:"Tarefas existentes (581)",explanation_of_required_columns:"Você deve ter *todas* estas colunas, você *precisa* apenas de um por linha.",instructions:{csv_download_and_upload:"Se estiver em dúvida, você poderá *baixar um CSV* a qualquer momento, alterar as notas que desejar e reenviar o mesmo arquivo."},labels:{upload:"Selecione um arquivo CSV para fazer upload:"},leaving_id_will_match_better_can_add_new_assignment:'Deixar o ID intacto (a parte "(581)" neste caso) ajudará a uma melhor correspondência. É possível também adicionar novas tarefas que serão criadas instantaneamente.',new_assignment_example:"Uma nova tarefa",optional_ignored:"Opcional, ignorada.",screenreader_csv_explainer:'O que deve constar no arquivo CSV? As seguintes colunas devem constar em seu upload: "Aluno", "ID" e "Teste existente (nº)". A coluna aluno deve ter o nome de cada aluno, formatado como Sobrenome, Nome. Por exemplo, "Smith, John". Colunas de testes existentes devem ter o nome do teste seguido da ID do teste entre parênteses. Por exemplo, "Capítulo Um Planilha (201)". Se você utilizar SIS, inclua as seguintes colunas: "ID de usuário SIS" e "ID de login SIS". Se você desejar criar uma nova tarefa, inclua uma coluna intitulada com o nome da tarefa. Por exemplo, "Planilha Derivados". As seguintes colunas são opcionais: "Seção", "Pontuação atual", "Pontuação final".',titles:{upload_form:"Selecione um arquivo CSV para fazer upload"},what_should_csv_look_like:"Qual seria a aparência do arquivo CSV?"}},ru:{gradebook_uploads_form:{buttons:{upload_data:"Загрузка данных"},example_csv_file:"Пример файла CSV",existing_assignment_example:"Существующее задание (581)",explanation_of_required_columns:"Необходимы *все* эти столбцы, *требуется* только один для строки.",instructions:{csv_download_and_upload:"В случае сомнений всегда можно *загрузить CSV*, изменить необходимые оценки и повторно загрузить этот файл."},labels:{upload:"Выберите CSV-файл для отправки:"},leaving_id_will_match_better_can_add_new_assignment:'Сохранение целого идентификатора (в этом случае часть "(581)") обеспечит большее соответствие. Также можно добавить новые задания, которые будут созданы "на лету".',new_assignment_example:"Новое задание",optional_ignored:"Дополнительно, проигнорировано.",screenreader_csv_explainer:'Что должно быть в моем файле .CSV? В загруженном файле должны быть следующие колонки: "Студент", "Идентификатор" и "Существующее задание (#)". В колонке "Студент" должны содержаться имена каждого из студентов, форматированные в виде: Фамилия, Имя. Например, "Смит, Джон". В колонке "Существующие задания" должны содержаться названия заданий, за которыми идет идентификатор заданий в круглых скобках. Например, "Рабочий лист первой главы (201)". Если вы используете SIS, включите следующие колонки: "SIS идентификатор пользователя" и "Идентификатор SIS входа". Если вы хотите создать новое задание, включите колонку с заголовком в виде названия задания. Например, "Рабочий лист «Производные»". Следующие колонки являются необязательными: "Раздел", "Текущая оценка", "Итоговая оценка".',titles:{upload_form:"Выберите CSV-файл для отправки"},what_should_csv_look_like:"Как должен быть выполнен CSV-файл?"}},tr:{gradebook_uploads_form:{buttons:{upload_data:"Veri Gönder"},example_csv_file:"Örnek CSV dosyası",existing_assignment_example:"Varolan Ödev (581)",explanation_of_required_columns:"Bu sütunların *tümü* olmalı, tek *ihtiyacınız* her satır için bir tane.",instructions:{csv_download_and_upload:"Eğer emin değilseniz her zaman *CSV olarak indirebilir*, istediğiniz notları değiştirip aynı dosyayı tekrar yükleyebilirsiniz."},labels:{upload:"Yüklencek bir CSV dosyası seçin:"},leaving_id_will_match_better_can_add_new_assignment:'ID\'yi olduğu gibi bırakmak (bu durumda "(581)" bölümü) daha iyi eşleştirme sağlayacaktır. Doğaçlama oluşturulan yeni bir ödev de ekleyebilirsiniz.',new_assignment_example:"Yeni Ödev",optional_ignored:"İsteğe bağlı, yok sayıldı.",screenreader_csv_explainer:'CSV Dosyamda neler olmalı? Yükleyeceğiniz dosyada şu sütunlar olmalı: "Student", "ID" ve "Existing Assignment (#)". Öğrenci sütununda her öğrencinin adı Soyadı, Adı şeklinde olmalıdır. Örneğin, \'\'Aydemir, Ece\'\'. Varolan ödev sütunlarında ise ödev adı ve sonrasında parantez içinde ödev ID\'si olmalıdır. Örneğin, Bölüm 01 Ödev (201)\'\'. ÖBS kullanıyorsanız, şu sütunları da dahil edin: "SIS User ID" ve "SIS Login ID" Yeni ödev oluşturmak isterseniz, ödevin adının olduğu yeni bir sütun ekleyin. Örneğin, \'\'Türevler Çalışma Sayfası\'\'. Şu sütunlar isteğe bağlıdır: "Section", "Current Score", "Final Score".',titles:{upload_form:"Yüklenecek bir CSV dosyası seçin"},what_should_csv_look_like:"CSV dosyası nasıl olmalı?"}},zh:{gradebook_uploads_form:{buttons:{upload_data:"上传数据"},example_csv_file:"示例 CSV 文件",existing_assignment_example:"现有作业 (581)",explanation_of_required_columns:"必须存在*所有*这些列，但每行只*需要*一个。",instructions:{csv_download_and_upload:"如有疑问，您可以随时*下载 CSV*，更改所需的评分，然后重新上传相同的文件。"},labels:{upload:"选择要上传的 CSV 文件:"},leaving_id_will_match_better_can_add_new_assignment:'保持 ID 不变（此例中位 "(581)" 部分）将有助于更好地匹配。还可以添加动态创建的新作业。',new_assignment_example:"新作业",optional_ignored:"可选，已忽略。",screenreader_csv_explainer:"我的 CSV 文件中应当有哪些列？您的上传内容中应当有以下列：“学生”、“ID”和“现有作业 (#)”。“学生”列应有每个学生的姓名，格式为“姓氏, 名字”。例如，“Smith, John”。“现有作业”列应为作业名称后加上以括号括起的作业 ID。例如，“Chapter One Worksheet (201)”。如果您使用 SIS，请包括以下各列：“SIS 用户 ID”和“SIS 登录 ID”。如果您希望创建一项新作业，请包括一个标题为作业名称的列。例如，“Derivatives Worksheet”。以下各列是可选的：“章节”、“当前分数”和“最终分数”。",titles:{upload_form:"选择要上传的 CSV 文件"},what_should_csv_look_like:"CSV 文件应该是什么样子?"}}}})
}),define("jst/gradebook_uploads_form",["compiled/handlebars_helpers","i18n!gradebook_uploads_form"],function(e){var t=e.template,n=e.templates=e.templates||{};return n.gradebook_uploads_form=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s,r,l="",u="function",d=this.escapeExpression,c=n.helperMissing;return l+='<form action="',(s=n.action)?a=s.call(t,{hash:{},data:i}):(s=t&&t.action,a=typeof s===u?s.call(t,{hash:{},data:i}):s),l+=d(a)+'" enctype="multipart/form-data" id="upload_modal" method="post" title="',s=n.t||t&&t.t,r={hash:{scope:"gradebook_uploads_form"},data:i},a=s?s.call(t,"titles.upload_form","Choose a CSV file to upload",r):c.call(t,"t","titles.upload_form","Choose a CSV file to upload",r),(a||0===a)&&(l+=a),l+='">\n  <input type="hidden" name=\'authenticity_token\' value="',(s=n.authenticityToken)?a=s.call(t,{hash:{},data:i}):(s=t&&t.authenticityToken,a=typeof s===u?s.call(t,{hash:{},data:i}):s),l+=d(a)+'">\n  <style>\n    tr.table-callout-notes td div {\n      padding: 6px;\n      border-radius: 10px;\n    }\n    tr.table-callout-notes-spacer td, tr.table-callout-notes td{\n      padding: 0 10px;\n      border: none;\n      background-color: transparent !important;\n      text-align: center;\n      vertical-align: bottom;\n    }\n    .table-callout-notes-spacer span {\n      width: 0;\n      border-style: solid;\n      /*should be same as ui-state-highlight gradient bottom*/\n      border-color: #eedc94 transparent;\n      border-width: 8px 8px 0px;\n      margin: -1px auto 0;\n      display: block;\n    }\n  </style>\n  <p aria-hidden="true">\n    <a class="icon-question element_toggler"\n       aria-controls="gradebook-upload-help"\n       data-hide-while-target-shown="true"\n       href="#">\n        ',s=n.t||t&&t.t,r={hash:{scope:"gradebook_uploads_form"},data:i},a=s?s.call(t,"what_should_csv_look_like","What should the CSV file look like?",r):c.call(t,"t","what_should_csv_look_like","What should the CSV file look like?",r),(a||0===a)&&(l+=a),l+='\n    </a>\n  </p>\n  <div id="gradebook-upload-help" class="well" style="display:none">\n    <h3>',s=n.t||t&&t.t,r={hash:{scope:"gradebook_uploads_form"},data:i},a=s?s.call(t,"example_csv_file","Example CSV file",r):c.call(t,"t","example_csv_file","Example CSV file",r),(a||0===a)&&(l+=a),l+='</h3>\n    <table class="table table-striped" >\n      <thead style="background: none">\n        <tr class="table-callout-notes">\n          <td colspan="4"><div class="ui-state-highlight">',s=n.t||t&&t.t,r={hash:{scope:"gradebook_uploads_form",w0:"<em>$1</em>"},data:i},a=s?s.call(t,"explanation_of_required_columns","You Must have *all* of these columns, you only *need* one per row.",r):c.call(t,"t","explanation_of_required_columns","You Must have *all* of these columns, you only *need* one per row.",r),(a||0===a)&&(l+=a),l+='</div></td>\n          <td><div class="ui-state-highlight">',s=n.t||t&&t.t,r={hash:{scope:"gradebook_uploads_form"},data:i},a=s?s.call(t,"optional_ignored","Optional, ignored.",r):c.call(t,"t","optional_ignored","Optional, ignored.",r),(a||0===a)&&(l+=a),l+='</div></td>\n          <td colspan="2"><div class="ui-state-highlight">',s=n.t||t&&t.t,r={hash:{scope:"gradebook_uploads_form"},data:i},a=s?s.call(t,"leaving_id_will_match_better_can_add_new_assignment",'Leaving the ID intact (the "(581)" part in this case) will help match better. You can also add new assignments that will be created on the fly.',r):c.call(t,"t","leaving_id_will_match_better_can_add_new_assignment",'Leaving the ID intact (the "(581)" part in this case) will help match better. You can also add new assignments that will be created on the fly.',r),(a||0===a)&&(l+=a),l+='</div></td>\n          <td colspan="2"><div class="ui-state-highlight">',s=n.t||t&&t.t,r={hash:{scope:"gradebook_uploads_form"},data:i},a=s?s.call(t,"optional_ignored","Optional, ignored.",r):c.call(t,"t","optional_ignored","Optional, ignored.",r),(a||0===a)&&(l+=a),l+='</div></td>\n        </tr>\n        <tr class="table-callout-notes-spacer">\n          <td colspan="4"><span /></td>\n          <td><span /></td>\n          <td colspan="2"><span /></td>\n          <td colspan="2"><span /></td>\n        </tr>\n        <tr>\n          <th>Student</th>\n          <th>ID</th>\n          <th>SIS User ID</th>\n          <th>SIS Login ID</th>\n          <th>Section</th>\n          <th>',s=n.t||t&&t.t,r={hash:{scope:"gradebook_uploads_form"},data:i},a=s?s.call(t,"existing_assignment_example","Existing Assignment (581)",r):c.call(t,"t","existing_assignment_example","Existing Assignment (581)",r),(a||0===a)&&(l+=a),l+="</th>\n          <th>",s=n.t||t&&t.t,r={hash:{scope:"gradebook_uploads_form"},data:i},a=s?s.call(t,"new_assignment_example","A New Assignment",r):c.call(t,"t","new_assignment_example","A New Assignment",r),(a||0===a)&&(l+=a),l+='</th>\n          <th>Current Score</th>\n          <th>Final Score</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr>\n          <td colspan="2">Points Possible</td>\n          <td></td>\n          <td></td>\n          <td></td>\n          <td>50</td>\n          <td>10</td>\n          <td></td>\n          <td></td>\n        </tr>\n        <tr>\n          <td>Smith, John</td>\n          <td>12345</td>\n          <td>2122</td>\n          <td>12321</td>\n          <td>night</td>\n          <td>46</td>\n          <td>8</td>\n          <td></td>\n          <td></td>\n        </tr>\n        <tr>\n          <td>King, Ben</td>\n          <td></td>\n          <td></td>\n          <td></td>\n          <td></td>\n          <td>34</td>\n          <td>60</td>\n          <td></td>\n          <td></td>\n        </tr>\n        <tr>\n          <td></td>\n          <td>12347</td>\n          <td></td>\n          <td></td>\n          <td></td>\n          <td>38</td>\n          <td>3</td>\n          <td></td>\n          <td></td>\n        </tr>\n        <tr>\n          <td></td>\n          <td></td>\n          <td>123</td>\n          <td></td>\n          <td></td>\n          <td>40</td>\n          <td></td>\n          <td></td>\n          <td></td>\n        </tr>\n        <tr>\n          <td></td>\n          <td></td>\n          <td></td>\n          <td>3232</td>\n          <td></td>\n          <td>44</td>\n          <td>7</td>\n          <td></td>\n          <td></td>\n        </tr>\n      </tbody>\n    </table>\n    <p>',s=n.t||t&&t.t,r={hash:{scope:"gradebook_uploads_form",w0:'<a href="%{download_gradebook_csv_url}">$1</a>'},data:i},a=s?s.call(t,"instructions.csv_download_and_upload","If in doubt, you can always *download a CSV*, change the grades you want and re-upload the same file.",r):c.call(t,"t","instructions.csv_download_and_upload","If in doubt, you can always *download a CSV*, change the grades you want and re-upload the same file.",r),(a||0===a)&&(l+=a),l+='</p>\n  </div>\n\n  <div class="screenreader-only" id="screenreader-csv-explainer">\n      ',s=n.t||t&&t.t,r={hash:{scope:"gradebook_uploads_form"},data:i},a=s?s.call(t,"screenreader_csv_explainer",'What should be in my CSV File? The following columns should be in your upload: "Student", "ID", and "Existing Assignment (#)". The Student column should have the name of each student, formatted as Last Name, First Name. For example, "Smith, John". Existing assignment columns should say the assignment name followed by the assignment ID in parentheses. For example, "Chapter One Worksheet (201)". If you use SIS, include the following columns: "SIS User ID" and "SIS Login ID". If you wish to create a new assignment, include a column titled with the name of the assignment. For example, "Derivatives Worksheet". The following columns are optional: "Section", "Current Score", "Final Score".',r):c.call(t,"t","screenreader_csv_explainer",'What should be in my CSV File? The following columns should be in your upload: "Student", "ID", and "Existing Assignment (#)". The Student column should have the name of each student, formatted as Last Name, First Name. For example, "Smith, John". Existing assignment columns should say the assignment name followed by the assignment ID in parentheses. For example, "Chapter One Worksheet (201)". If you use SIS, include the following columns: "SIS User ID" and "SIS Login ID". If you wish to create a new assignment, include a column titled with the name of the assignment. For example, "Derivatives Worksheet". The following columns are optional: "Section", "Current Score", "Final Score".',r),(a||0===a)&&(l+=a),l+='\n  </div>\n\n  <p style="font-size: 1.2em;">\n    <label for="gradebook_upload_uploaded_data">',s=n.t||t&&t.t,r={hash:{scope:"gradebook_uploads_form"},data:i},a=s?s.call(t,"labels.upload","Choose a CSV file to upload:",r):c.call(t,"t","labels.upload","Choose a CSV file to upload:",r),(a||0===a)&&(l+=a),l+='</label>\n    <input id="gradebook_upload_uploaded_data" name="gradebook_upload[uploaded_data]" type="file" />\n  </p>\n\n  <button class="btn btn-primary" type="submit">',s=n.t||t&&t.t,r={hash:{scope:"gradebook_uploads_form"},data:i},a=s?s.call(t,"buttons.upload_data","Upload Data",r):c.call(t,"t","buttons.upload_data","Upload Data",r),(a||0===a)&&(l+=a),l+="</button>\n</form>\n"}),n.gradebook_uploads_form}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("compiled/gradebook2/UploadDialog",["jquery","jst/gradebook_uploads_form","jqueryui/dialog"],function(t,n){var o;return o=function(){function o(t){this.context_url=t,this.init=e(this.init,this),this.init()}return o.prototype.init=function(e){var o,i;return null==e&&(e={context_url:this.context_url}),i={download_gradebook_csv_url:""+e.context_url+"/gradebook.csv",action:""+e.context_url+"/gradebook_uploads",authenticityToken:ENV.AUTHENTICITY_TOKEN},o=t(n(i)),o.dialog({bgiframe:!0,modal:!0,width:720,resizable:!1,close:function(){return o.remove()}}).fixDialogButtons()},o}()})}.call(this),define("translations/modules",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{button:{go_back:"عودة للخلف",post:"نشر الدرجات"},buttons:{ignore_all:"تجاهل الكل"},modules:{dialog_title:"إضافة عنصر إلى %{moduleName}",post_grades_dialog_title:"نشر الدرجات في SIS"}},de:{button:{go_back:"Zurück",post:"Noten veröffentlichen"},buttons:{ignore_all:"Alle ignorieren"},modules:{dialog_title:"Element zu %{moduleName} hinzufügen",post_grades_dialog_title:"Noten in SIS veröffentlichen"}},"en-AU":{button:{go_back:"Go Back",post:"Post Grades"},buttons:{ignore_all:"Ignore All"},modules:{dialog_title:"Add item to %{moduleName}",post_grades_dialog_title:"Post Grades to SIS"}},"en-GB":{button:{go_back:"Go Back",post:"Post grades"},buttons:{ignore_all:"Ignore all"},modules:{dialog_title:"Add item to %{moduleName}",post_grades_dialog_title:"Post grades to SIS"}},es:{button:{go_back:"Volver",post:"Publicar calificaciones"},buttons:{ignore_all:"Ignorar todos"},modules:{dialog_title:"Agregar elemento a %{moduleName}",post_grades_dialog_title:"Publicar calificaciones en SIS"}},"fa-IR":{button:{go_back:"بازگشت",post:"ارسال نمره ها"},buttons:{ignore_all:"صرفنظر از همه"},modules:{dialog_title:"افزودن مورد به {moduleName}%",post_grades_dialog_title:"ارسال نمره ها به سامانه اطلاعات دانشجو"}},fr:{button:{go_back:"Retour",post:"Publier les notes"},buttons:{ignore_all:"Ignorer tout"},modules:{dialog_title:"Ajouter un élément à %{moduleName}",post_grades_dialog_title:"Publier les notes sur SIS"}},ja:{button:{go_back:"戻る",post:"成績の投稿"},buttons:{ignore_all:"すべてを無視"},modules:{dialog_title:"%{moduleName} へのアイテムの追加",post_grades_dialog_title:"成績表を SIS に投稿"}},ko:{button:{go_back:"뒤로 가기"},modules:{dialog_title:"%{moduleName}에 항목 추가"}},nb:{button:{go_back:"Tilbake",post:"Legg inn karakterer"},buttons:{ignore_all:"Ignorer alt"},modules:{dialog_title:"Legg til element til %{moduleName}",post_grades_dialog_title:"Send karakterer til SIS"}},nl:{button:{go_back:"Ga terug",post:"Eindcijfers bekend maken"},buttons:{ignore_all:"Alles negeren"},modules:{dialog_title:"Item toevoegen aan %{moduleName}",post_grades_dialog_title:"Eindcijfers op SIS posten"}},pl:{button:{go_back:"Przejdź wstecz",post:"Wyślij oceny"},buttons:{ignore_all:"Ignoruj wszystko"},modules:{dialog_title:"Dodaj element do modułu o nazwie %{moduleName}",post_grades_dialog_title:"Wyślij oceny do SIS"}},pt:{button:{go_back:"Retroceder",post:"Publicar notas"},buttons:{ignore_all:"Ignorar tudo"},modules:{dialog_title:"Adicionar item a %{moduleName}",post_grades_dialog_title:"Publicar notas em SIS"}},"pt-BR":{button:{go_back:"Voltar",post:"Postar notas"},buttons:{ignore_all:"Ignorar tudo"},modules:{dialog_title:"Adicionar item a %{moduleName}",post_grades_dialog_title:"Postar notas no SIS"}},ru:{button:{go_back:"Вернуться назад",post:"Опубликовать оценки"},buttons:{ignore_all:"Игнорировать все"},modules:{dialog_title:"Добавить элемент к %{moduleName}",post_grades_dialog_title:"Опубликовать оценки в SIS"}},tr:{button:{go_back:"Geri Git",post:"Notları Gönder"},buttons:{ignore_all:"Tümünü Yoksay"},modules:{dialog_title:"%{moduleName}'e öğe ekle",post_grades_dialog_title:"Notları ÖBS'ye Gönder"}},zh:{button:{go_back:"返回",post:"发布评分"},buttons:{ignore_all:"忽略全部"},modules:{dialog_title:"添加项目到 %{moduleName}",post_grades_dialog_title:"发布评分到 SIS"}}}})}),define("translations/dialog",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{buttons:{cancel:"إلغاء",update:"تحديث"}},de:{buttons:{cancel:"Abbrechen",update:"Aktualisieren"}},"en-AU":{buttons:{cancel:"Cancel",update:"Update"}},"en-GB":{buttons:{cancel:"Cancel",update:"Update"}},es:{buttons:{cancel:"Cancelar",update:"Actualizar"}},"fa-IR":{buttons:{cancel:"لغو",update:"بهنگام سازی"}},fr:{buttons:{cancel:"Annuler",update:"Mettre à jour"}},ja:{buttons:{cancel:"キャンセル",update:"更新"}},ko:{buttons:{cancel:"취소",update:"업데이트"}},nb:{buttons:{cancel:"Avbryt",update:"Oppdater"}},nl:{buttons:{cancel:"Annuleren",update:"Bijwerken"}},pl:{buttons:{cancel:"Anuluj",update:"Aktualizuj"}},pt:{buttons:{cancel:"Cancelar",update:"Atualizar"}},"pt-BR":{buttons:{cancel:"Cancelar",update:"Atualizar"}},ru:{buttons:{cancel:"Отменить",update:"Обновить"}},tr:{buttons:{cancel:"İptal",update:"Güncelle"}},zh:{buttons:{cancel:"取消",update:"更新"}}}})}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("compiled/views/DialogBaseView",["i18n!dialog","jquery","underscore","Backbone","jqueryui/dialog"],function(t,o,i,a){var s,r;return s=function(a){function s(){return this.cancel=e(this.cancel,this),r=s.__super__.constructor.apply(this,arguments)}return n(s,a),s.prototype.initialize=function(){return s.__super__.initialize.apply(this,arguments),this.initDialog(),this.setElement(this.dialog)},s.prototype.defaultOptions=function(){return{autoOpen:!1,width:420,resizable:!1,buttons:[]}},s.prototype.initDialog=function(){var e;return e=i.extend({},this.defaultOptions(),{buttons:[{text:t.t("#buttons.cancel","Cancel"),"class":"cancel_button",click:this.cancel},{text:t.t("#buttons.update","Update"),"class":"btn-primary",click:this.update}]},i.result(this,"dialogOptions")),this.dialog=o('<div id="'+e.id+'"></div>').appendTo("body").dialog(e),e.containerId&&this.dialog.parent().attr("id",e.containerId),this.dialog},s.prototype.show=function(){return this.dialog.dialog("open")},s.prototype.close=function(){return this.dialog.dialog("close")},s.prototype.update=function(){throw"Not yet implemented"},s.prototype.cancel=function(e){return e.preventDefault(),this.close()},s}(a.View)})}.call(this),define("jst/gradebook2/post_grades_dialog",["compiled/handlebars_helpers"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/post_grades_dialog"]=t(function(e,t,n,o,i){function a(e,t){var o,i,a="";return a+='\n           <div class="row">\n               <div id="assignment-error-',(i=n.id)?o=i.call(e,{hash:{},data:t}):(i=e&&e.id,o=typeof i===h?i.call(e,{hash:{},data:t}):i),a+=m(o)+'">\n                   <form class="passback-form form-inline" data-assignment-id="',(i=n.id)?o=i.call(e,{hash:{},data:t}):(i=e&&e.id,o=typeof i===h?i.call(e,{hash:{},data:t}):i),a+=m(o)+'">\n                       <div class=',o=n["if"].call(e,e&&e.not_unique,{hash:{},inverse:p.program(4,r,t),fn:p.program(2,s,t),data:t}),(o||0===o)&&(a+=o),a+=' style="width: 4px"></div>\n                       <div class="span4 input-container">\n                           <input type="text" class="input-xlarge assignment-name" style="padding-right: 100px" placeholder="No Assignment Name" value="',(i=n.name)?o=i.call(e,{hash:{},data:t}):(i=e&&e.name,o=typeof i===h?i.call(e,{hash:{},data:t}):i),a+=m(o)+'">\n                       </div>\n\n                       ',o=n["if"].call(e,e&&e.due_at,{hash:{},inverse:p.program(8,u,t),fn:p.program(6,l,t),data:t}),(o||0===o)&&(a+=o),a+='\n                       </div>\n                       <button style="left: 0px;" class="btn ignore-assignment assignment-info">X</button>\n                   </form>\n               </div>\n           </div>\n       '}function s(){return'"span1 data-circle-error"'}function r(){return'"span1 data-circle-clean"'}function l(e,t){var o,i,a="";return a+='\n                           <div class="span1 data-circle-clean" style="width: 4px"></div>\n                           <div class="span2 date_field_container input-container">\n                           <input type="text" class="input-medium date_field assignment-info" value="'+m((o=n.datetimeFormatted||e&&e.datetimeFormatted,i={hash:{},data:t},o?o.call(e,e&&e.due_at,i):g.call(e,"datetimeFormatted",e&&e.due_at,i)))+'">\n                       '}function u(){return'\n                           <div class="span1 data-circle-error" style="width: 4px"></div>\n                           <div class="span2 date_field_container input-container">\n                           <input type="text" class="input-medium date_field assignment-info" placeholder="No Due Date">\n                       '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var d,c="",g=n.helperMissing,m=this.escapeExpression,h="function",p=this;return c+='<style>\n    .passback-form {\n        margin:0;\n        margin-bottom: 25px;\n        padding: 0;\n    }\n\n    .passback-form .assignment-info {\n        padding-right: 3px;\n        padding-right: 4px \\9;\n        padding-left: 3px;\n        padding-left: 4px \\9;\n        /* IE7-8 doesn\'t have border-radius, so don\'t indent the padding */\n\n        /*margin-bottom: 20px;*/\n        -webkit-border-radius: 3px;\n        -moz-border-radius: 3px;\n        border-radius: 3px;\n    }\n\n    .passback-form button {\n        border: 0;\n        background: none;\n        /** belows styles are working good */\n        padding: 2px 5px;\n        margin-top: 2px;\n        position: relative;\n        left: -28px;\n        /* IE7-8 doesn\'t have border-radius, so don\'t indent the padding */\n        margin-bottom: 0;\n        -webkit-border-radius: 3px;\n        -moz-border-radius: 3px;\n        border-radius: 3px;\n    }\n\n    .assignment-info:focus + button {\n        z-index: 3;\n    }\n\n    .data-circle-error{\n        margin-top: 12px;\n        margin-right: -20px;\n        border-radius: 50%;\n        width: 4px;\n        height: 4px;\n        background: #f00;\n        border: 1px solid #f00;\n    }\n    .data-circle-clean{\n        margin-top: 12px;\n        margin-right: -20px;\n        border-radius: 50%;\n        width: 4px;\n        height: 4px;\n        background: transparent;\n        border: 1px solid transparent;\n    }\n    .data-circle-success{\n        margin-top: 12px;\n        margin-right: -20px;\n        border-radius: 50%;\n        width: 4px;\n        height: 4px;\n        background: transparent;\n        border: 1px solid transparent;\n    }\n    .lead{\n        margin-bottom: 20px;\n        /*font-size: 21px;*/\n        font-weight: 200;\n        line-height: 30px;\n    }\n    @media (min-width: 0 ) {\n    .row {\n        margin-left: -30px;\n        overflow: hidden;\n        *zoom: 1; }\n\n    [class*="span"] {\n        float: left;\n        min-height: 1px;\n        margin-left: 30px; }\n\n    #post-grades-container .span4 {\n        width: 370px; }\n\n    #post-grades-container .span3 {\n        width: 270px; }\n\n    #post-grades-container .span2 {\n        width: 170px; }\n\n    #post-grades-container .span1 {\n        width: 70px; }\n</style>\n\n<div id="assignment-errors">\n   <legend class="lead" style><span class="assignment-error-count">'+m((d=t&&t.missing_not_unique,d=null==d||d===!1?d:d.length,typeof d===h?d.apply(t):d))+'</span> Assignments with Errors</legend>\n   <div class="assignment-errors-list">\n       <div class="row">\n           <h5 class="muted span4" style="margin-left: 50px">Assignment Name</h5>\n           <span class="span1"></span>\n           <h5 class="muted span2" style="margin-left: -60px;">Due Date</h5>\n       </div>\n       ',d=n.each.call(t,t&&t.missing_not_unique,{hash:{},inverse:p.noop,fn:p.program(1,a,i),data:i}),(d||0===d)&&(c+=d),c+="\n   </div>\n</div>"}),n["gradebook2/post_grades_dialog"]}),define("jst/gradebook2/post_grades_summary",["compiled/handlebars_helpers"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/post_grades_summary"]=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s="",r="function",l=this.escapeExpression;return s+='<style>\n    .post-summary-center {\n        margin-top: 120px\n    }\n</style>\n<div class="post-summary post-summary-center" style="margin-left: 75px">\n    <h1 class="lead text-left" style="color: #aaaaaa; font-size: 28px">You are ready to post <span class="assignments_to_post_count">'+l((a=t&&t.assignments_to_post,a=null==a||a===!1?a:a.length,typeof a===r?a.apply(t):a))+'</span> assignments.</h1>\n    <div id="ungraded_count"></div>\n</div>'}),n["gradebook2/post_grades_summary"]}),define("jst/gradebook2/post_grades_needs_grading",["compiled/handlebars_helpers"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/post_grades_needs_grading"]=t(function(e,t,n,o,i){function a(e,t){var o,i,a,s="";return s+='\n        <tr class="clickableRow" data-url="gradebook/speed_grader?assignment_id=',(i=n.id)?o=i.call(e,{hash:{},data:t}):(i=e&&e.id,o=typeof i===l?i.call(e,{hash:{},data:t}):i),s+=u(o)+'">\n            <td>',(i=n.name)?o=i.call(e,{hash:{},data:t}):(i=e&&e.name,o=typeof i===l?i.call(e,{hash:{},data:t}):i),s+=u(o)+"</td>\n            <td>"+u((i=n.datetimeFormatted||e&&e.datetimeFormatted,a={hash:{},data:t},i?i.call(e,e&&e.due_at,a):d.call(e,"datetimeFormatted",e&&e.due_at,a)))+"</td>\n            <td>",(i=n.needs_grading_count)?o=i.call(e,{hash:{},data:t}):(i=e&&e.needs_grading_count,o=typeof i===l?i.call(e,{hash:{},data:t}):i),s+=u(o)+"</td>\n        </tr>\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s,r="",l="function",u=this.escapeExpression,d=n.helperMissing,c=this;return r+='<div id="needs_grading" >\n    <small><em class="text-left" style="color: #555555">NOTE: Students have submitted work for these assignments that has not been graded. If you post these grades now, you will need to re-post their scores after grading their latest submissions. </em></small>\n    <br><br>\n    <table class="table table-hover table-condensed">\n       <tbody>\n        <thead>\n            <td>Assignment Name</td>\n            <td>Due Date</td>\n            <td>Ungraded Submissions</td>\n        </thead>\n    ',s=n.each.call(t,t&&t.needs_grading,{hash:{},inverse:c.noop,fn:c.program(1,a,i),data:i}),(s||0===s)&&(r+=s),r+="\n        </tbody>\n    </table>\n</div>"}),n["gradebook2/post_grades_needs_grading"]}),define("jst/gradebook2/post_grades_ungraded_count",["compiled/handlebars_helpers"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/post_grades_ungraded_count"]=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s,r="",l="function",u=this.escapeExpression;return r+='<h4 class="text-left" style="color: #AAAAAA"><a href="#" id="needs-grading">',(s=n.needs_grading_count)?a=s.call(t,{hash:{},data:i}):(s=t&&t.needs_grading_count,a=typeof s===l?s.call(t,{hash:{},data:i}):s),r+=u(a)+" assignments</a> have ungraded submissions.</h4>\n\n"}),n["gradebook2/post_grades_ungraded_count"]}),define("jqueryui/effects/slide",["jquery","jqueryui/effect"],function(e){e.effects.effect.slide=function(t,n){var o,i=e(this),a=["position","top","bottom","left","right","width","height"],s=e.effects.setMode(i,t.mode||"show"),r="show"===s,l=t.direction||"left",u="up"===l||"down"===l?"top":"left",d="up"===l||"left"===l,c={};e.effects.save(i,a),i.show(),o=t.distance||i["top"===u?"outerHeight":"outerWidth"]({margin:!0}),e.effects.createWrapper(i).css({overflow:"hidden"}),r&&i.css(u,d?isNaN(o)?"-"+o:-o:o),c[u]=(r?d?"+=":"-=":d?"-=":"+=")+o,i.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===s&&i.hide(),e.effects.restore(i,a),e.effects.removeWrapper(i),n()}})}}),function(){define("compiled/jquery/serializeForm",["jquery"],function(e){var t,n,o,i,a,s,r;return r=/^(?:select|textarea)/i,i=/\r?\n/g,s=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week|file)$/i,t=function(){return this.elements?e.makeArray(this.elements):(t=e(this).find(":input"),t.length?t:this)},o=function(){return this.name&&!this.disabled&&(this.checked||r.test(this.nodeName)||s.test(this.type))},a=function(e,t){return"string"==typeof t&&(t=t.replace(i,"\r\n")),{name:e,value:t}},n=function(){var t,n,o,i,s,r;if(t=e(this),o="file"===this.type?t.val()?this:void 0:t.hasClass("datetime_field_enabled")?""===t.val()?null:t.data("date")||null:t.data("rich_text")?t.editorBox("get_code",!1):t.val(),e.isArray(o)){for(r=[],i=0,s=o.length;s>i;i++)n=o[i],r.push(a(this.name,n));return r}return a(this.name,o)},e.fn.serializeForm=function(){return this.map(t).filter(o).map(n).get()}})}.call(this),define("jquery.toJSON",["jquery","compiled/jquery/serializeForm"],function(e){var t={validate:/^[a-zA-Z][a-zA-Z0-9_]*(?:\[(?:\d*|[a-zA-Z0-9_]+)\])*$/,key:/[a-zA-Z0-9_]+|(?=\[\])/g,push:/^$/,fixed:/^\d+$/,named:/^[a-zA-Z0-9_]+$/},n=function(e,t,n){return e[t]=n,e};e.fn.toJSON=function(){var o={},i={},a=function(e,t){return void 0===i[e]&&(i[e]=0),void 0===t?i[e]++:void 0!==t&&t>i[e]?i[e]=++t:void 0};return e.each(e(this).serializeForm(),function(){if(t.validate.test(this.name)){for(var i,s=this.name.match(t.key),r=this.value,l=this.name;void 0!==(i=s.pop());)l=l.replace(new RegExp("\\["+i+"\\]$"),""),i.match(t.push)?r=n([],a(l),r):i.match(t.fixed)?(a(l,i),r=n([],i,r)):i.match(t.named)&&(r=n({},i,r));o=e.extend(!0,o,r)}}),o}}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("compiled/gradebook2/PostGradesDialog",["i18n!modules","jquery","underscore","Backbone","timezone","compiled/views/DialogBaseView","jst/gradebook2/post_grades_dialog","jst/gradebook2/post_grades_summary","jst/gradebook2/post_grades_needs_grading","jst/gradebook2/post_grades_ungraded_count","compiled/handlebars_helpers","compiled/jquery.rails_flash_notifications","jqueryui/effects/slide","jquery.instructure_date_and_time","jquery.toJSON"],function(t,o,i,a,s,r,l,u,d,c){var g,m;return g=function(a){function s(){return this.sendGradesToSISApp=e(this.sendGradesToSISApp,this),this.needsGrading=e(this.needsGrading,this),m=s.__super__.constructor.apply(this,arguments)}return n(s,a),s.prototype.initialize=function(e,t,n){var i=this;return s.__super__.initialize.apply(this,arguments),e.bind("change:assignments_to_post",function(){return o(".assignments_to_post_count").html(e.assignments_to_post().length)}),e.bind("change:assignments_with_errors_count",function(){return o(".assignment-error-count").html(e.get("assignments_with_errors_count")),0===i.model.get("assignments_with_errors_count")?(o("#assignment-error-text").hide(),i.saveAssignments(),i.page="postSummary",i.render()):(o("#assignment-error-text").show(),o("#assignment-error-text").addClass("text-error"),o("#assignment-error-text").removeClass("text-info"))}),this.model=e,this.sis_app_url=t,this.sis_app_token=n,this.page=this.model.missing_and_not_unique().length>0?"assignmentErrors":"postSummary"},s.prototype.events={"click #needs-grading":"needsGrading","click .ignore-assignment":"ignoreAssignment","click .clickableRow":"goToUrl"},s.prototype.dialogOptions={id:"post-grades-container",title:t.t("post_grades_dialog_title","Post Grades to SIS"),maxHeight:450,maxWidth:650,minHeight:450,minWidth:650,width:650,height:450,resizable:!1,buttons:[]},s.prototype.initDialog=function(){return s.__super__.initDialog.apply(this,arguments)},s.prototype.render=function(){var e=this;switch(s.__super__.render.apply(this,arguments),this.model.assignments_with_errors_count()>0&&(this.page="assignmentErrors"),this.page){case"assignmentErrors":this.dialog.dialog({buttons:[{text:t.t("#buttons.ignore_all","Ignore All"),"class":"ignore_all",click:function(t){return t.preventDefault,e.model.ignore_all(),e.page="postSummary",e.render()}}]}),this.assignmentErrorsPage();break;case"postSummary":this.dialog.dialog({buttons:[{text:t.t("#button.post","Post Grades"),"class":"post_grades btn-primary",click:function(t){return t.preventDefault,e.postGrades()}}]}),this.postSummaryPage();break;case"needsGrading":this.dialog.dialog({buttons:[{text:t.t("#button.go_back","Go Back"),"class":"go_back",click:function(t){return t.preventDefault,e.page="postSummary",e.render()}}]}),this.needsGradingPage()}return this.datePicker(),this},s.prototype.ignoreAssignment=function(e){var t;return e.preventDefault(),t=""+o(e.target).closest("form").data("assignment-id"),this.model.ignore_assignment(t),o("#assignment-error-"+t).hide()},s.prototype.needsGrading=function(e){return e.preventDefault(),this.page="needsGrading",this.render()},s.prototype.needsGradingPage=function(){return this.$el.html(d({needs_grading:this.model.ungraded_submissions()}))},s.prototype.assignmentErrorsPage=function(){var e;return this.$el.html(l({assignments_to_post:this.model.assignments_to_post(),assignments:this.model.assignment_list(),missing_not_unique:this.model.missing_and_not_unique(),needs_grading:this.model.ungraded_submissions(),needs_grading_count:this.model.ungraded_submissions().length})),e=this,o(".assignment-name",this.$el).change(function(){var t,n,i,a;return n=o(this),t=n.closest(".input-container").prev(),a=n.val(),e.showErrorCircle(t,""===a),i=parseInt(n.closest("form.passback-form").data("assignment-id")),e.model.update_assignment(i,{name:a})})},s.prototype.postSummaryPage=function(){return this.$el.html(u({assignments_to_post:this.model.assignments_to_post(),needs_grading:this.model.ungraded_submissions(),needs_grading_count:this.model.ungraded_submissions().length})),this.postUngraded()},s.prototype.goToUrl=function(e){return e.preventDefault(),window.location=o(e.currentTarget).data("url")},s.prototype.postUngraded=function(){return this.model.ungraded_submissions().length>0?o("#ungraded_count",this.$el).html(c({needs_grading_count:this.model.ungraded_submissions().length})):void 0},s.prototype.showErrorCircle=function(e,t){return null==t&&(t=!0),t?e.addClass("data-circle-error").removeClass("data-circle-clean"):e.addClass("data-circle-clean").removeClass("data-circle-error")},s.prototype.datePicker=function(){var e;return e=this,o(".date_field",this.$el).datetime_field().change(function(){var t,n,i,a,s;return n=o(this),a=n.data("date"),s=!0,null!=a&&(a=o.unfudgeDateForProfileTimezone(a).toISOString(),s=!1),t=n.closest(".input-container").prev(),e.showErrorCircle(t,s),i=parseInt(n.closest("form.passback-form").data("assignment-id")),null!=i?e.model.update_assignment(i,{due_at:a}):o.flashError("Unable to save due date, assignment_id unavailable")
})},s.prototype.saveAssignments=function(){var e,t,n,o,i;for(o=this.model.modified_assignments(),i=[],t=0,n=o.length;n>t;t++)e=o[t],i.push(this.saveAssignmentToCanvas(e));return i},s.prototype.saveAssignmentToCanvas=function(e){var t,n;return n="/api/v1/courses/"+this.model.get("course_id")+"/assignments/"+e.id,t={assignment:{name:e.name,due_at:e.due_at}},o.ajax(n,{type:"PUT",data:JSON.stringify(t),contentType:"application/json; charset=utf-8",error:function(){return o.flashError("An error occurred saving assignment ("+e.id+"). HTTP Error "+t.status+" : "+t.statusText)}})},s.prototype.sendGradesToSISApp=function(e,t){return o.ajax(t,{type:"POST",data:JSON.stringify(e),headers:{Authorization:this.sis_app_token},contentType:"application/json; charset=utf-8",error:function(e){return o.flashError("An error occurred posting your grades. HTTP Error "+e.status+" : "+e.statusText)},success:function(){return o.flashMessage("Assignments are being posted.")}})},s.prototype.postGrades=function(){var e,t;return e={},e.canvas_domain=document.location.origin,e.assignments=i.map(this.model.get("assignments_to_post"),function(e){return e.id}),this.model.get("section_id")?(e.section_id=this.model.get("integration_section_id"),t=this.sis_app_url+"/grades/section/"+this.model.get("integration_section_id"),this.sendGradesToSISApp(e,t),this.close()):this.model.get("integration_course_id")?(e.course_id=this.model.get("integration_course_id"),t=this.sis_app_url+"/grades/course/"+this.model.get("integration_course_id"),this.sendGradesToSISApp(e,t),this.close()):(o.flashError("Grades can't be posted because this course or section was not imported from your SIS."),this.close())},s}(r)})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};define("compiled/gradebook2/PostGradesModel",["i18n!modules","jquery","underscore","Backbone"],function(e,n,o,i){var a,s;return a=function(e){function n(){return s=n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.initialize=function(){return this.ignored_assignment_ids=[]},n.prototype.defaults=function(){return{assignments:{},course_id:null,integration_course_id:null,integration_section_id:null}},n.prototype.assignment_list=function(){return o.values(this.get("assignments"))},n.prototype.assignments_to_post=function(){var e,t=this;return e=function(e){return o.contains(t.ignored_assignment_ids,e.id)},o.reject(this.assignment_list(),e)},n.prototype.assignment_count=function(){return o.size(this.get("assignments"))},n.prototype.update_assignment=function(e,t){var n;return n=this.get("assignments")[e],n.modified=!0,o.extend(n,t),this.update_bound_attributes()},n.prototype.modified_assignments=function(){return o.filter(this.get("assignments"),function(e){return null!=e.modified})},n.prototype.assignments_with_errors_count=function(){return this.missing_and_not_unique().length-this.ignored_assignment_ids.length},n.prototype.update_bound_attributes=function(){return this.set({assignments_to_post:this.assignments_to_post()}),this.set({assignments_with_errors_count:this.assignments_with_errors_count()})},n.prototype.ignore_assignment=function(e){return this.ignored_assignment_ids.push(e),this.update_bound_attributes()},n.prototype.ignore_all=function(){return this.ignored_assignment_ids=o.map(this.missing_and_not_unique(),function(e){return e.id}),this.update_bound_attributes()},n.prototype.reset_ignored_assignments=function(){return this.ignored_assignment_ids=[],this.update_bound_attributes()},n.prototype.course_id=function(){return this.get("course_id")},n.prototype.integration_course_id=function(){return this.get("integration_course_id")},n.prototype.integration_section_id=function(){return this.get("integration_section_id")},n.prototype.not_unique_assignments=function(){var e,t;return t=function(e){return e.length>1},e=function(e){return o.extend({},e,{not_unique:!0})},o.chain(this.assignment_list()).groupBy("name").filter(t).flatten().map(e).value()},n.prototype.missing_due_date=function(){var e;return e=o.chain(this.assignment_list()).filter(function(e){return!e.due_at}).flatten().value()},n.prototype.missing_and_not_unique=function(){var e,t,n,i,a,s=this;return t=function(e){return e.id},i=o.map(this.missing_due_date(),t),a=o.map(this.not_unique_assignments,t),n=o.union(i,a),e=function(e){return o.find(s.assignment_list(),function(t){return e===t.id})},o.map(n,e)},n.prototype.ungraded_submissions=function(){return o.filter(this.assignment_list(),function(e){return e.needs_grading_count>0})},n}(i.Model)})}.call(this),define("translations/gradebook2.column_header",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{gradebook2:{column_header:{assignment_options:"خيارات التعيين",points_out_of:"من %{assignment.points_possible}",this_assignment_is_muted:"تم إخفاء درجة هذا التعيين",zero_point_assignment:"المهام في هذه المجموعة ليس بها نقاط ممكنة ولا يمكن تضمينها في حساب الدرجات"}}},de:{gradebook2:{column_header:{assignment_options:"Aufgabenoptionen",points_out_of:"Von insgesamt %{assignment.points_possible}",this_assignment_is_muted:"Die Aufgabe ist stummgeschaltet",zero_point_assignment:"Für die Aufgaben in dieser Gruppe können keine Punkte vergeben werden, und sie können bei der Notenberechnung nicht berücksichtig werden"}}},"en-AU":{gradebook2:{column_header:{assignment_options:"Assignment Options",points_out_of:"Out of %{assignment.points_possible}",this_assignment_is_muted:"This assignment is muted",zero_point_assignment:"Assignments in this group have no points possible and cannot be included in grade calculation"}}},"en-GB":{gradebook2:{column_header:{assignment_options:"Assignment options",points_out_of:"Out of %{assignment.points_possible}",this_assignment_is_muted:"This assignment is muted",zero_point_assignment:"Assignments in this group have no points possible and cannot be included in grade calculation"}}},es:{gradebook2:{column_header:{assignment_options:"Opciones de tarea",points_out_of:"De %{assignment.points_possible}",this_assignment_is_muted:"Esta tarea está silenciada",zero_point_assignment:"Las tareas de este grupo no se pueden evaluar, por lo que no se pueden incluir en el cálculo de las calificaciones"}}},"fa-IR":{gradebook2:{column_header:{assignment_options:"گزینه های تکلیف",points_out_of:"از %{assignment.points_possible}",this_assignment_is_muted:"این تکلیف غیر فعال شده است",zero_point_assignment:"تکلیف های موجود در این گروه هیچ امتیاز ممکن ندارند و نمی توانند در محاسبه نمره لحاظ شوند"}}},fr:{gradebook2:{column_header:{assignment_options:"Options de la tâche",points_out_of:"Sur %{assignment.points_possible}",this_assignment_is_muted:"Cette tâche est silencieuse",zero_point_assignment:"Les tâches de ce groupe ne peuvent pas avoir de points et elles ne peuvent pas être incluses dans le calcul de la note."}}},ja:{gradebook2:{column_header:{assignment_options:"課題のオプション",points_out_of:"配点: %{assignment.points_possible}",this_assignment_is_muted:"この課題はミュートになっています",zero_point_assignment:"このグループの課題には配点がないので、採点の計算に含めることはできません"}}},ko:{gradebook2:{column_header:{assignment_options:"과제 옵션",points_out_of:"/ %{assignment.points_possible}",this_assignment_is_muted:"이 과제는 평점 비공개 상태임",zero_point_assignment:"이 그룹의 과제는 가능한 점수가 없으므로 평가 계산에 포함될 수 없음"}}},nb:{gradebook2:{column_header:{assignment_options:"Oppgavevalg",points_out_of:"Utenfor %{assignment.points_possible}",this_assignment_is_muted:"Denne oppgaven er satt til passiv",zero_point_assignment:"Oppgaver i denne gruppen gir ingen poeng og kan ikke inkluderes i beregning av karakter"}}},nl:{gradebook2:{column_header:{assignment_options:"Opdrachtopties",points_out_of:"Van %{assignment.points_possible}",this_assignment_is_muted:"Deze opdracht is onzichtbaar",zero_point_assignment:"Met opdrachten in deze groep kunnen geen punten behaald worden en worden  in de cijferberekening niet meegenomen"}}},pl:{gradebook2:{column_header:{assignment_options:"Opcje zadania",points_out_of:"Na %{assignment.points_possible} możliwych",this_assignment_is_muted:"To zadanie jest wyłączone",zero_point_assignment:"Zadania w tej grupie nie mają przydzielonych punktów i nie można ich uwzględniać w obliczeniach ocen"}}},pt:{gradebook2:{column_header:{assignment_options:"Opções de tarefa",points_out_of:"em %{assignment.points_possible}",this_assignment_is_muted:"Esta tarefa está desativada",zero_point_assignment:"As tarefas incluídas neste grupo não têm pontos possíveis e não podem ser incluídas no cálculo das notas"}}},"pt-BR":{gradebook2:{column_header:{assignment_options:"Opções de tarefa",points_out_of:"De %{assignment.points_possible}",this_assignment_is_muted:"A tarefa está silenciada",zero_point_assignment:"As tarefas neste grupo não têm pontos possíveis e não podem ser incluídas no cáluco de notas"}}},ru:{gradebook2:{column_header:{assignment_options:"Опции задания",points_out_of:"Из %{assignment.points_possible}",this_assignment_is_muted:"Звук данного задания отключен",zero_point_assignment:"Задания в этой группе не имеют возможных баллов и не могут учитываться в расчете оценки"}}},tr:{gradebook2:{column_header:{assignment_options:"Ödev Seçenekleri",points_out_of:"%{assignment.points_possible} üzerinden",this_assignment_is_muted:"Bu ödev bekletiliyor",zero_point_assignment:"Bu gruptaki ödevlerin olası puanları yok ve not hesaplamasına dahil edilemezler"}}},zh:{gradebook2:{column_header:{assignment_options:"作业可选功能",points_out_of:"满分 %{assignment.points_possible} 分",this_assignment_is_muted:"作业已屏蔽",zero_point_assignment:"此小组中的作业没有可能的得分，不能包括在评分计算中"}}}}})}),define("jst/gradebook2/column_header",["compiled/handlebars_helpers","i18n!gradebook2.column_header"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/column_header"]=t(function(e,t,n,o,i){function a(e,t){var o,i,a,s="";return s+='\n    title="',i=n.t||e&&e.t,a={hash:{scope:"gradebook2.column_header"},data:t},o=i?i.call(e,"this_assignment_is_muted","This assignment is muted",a):h.call(e,"t","this_assignment_is_muted","This assignment is muted",a),(o||0===o)&&(s+=o),s+='"\n  '}function s(e,t){var o,i,a,s="";return s+='\n    title="',i=n.t||e&&e.t,a={hash:{scope:"gradebook2.column_header"},data:t},o=i?i.call(e,"zero_point_assignment","Assignments in this group have no points possible and cannot be included in grade calculation",a):h.call(e,"t","zero_point_assignment","Assignments in this group have no points possible and cannot be included in grade calculation",a),(o||0===o)&&(s+=o),s+='"\n  '}function r(){return"muted"}function l(){return'\n    <i class="icon-warning"></i>\n  '}function u(e,t){var o,i,a,s="";return s+="\n  <div class='assignment-points-possible'>\n    ",i=n.t||e&&e.t,a={hash:{scope:"gradebook2.column_header"},data:t},o=i?i.call(e,"points_out_of","Out of %{assignment.points_possible}",a):h.call(e,"t","points_out_of","Out of %{assignment.points_possible}",a),(o||0===o)&&(s+=o),s+="\n  </div>\n"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var d,c,g,m="",h=n.helperMissing,p=this,_="function",f=this.escapeExpression;return m+="<a\n  ",d=n["if"].call(t,(d=t&&t.assignment,null==d||d===!1?d:d.muted),{hash:{},inverse:p.noop,fn:p.program(1,a,i),data:i}),(d||0===d)&&(m+=d),m+="\n  ",d=n["if"].call(t,(d=t&&t.assignment,null==d||d===!1?d:d.invalid),{hash:{},inverse:p.noop,fn:p.program(3,s,i),data:i}),(d||0===d)&&(m+=d),m+='\n  class="assignment-name ',d=n["if"].call(t,(d=t&&t.assignment,null==d||d===!1?d:d.muted),{hash:{},inverse:p.noop,fn:p.program(5,r,i),data:i}),(d||0===d)&&(m+=d),m+='"\n  href="',(c=n.href)?d=c.call(t,{hash:{},data:i}):(c=t&&t.href,d=typeof c===_?c.call(t,{hash:{},data:i}):c),m+=f(d)+'"\n>\n  ',d=n["if"].call(t,(d=t&&t.assignment,null==d||d===!1?d:d.invalid),{hash:{},inverse:p.noop,fn:p.program(7,l,i),data:i}),(d||0===d)&&(m+=d),m+="\n  ",d=t&&t.assignment,d=null==d||d===!1?d:d.name,d=typeof d===_?d.apply(t):d,(d||0===d)&&(m+=d),m+='\n</a>\n<a class="gradebook-header-drop assignment_header_drop" data-assignment-id="'+f((d=t&&t.assignment,d=null==d||d===!1?d:d.id,typeof d===_?d.apply(t):d))+'" href="#" role="button">\n  ',c=n.t||t&&t.t,g={hash:{scope:"gradebook2.column_header"},data:i},d=c?c.call(t,"assignment_options","Assignment Options",g):h.call(t,"t","assignment_options","Assignment Options",g),(d||0===d)&&(m+=d),m+="\n</a>\n",d=n["if"].call(t,t&&t.showPointsPossible,{hash:{},inverse:p.noop,fn:p.program(9,u,i),data:i}),(d||0===d)&&(m+=d),m+="\n"}),n["gradebook2/column_header"]}),define("jst/gradebook2/group_total_cell",["compiled/handlebars_helpers"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/group_total_cell"]=t(function(e,t,n,o,i){function a(e,t){var o,i="";return i+='\n    <div class="gradebook-tooltip ',o=n["if"].call(e,e&&e.lastColumn,{hash:{},inverse:C.noop,fn:C.program(2,s,t),data:t}),(o||0===o)&&(i+=o),i+='">\n      ',o=n["if"].call(e,e&&e.warning,{hash:{},inverse:C.program(6,l,t),fn:C.program(4,r,t),data:t}),(o||0===o)&&(i+=o),i+="\n    </div>\n  "}function s(){return"gradebook-tooltip-last"}function r(e,t){var o,i,a="";return a+="\n        ",(i=n.warning)?o=i.call(e,{hash:{},data:t}):(i=e&&e.warning,o=typeof i===w?i.call(e,{hash:{},data:t}):i),a+=k(o)+"\n      "}function l(e,t){var o,i="";return i+="\n        ",o=n.unless.call(e,e&&e.showPointsNotPercent,{hash:{},inverse:C.program(9,d,t),fn:C.program(7,u,t),data:t}),(o||0===o)&&(i+=o),i+="\n      "}function u(e,t){var o,i,a="";return a+="\n          ",(i=n.score)?o=i.call(e,{hash:{},data:t}):(i=e&&e.score,o=typeof i===w?i.call(e,{hash:{},data:t}):i),a+=k(o)+" / ",(i=n.possible)?o=i.call(e,{hash:{},data:t}):(i=e&&e.possible,o=typeof i===w?i.call(e,{hash:{},data:t}):i),a+=k(o)+"\n        "}function d(e,t){var o,i="";return i+="\n          ",o=n["if"].call(e,e&&e.possible,{hash:{},inverse:C.program(12,g,t),fn:C.program(10,c,t),data:t}),(o||0===o)&&(i+=o),i+="\n        "}function c(e,t){var o,i,a="";return a+="\n            ",(i=n.percentage)?o=i.call(e,{hash:{},data:t}):(i=e&&e.percentage,o=typeof i===w?i.call(e,{hash:{},data:t}):i),a+=k(o)+"%\n          "}function g(){return"\n            -\n          "}function m(){return'\n      <i class="icon-warning final-warning"></i>\n    '}function h(e,t){var o,i,a="";return a+="\n      ",(i=n.score)?o=i.call(e,{hash:{},data:t}):(i=e&&e.score,o=typeof i===w?i.call(e,{hash:{},data:t}):i),a+=k(o)+"\n    "}function p(e,t){var o,i="";return i+="\n      ",o=n["if"].call(e,e&&e.possible,{hash:{},inverse:C.program(21,f,t),fn:C.program(19,_,t),data:t}),(o||0===o)&&(i+=o),i+="\n    "}function _(e,t){var o,i,a="";return a+="\n        ",(i=n.percentage)?o=i.call(e,{hash:{},data:t}):(i=e&&e.percentage,o=typeof i===w?i.call(e,{hash:{},data:t}):i),a+=k(o)+"%\n      "}function f(){return"\n        -\n      "}function v(e,t){var o,i,a="";return a+="\n    <span class='letter-grade-points'>",(i=n.letterGrade)?o=i.call(e,{hash:{},data:t}):(i=e&&e.letterGrade,o=typeof i===w?i.call(e,{hash:{},data:t}):i),a+=k(o)+"</span>\n  "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var b,y="",w="function",k=this.escapeExpression,C=this;return y+='<div class="gradebook-cell">\n  ',b=n.unless.call(t,t&&t.hideTooltip,{hash:{},inverse:C.noop,fn:C.program(1,a,i),data:i}),(b||0===b)&&(y+=b),y+='\n  <span class="percentage">\n    ',b=n["if"].call(t,t&&t.warning,{hash:{},inverse:C.noop,fn:C.program(14,m,i),data:i}),(b||0===b)&&(y+=b),y+="\n\n    ",b=n["if"].call(t,t&&t.showPointsNotPercent,{hash:{},inverse:C.program(18,p,i),fn:C.program(16,h,i),data:i}),(b||0===b)&&(y+=b),y+="\n  </span>\n   ",b=n["if"].call(t,t&&t.letterGrade,{hash:{},inverse:C.noop,fn:C.program(23,v,i),data:i}),(b||0===b)&&(y+=b),y+="\n</div>\n"}),n["gradebook2/group_total_cell"]}),define("translations/gradebook2.row_student_name",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{gradebook2:{row_student_name:{student_placeholder:"الطالب"}}},de:{gradebook2:{row_student_name:{student_placeholder:"Student"}}},"en-AU":{gradebook2:{row_student_name:{student_placeholder:"Student"}}},"en-GB":{gradebook2:{row_student_name:{student_placeholder:"Student"}}},es:{gradebook2:{row_student_name:{student_placeholder:"Estudiante"}}},"fa-IR":{gradebook2:{row_student_name:{student_placeholder:"دانشجو"}}},fr:{gradebook2:{row_student_name:{student_placeholder:"Étudiant"}}},ja:{gradebook2:{row_student_name:{student_placeholder:"受講生"}}},ko:{gradebook2:{row_student_name:{student_placeholder:"학생"}}},nb:{gradebook2:{row_student_name:{student_placeholder:"Student"}}},nl:{gradebook2:{row_student_name:{student_placeholder:"Cursist"}}},pl:{gradebook2:{row_student_name:{student_placeholder:"Uczestnik"}}},pt:{gradebook2:{row_student_name:{student_placeholder:"Aluno"}}},"pt-BR":{gradebook2:{row_student_name:{student_placeholder:"Aluno"}}},ru:{gradebook2:{row_student_name:{student_placeholder:"Студент"}}},tr:{gradebook2:{row_student_name:{student_placeholder:"Öğrenci"}}},zh:{gradebook2:{row_student_name:{student_placeholder:"学生"}}}}})}),define("jst/gradebook2/row_student_name",["compiled/handlebars_helpers","i18n!gradebook2.row_student_name","jst/_avatar"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/row_student_name"]=t(function(e,t,n,o,i){function a(e,t){var o,i,a="";return a+="\n  <div class='student-section'>",(i=n.sectionNames)?o=i.call(e,{hash:{},data:t}):(i=e&&e.sectionNames,o=typeof i===d?i.call(e,{hash:{},data:t}):i),(o||0===o)&&(a+=o),a+="</div>\n"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),o=this.merge(o,e.partials),i=i||{};var s,r,l,u="",d="function",c=this,g=this.escapeExpression,m=n.helperMissing;return s=c.invokePartial(o.avatar,"avatar",t,n,o,i),(s||0===s)&&(u+=s),u+="\n<div class='student-name'><a class='student-grades-link' href=\"",(r=n.url)?s=r.call(t,{hash:{},data:i}):(r=t&&t.url,s=typeof r===d?r.call(t,{hash:{},data:i}):r),u+=g(s)+'">',(r=n.display_name)?s=r.call(t,{hash:{},data:i}):(r=t&&t.display_name,s=typeof r===d?r.call(t,{hash:{},data:i}):r),(s||0===s)&&(u+=s),u+='</a></div>\n<div class="student-placeholder">\n  ',r=n.t||t&&t.t,l={hash:{scope:"gradebook2.row_student_name"},data:i},s=r?r.call(t,"student_placeholder","Student",l):m.call(t,"t","student_placeholder","Student",l),(s||0===s)&&(u+=s),u+="\n</div>\n",s=n["if"].call(t,t&&t.sectionNames,{hash:{},inverse:c.noop,fn:c.program(1,a,i),data:i}),(s||0===s)&&(u+=s),u+="\n"}),n["gradebook2/row_student_name"]}),define("translations/gradebook2.section_to_show_menu",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"اختيار قسم لعرضه",showing_sections:"جارٍ عرض *%{currentSection}*"}}},de:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Wählen Sie einen Kursabschnitt aus, der angezeigt werden soll",showing_sections:"*%{currentSection}* wird angezeigt"}}},"en-AU":{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Choose a section to show",showing_sections:"Showing *%{currentSection}*"}}},"en-GB":{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Choose a section to show",showing_sections:"Showing *%{currentSection}*"}}},es:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Elija una sección para mostrarla",showing_sections:"Mostrando *%{currentSection}*"}}},"fa-IR":{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"انتخاب یک بخش برای نمایش",showing_sections:"نمایش *%{currentSection}*"}}},fr:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Choisir une section à afficher",showing_sections:"Afficher *%{currentSection}*"}}},ja:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"表示するセクションを選択",showing_sections:"*%{currentSection}* の表示"}}},ko:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"표시할 섹션 선택"}}},nb:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Velg en klasse å vise",showing_sections:"Viser *%{currentSection}*"}}},nl:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Een sectie kiezen om te tonen",showing_sections:"*%{currentSection}* tonen"}}},pl:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Wybierz sekcję, którą chcesz wyświetlić",showing_sections:"Wyświetlanie sekcji *%{currentSection}*"}}},pt:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Escolher uma seção para exibir",showing_sections:"A mostrar *%{currentSection}*"}}},"pt-BR":{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Escolher uma seção para exibir",showing_sections:"Exibindo *%{currentSection}*"}}},ru:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Выберите раздел для отображения",showing_sections:"Отображение *%{currentSection}*"}}},tr:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"Gösterilecek bir bölüm seçin",showing_sections:"*%{currentSection}* Gösteriliyor"}}},zh:{gradebook2:{section_to_show_menu:{choose_a_section_to_show:"选择要显示的班级",showing_sections:"显示 *%{currentSection}*"}}}}})}),define("jst/gradebook2/section_to_show_menu",["compiled/handlebars_helpers","i18n!gradebook2.section_to_show_menu"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/section_to_show_menu"]=t(function(e,t,n,o,i){function a(e,t){var o,i,a="";return a+='\n    <li>\n      <a href="#">\n        <label for="section_option_',(i=n.id)?o=i.call(e,{hash:{},data:t}):(i=e&&e.id,o=typeof i===c?i.call(e,{hash:{},data:t}):i),a+=g(o)+'">',(i=n.name)?o=i.call(e,{hash:{},data:t}):(i=e&&e.name,o=typeof i===c?i.call(e,{hash:{},data:t}):i),(o||0===o)&&(a+=o),a+='</label>\n        <input id="section_option_',(i=n.id)?o=i.call(e,{hash:{},data:t}):(i=e&&e.id,o=typeof i===c?i.call(e,{hash:{},data:t}):i),a+=g(o)+'" type="radio" value="',(i=n.id)?o=i.call(e,{hash:{},data:t}):(i=e&&e.id,o=typeof i===c?i.call(e,{hash:{},data:t}):i),a+=g(o)+'" name="section_to_show_radio" ',o=n["if"].call(e,e&&e.checked,{hash:{},inverse:m.noop,fn:m.program(2,s,t),data:t}),(o||0===o)&&(a+=o),a+=" />\n      </a>\n    </li>\n  "}function s(){return" checked "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var r,l,u,d="",c="function",g=this.escapeExpression,m=this,h=n.helperMissing;return d+='<button type="button" class="section-select-button">\n  ',l=n.t||t&&t.t,u={hash:{scope:"gradebook2.section_to_show_menu",w0:'<span class="selected-section">$1</span>'},data:i},r=l?l.call(t,"showing_sections","Showing *%{currentSection}*",u):h.call(t,"t","showing_sections","Showing *%{currentSection}*",u),(r||0===r)&&(d+=r),d+='\n</button>\n\n<ul class="section-select-menu" id="section-to-show-menu">\n  <li>',l=n.t||t&&t.t,u={hash:{scope:"gradebook2.section_to_show_menu"},data:i},r=l?l.call(t,"choose_a_section_to_show","Choose a section to show",u):h.call(t,"t","choose_a_section_to_show","Choose a section to show",u),(r||0===r)&&(d+=r),d+="</li>\n  ",r=n.each.call(t,t&&t.sections,{hash:{},inverse:m.noop,fn:m.program(1,a,i),data:i}),(r||0===r)&&(d+=r),d+="\n</ul>\n"}),n["gradebook2/section_to_show_menu"]}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("compiled/views/gradebook/SectionMenuView",["i18n!gradebook2","jquery","underscore","Backbone","jst/gradebook2/section_to_show_menu","compiled/jquery.kylemenu","vendor/jquery.ba-tinypubsub"],function(t,o,i,a,s){var r,l;return l=a.View,r=function(a){function r(t){this.onSectionChange=e(this.onSectionChange,this),r.__super__.constructor.apply(this,arguments),this.sections.unshift({name:this.defaultSection,checked:!t.currentSection})}return n(r,a),r.optionProperty("sections"),r.optionProperty("currentSection"),r.prototype.template=s,r.prototype.defaultSection=t.t("all_sections","All Sections"),r.prototype.render=function(){return this.detachEvents(),r.__super__.render.apply(this,arguments),this.$("button").kyleMenu(),this.attachEvents()},r.prototype.detachEvents=function(){return o.unsubscribe("currentSection/change",this.onSectionChange),this.$(".section-select-menu").off("menuselect")},r.prototype.attachEvents=function(){var e=this;return o.subscribe("currentSection/change",this.onSectionChange),this.$(".section-select-menu").on("click",function(e){return e.preventDefault()}),this.$(".section-select-menu").on("menuselect",function(t,n){var i;return i=e.$("[aria-checked=true] input[name=section_to_show_radio]").val()||void 0,o.publish("currentSection/change",[i,e.cid]),e.trigger("menuselect",t,n,e.currentSection)})},r.prototype.onSectionChange=function(e){return this.currentSection=e,this.updateSections(),this.render()},r.prototype.updateSections=function(){var e=this;return i.map(this.sections,function(t){return t.checked=t.id===e.currentSection,t})},r.prototype.toJSON=function(){var e;return{sections:this.sections,currentSection:(null!=(e=i.findWhere(this.sections,{id:this.currentSection}))?e.name:void 0)||this.defaultSection}},r}(l)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("compiled/gradebook2/GradebookKeyboardNav",["i18n!gradebook2","compiled/gradebook2/GRADEBOOK_TRANSLATIONS","jquery.keycodes"],function(t){var n;return n=function(){function n(t,n){this.slickGrid=t,this.$grid=n,this.showToolTip=e(this.showToolTip,this),this.showCommentDialog=e(this.showCommentDialog,this),this.gotoAssignment=e(this.gotoAssignment,this),this.showAssignmentMenu=e(this.showAssignmentMenu,this),this.sortOnHeader=e(this.sortOnHeader,this),this.getHeaderFromActiveCell=e(this.getHeaderFromActiveCell,this)}return n.prototype.init=function(){var e,t,n,o,i;for(o=this.keyBindings,i=[],t=0,n=o.length;n>t;t++)e=o[t],i.push(null!=e.handler&&null!=e.key&&null!=this[e.handler]?this.$grid.keycodes(e.key,this[e.handler]):void 0);return i},n.prototype.getHeaderFromActiveCell=function(){var e;return e=this.slickGrid.getActiveCell(),this.$grid.find(".slick-header-column").eq(e.cell)},n.prototype.sortOnHeader=function(){return this.getHeaderFromActiveCell().click()},n.prototype.showAssignmentMenu=function(){return this.getHeaderFromActiveCell().find(".gradebook-header-drop").click(),$(".gradebook-header-menu:visible").focus()},n.prototype.gotoAssignment=function(){var e;return e=this.getHeaderFromActiveCell().find(".assignment-name").attr("href"),window.location=e},n.prototype.showCommentDialog=function(){return $(this.slickGrid.getActiveCellNode()).find(".gradebook-cell-comment").click()},n.prototype.showToolTip=function(){var e;return e=$(this.slickGrid.getActiveCellNode()),"0px"===e.parent().css("top")?e.find("div.gradebook-tooltip").addClass("first-row"):e.find("div.gradebook-tooltip").removeClass("first-row"),e.toggleClass("hover")},n.prototype.keyBindings=[{handler:"sortOnHeader",key:t.t("keycodes.sort","s"),desc:t.t("keyboard_sort_desc","Sort the grid on the current active column")},{handler:"showAssignmentMenu",key:t.t("keycodes.menu","m"),desc:t.t("keyboard_menu_desc","Open the menu for active column's assignment")},{key:t.t("keycodes.close_menu","esc"),desc:t.t("keyboard_close_menu","Close the currently active assignment menu")},{handler:"gotoAssignment",key:t.t("keycodes.goto_assignment","g"),desc:t.t("keyboard_assignment_desc","Go to the current assignment's detail page")},{handler:"showCommentDialog",key:t.t("keycodes.comment","c"),desc:t.t("keyboard_comment_desc","Comment on the active submission")},{handler:"showToolTip",key:t.t("keycodes.tooltip","t"),desc:t.t("keyboard_tooltip_desc","Show the submission type of the active submission")}],n}()})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t=[].slice,n=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};define("compiled/gradebook2/Gradebook",["slickgrid.long_text_editor","compiled/views/KeyboardNavDialog","jst/KeyboardNavDialog","vendor/slickgrid","compiled/gradebook2/TotalColumnHeaderView","compiled/util/round","compiled/views/InputFilterView","i18n!gradebook2","compiled/gradebook2/GRADEBOOK_TRANSLATIONS","jquery","underscore","Backbone","timezone","compiled/grade_calculator","compiled/userSettings","vendor/spin","compiled/SubmissionDetailsDialog","compiled/gradebook2/AssignmentGroupWeightsDialog","compiled/gradebook2/GradeDisplayWarningDialog","compiled/gradebook2/SubmissionCell","compiled/gradebook2/GradebookHeaderMenu","compiled/util/NumberCompare","str/htmlEscape","compiled/gradebook2/UploadDialog","compiled/gradebook2/PostGradesDialog","compiled/gradebook2/PostGradesModel","jst/gradebook2/column_header","jst/gradebook2/group_total_cell","jst/gradebook2/row_student_name","compiled/views/gradebook/SectionMenuView","compiled/gradebook2/GradebookKeyboardNav","jst/_avatar","jquery.ajaxJSON","jquery.instructure_date_and_time","jqueryui/dialog","jquery.instructure_misc_helpers","jquery.instructure_misc_plugins","vendor/jquery.ba-tinypubsub","jqueryui/mouse","jqueryui/position","jqueryui/sortable","compiled/jquery.kylemenu","compiled/jquery/fixDialogButtons"],function(o,i,a,s,r,l,u,d,c,g,m,h,p,_,f,v,b,y,w,k,C,x,S,z,M,A,E,T,R,D,j){var N;return N=function(){function h(n){var o,i,a,s=this;this.options=n,this.setAssignmentWarnings=e(this.setAssignmentWarnings,this),this.gradeSort=e(this.gradeSort,this),this.localeSort=e(this.localeSort,this),this.onCellChange=e(this.onCellChange,this),this.initGrid=e(this.initGrid,this),this.onUserFilterInput=e(this.onUserFilterInput,this),this.togglePointsOrPercentTotals=e(this.togglePointsOrPercentTotals,this),this.switch_total_display_and_mark_user_as_warned=e(this.switch_total_display_and_mark_user_as_warned,this),this.switch_total_display=e(this.switch_total_display,this),this.displayPointTotals=e(this.displayPointTotals,this),this.weightedGroups=e(this.weightedGroups,this),this.studentNamesToggle=e(this.studentNamesToggle,this),this.initHeader=e(this.initHeader,this),this.displayPostGradesButton=e(this.displayPostGradesButton,this),this.updateCurrentSection=e(this.updateCurrentSection,this),this.onGridBlur=e(this.onGridBlur,this),this.hoverMinimizedCell=e(this.hoverMinimizedCell,this),this.unminimizeColumn=e(this.unminimizeColumn,this),this.minimizeColumn=e(this.minimizeColumn,this),this.fixColumnReordering=e(this.fixColumnReordering,this),this.unhighlightColumns=e(this.unhighlightColumns,this),this.highlightColumn=e(this.highlightColumn,this),this.calculateStudentGrade=e(this.calculateStudentGrade,this),this.htmlContentFormatter=e(this.htmlContentFormatter,this),this.groupTotalFormatter=e(this.groupTotalFormatter,this),this.staticCellFormatter=e(this.staticCellFormatter,this),this.cellFormatter=e(this.cellFormatter,this),this.updateSubmissionsFromExternal=e(this.updateSubmissionsFromExternal,this),this.updateSubmission=e(this.updateSubmission,this),this.withAllStudents=e(this.withAllStudents,this),this.student=e(this.student,this),this.gotSubmissionsChunk=e(this.gotSubmissionsChunk,this),this.getSubmissionsChunks=e(this.getSubmissionsChunks,this),this.buildRows=e(this.buildRows,this),this.assignmentGroupHtml=e(this.assignmentGroupHtml,this),this.renderTotalHeader=e(this.renderTotalHeader,this),this.handleAssignmentGroupWeightChange=e(this.handleAssignmentGroupWeightChange,this),this.handleAssignmentMutingChange=e(this.handleAssignmentMutingChange,this),this.rowFilter=e(this.rowFilter,this),this.wrapColumnSortFn=e(this.wrapColumnSortFn,this),this.makeCompareAssignmentCustomOrderFn=e(this.makeCompareAssignmentCustomOrderFn,this),this.compareAssignmentDueDates=e(this.compareAssignmentDueDates,this),this.compareAssignmentPositions=e(this.compareAssignmentPositions,this),this.makeColumnSortFn=e(this.makeColumnSortFn,this),this.arrangeColumnsBy=e(this.arrangeColumnsBy,this),this.setArrangementTogglersVisibility=e(this.setArrangementTogglersVisibility,this),this.storeCustomColumnOrder=e(this.storeCustomColumnOrder,this),this.onColumnsReordered=e(this.onColumnsReordered,this),this.setStoredSortOrder=e(this.setStoredSortOrder,this),this.getStoredSortOrder=e(this.getStoredSortOrder,this),this.gotChunkOfStudents=e(this.gotChunkOfStudents,this),this.gotSections=e(this.gotSections,this),this.gotAssignmentGroups=e(this.gotAssignmentGroups,this),this.doSlickgridStuff=e(this.doSlickgridStuff,this),this.chunk_start=0,this.students={},this.studentViewStudents={},this.rows=[],this.assignmentsToHide=f.contextGet("hidden_columns")||[],this.sectionToShow=f.contextGet("grading_show_only_section"),this.sectionToShow=this.sectionToShow&&String(this.sectionToShow),this.show_attendance=f.contextGet("show_attendance"),this.include_ungraded_assignments=f.contextGet("include_ungraded_assignments"),this.userFilterRemovedRows=[],this.show_concluded_enrollments=f.contextGet("show_concluded_enrollments"),this.options.course_is_concluded&&(this.show_concluded_enrollments=!0),g.subscribe("assignment_group_weights_changed",this.handleAssignmentGroupWeightChange),g.subscribe("assignment_muting_toggled",this.handleAssignmentMutingChange),g.subscribe("submissions_updated",this.updateSubmissionsFromExternal),g.subscribe("currentSection/change",this.updateCurrentSection),o=this.show_concluded_enrollments?"students_url_with_concluded_enrollments":"students_url",i=g.Deferred().done(function(){return s.gotAllStudents()
}),this.alignCoursePreferencesWithLocalStorage(),g.when(g.ajaxJSON(this.options[o],"GET"),g.ajaxJSON(this.options.assignment_groups_url,"GET",{},this.gotAssignmentGroups),g.ajaxJSON(this.options.sections_url,"GET",{},this.gotSections)).then(function(e){var n,a,r,l,u,d,c,m,h;return m=e[0],c=e[1],h=e[2],s.gotChunkOfStudents(m),d=h.getResponseHeader("Link"),r=d.match(/<[^>]+>; *rel="last"/),null==r?void i.resolve():(l=r[0].match(/page=(\d+)/)[1],l=parseInt(l,10),1===l?void i.resolve():(a=function(e){return g.ajaxJSON(s.options[o],"GET",{page:e})},n=function(){var e,t;for(t=[],u=e=2;l>=2?l>=e:e>=l;u=l>=2?++e:--e)t.push(a(u));return t}(),g.when.apply(g,n).then(function(){var e,o,a,r,l,u;if(e=1<=arguments.length?t.call(arguments,0):[],1===n.length)s.gotChunkOfStudents(e[0]);else for(r=0,l=e.length;l>r;r++)u=e[r],m=u[0],o=u[1],a=u[2],s.gotChunkOfStudents(m);return i.resolve()})))}),a=this.getCustomColumns(),this.gotAllData=g.when(a,i),this.allSubmissionsLoaded.done(function(){var e,t,n,o,i,a;for(i=s.customColumns,a=[],n=0,o=i.length;o>n;n++)e=i[n],t=s.options.custom_column_data_url.replace(/:id/,e.id),a.push(s.getCustomColumnData(e.id));return a}),this.showCustomColumnDropdownOption()}var N,I;return I={assignment:{min:10,default_max:200,max:400},assignmentGroup:{min:35,default_max:200,max:400},total:{min:85,max:100}},N=2,h.prototype.numberOfFrozenCols=2,h.prototype.hasSections=g.Deferred(),h.prototype.allSubmissionsLoaded=g.Deferred(),h.prototype.onShow=function(){return this.startedInitializing?void 0:(this.startedInitializing=!0,this.spinner||(this.spinner=new v),g(this.spinner.spin().el).css({opacity:.5,top:"55px",left:"50%"}).addClass("use-css-transitions-for-show-hide").appendTo("#main"),g("#gradebook-grid-wrapper").hide(),this.gotAllData.done(this.doSlickgridStuff))},h.prototype.getCustomColumns=function(){var e=this;return g.getJSON(this.options.custom_columns_url).then(function(t){return e.numberOfFrozenCols+=t.length,e.customColumns=t})},h.prototype.getCustomColumnData=function(e,t){var n=this;return t||(t=this.options.custom_column_data_url.replace(/:id/,e)),g.getJSON(t).done(function(t,o,i){var a,s,r,l,u;for(s=i.getResponseHeader("Link").match(/<([^>]+)>; *rel="next"/),s&&n.getCustomColumnData(e,s[1]),l=0,u=t.length;u>l;l++)a=t[l],r=n.student(a.user_id),r["custom_col_"+e]=a.content,n.grid.invalidateRow(r.row);return n.grid.render()})},h.prototype.initPostGrades=function(){var e=this;return g("#post-grades-button").click(function(t){var n,o,i,a;return t.preventDefault(),o={assignments:e.assignments,course_id:ENV.GRADEBOOK_OPTIONS.context_id},e.sectionToShow?o.integration_section_id=e.sections[e.sectionToShow].integration_id:o.integration_course_id=ENV.GRADEBOOK_OPTIONS.context_integration_id,a=new A(o),i=new M(a,ENV.GRADEBOOK_OPTIONS.sis_app_url,ENV.GRADEBOOK_OPTIONS.sis_app_token),a.reset_ignored_assignments(),i.render().show(),n=g("#post-grades-container").dialog("isOpen")})},h.prototype.doSlickgridStuff=function(){return this.initGrid(),this.buildRows(),this.getSubmissionsChunks(),this.initHeader()},h.prototype.gotAssignmentGroups=function(e){var t,n,o,i,a;for(this.assignmentGroups={},this.assignments={},new y({context:this.options,assignmentGroups:e}),a=[],o=0,i=e.length;i>o;o++)n=e[o],this.assignmentGroups[n.id]=n,ENV.GRADEBOOK_OPTIONS.draft_state_enabled&&(n.assignments=m.select(n.assignments,function(e){return e.published})),a.push(function(){var e,o,i,a;for(i=n.assignments,a=[],e=0,o=i.length;o>e;e++)t=i[e],S(t),t.assignment_group=n,t.due_at=p.parse(t.due_at),a.push(this.assignments[t.id]=t);return a}.call(this));return a},h.prototype.gotSections=function(e){var t,n,o;for(this.sections={},n=0,o=e.length;o>n;n++)t=e[n],S(t),this.sections[t.id]=t;return this.displayPostGradesButton(this.sectionToShow),this.sections_enabled=e.length>1,this.hasSections.resolve()},h.prototype.gotChunkOfStudents=function(e){var t,n,o,i,a,s,r,l,u,d;for(d=[],s=0,r=e.length;r>s;s++)n=e[s],t=n.user,t.enrollment=n,"StudentViewEnrollment"===t.enrollment.role?(o=this.studentViewStudents)[l=t.id]||(o[l]=S(t)):(i=this.students)[u=t.id]||(i[u]=S(t)),(a=this.student(t.id)).sections||(a.sections=[]),d.push(this.student(t.id).sections.push(n.course_section_id));return d},h.prototype.gotAllStudents=function(){var e=this;return this.withAllStudents(function(t){var n,o,i,a,s,r,l,u,d;d=[];for(o in t){r=t[o],r.computed_current_score||(r.computed_current_score=0),r.computed_final_score||(r.computed_final_score=0),r.secondary_identifier=r.sis_login_id||r.login_id,e.sections_enabled&&(i=function(){var e,t,n,o;for(n=r.sections,o=[],e=0,t=n.length;t>e;e++)a=n[e],this.sections[a]&&o.push(this.sections[a].name);return o}.call(e),s=g.toSentence(i.sort())),r.display_name=R({avatar_url:r.avatar_url,display_name:r.name,url:r.enrollment.grades.html_url+"#tab-assignments",sectionNames:s,alreadyEscaped:!0}),u=e.assignments;for(o in u)n=u[o],r[l="assignment_"+o]||(r[l]={assignment_id:o,user_id:r.id});d.push(e.rows.push(r))}return d})},h.prototype.defaultSortType="assignment_group",h.prototype.getStoredSortOrder=function(){return f.contextGet("sort_grade_columns_by")||{sortType:this.defaultSortType}},h.prototype.setStoredSortOrder=function(e){return e.sortType===this.defaultSortType?f.contextRemove("sort_grade_columns_by"):f.contextSet("sort_grade_columns_by",e)},h.prototype.onColumnsReordered=function(){var e,t,n,o,i,a=this;return t=this.grid.getColumns(),n=m(this.customColumns).map(function(e){return e.id}),i=function(){var n,i,a;for(a=[],n=0,i=t.length;i>n;n++)e=t[n],(o=e.id.match(/^custom_col_(\d+)/))&&a.push(o[1]);return a}(),m.isEqual(i,n)?this.storeCustomColumnOrder():this.reorderCustomColumns(i).then(function(){var e;return e=m(a.customColumns).indexBy(function(e){return e.id}),a.customColumns=m(i).map(function(t){return e[t]})})},h.prototype.reorderCustomColumns=function(e){return g.ajaxJSON(this.options.reorder_custom_columns_url,"POST",{order:e})},h.prototype.storeCustomColumnOrder=function(){var e,t,n;return n={sortType:"custom",customOrder:[]},t=this.grid.getColumns(),e=m.filter(t,function(e){return"assignment"===e.type}),n.customOrder=m.map(e,function(e){return e.object.id}),this.setStoredSortOrder(n)},h.prototype.setArrangementTogglersVisibility=function(e){return this.$columnArrangementTogglers.each(function(){return g(this).closest("li").showIf(g(this).data("arrangeColumnsBy")!==e.sortType)})},h.prototype.arrangeColumnsBy=function(e){var n,o;return this.setArrangementTogglersVisibility(e),this.setStoredSortOrder(e),n=this.grid.getColumns(),o=n.splice(0,this.numberOfFrozenCols),n.sort(this.makeColumnSortFn(e)),n.splice.apply(n,[0,0].concat(t.call(o))),this.grid.setColumns(n),this.fixColumnReordering(),this.buildRows()},h.prototype.makeColumnSortFn=function(e){var t;return t=function(){switch(e.sortType){case"assignment_group":case"alpha":return this.compareAssignmentPositions;case"due_date":return this.compareAssignmentDueDates;case"custom":return this.makeCompareAssignmentCustomOrderFn(e);default:throw"unhandled column sort condition"}}.call(this),this.wrapColumnSortFn(t)},h.prototype.compareAssignmentPositions=function(e,t){var n,o;return n=e.object.assignment_group.position-t.object.assignment_group.position,o=e.object.position-t.object.position,1e6*n+o},h.prototype.compareAssignmentDueDates=function(e,t){var n,o;return n=e.object.due_at?+e.object.due_at/1e3:Number.MAX_VALUE,o=t.object.due_at?+t.object.due_at/1e3:Number.MAX_VALUE,n===o?e.object.name===t.object.name?0:e.object.name>t.object.name?1:-1:n-o},h.prototype.makeCompareAssignmentCustomOrderFn=function(e){var t,n,o,i,a,s,r=this;for(o={},n=0,s=e.customOrder,i=0,a=s.length;a>i;i++)t=s[i],o[String(t)]=n,n+=1;return function(e,t){var n,i;return n=o[String(e.object.id)],i=o[String(t.object.id)],null!=n&&null!=i?n-i:null!=n&&null==i?-1:null!=i?1:r.compareAssignmentPositions(e,t)}},h.prototype.wrapColumnSortFn=function(e){return function(t,n){return"total_grade"===n.type?-1:"total_grade"===t.type?1:"assignment_group"===n.type&&"assignment_group"!==t.type?-1:"assignment_group"===t.type&&"assignment_group"!==n.type?1:"assignment_group"===t.type&&"assignment_group"===n.type?t.object.position-n.object.position:e(t,n)}},h.prototype.rowFilter=function(e){var t;return!this.sectionToShow||(t=this.sectionToShow,n.call(e.sections,t)>=0)},h.prototype.handleAssignmentMutingChange=function(e){var t,n;return n=this.grid.getColumnIndex("assignment_"+e.id),t=this.grid.getColumns()[n],t.name=this.assignmentHeaderHtml(e),this.grid.setColumns(this.grid.getColumns()),this.fixColumnReordering(),this.buildRows()},h.prototype.handleAssignmentGroupWeightChange=function(e){var t,n,o,i,a,s;for(o=this.grid.getColumns(),s=e.assignmentGroups,i=0,a=s.length;a>i;i++)t=s[i],n=m.findWhere(o,{id:"assignment_group_"+t.id}),n.name=this.assignmentGroupHtml(n.object.name,n.object.group_weight);return this.setAssignmentWarnings(),this.grid.setColumns(o),this.renderTotalHeader(),this.buildRows()},h.prototype.renderTotalHeader=function(){return this.totalHeader=new r({showingPoints:this.displayPointTotals,toggleShowingPoints:this.togglePointsOrPercentTotals.bind(this),weightedGroups:this.weightedGroups}),this.totalHeader.render()},h.prototype.assignmentGroupHtml=function(e,t){var n,o;return n=S(e),this.weightedGroups()?(o=d.toPercentage(t,{precision:2}),""+n+"<div class='assignment-points-possible'>\n  "+d.t("percent_of_grade","%{percentage} of grade",{percentage:o})+"\n</div>"):""+n},h.prototype.buildRows=function(){var e,t,n,o,i=this;this.rows.length=0,n=this.grid.getColumns();for(t in n)e=n[t],""+(null!=(o=e.object)?o.submission_types:void 0)=="attendance"&&(e.unselectable=!this.show_attendance,e.cssClass=this.show_attendance?"":"completely-hidden",this.$grid.find("#"+this.uid+e.id).showIf(this.show_attendance));return this.withAllStudents(function(){var e,n,o;n=i.students,o=[];for(t in n)e=n[t],e.row=-1,i.rowFilter(e)?(i.rows.push(e),o.push(i.calculateStudentGrade(e))):o.push(void 0);return o}),this.sortRowsBy(function(e,t){return i.localeSort(e.sortable_name,t.sortable_name)})},h.prototype.getSubmissionsChunks=function(){var e=this;return this.withAllStudents(function(t){var n,o,i,a,s,r,l;for(n=function(){var e;e=[];for(o in t)a=t[o],e.push(a);return e}(),l=[];;){if(r=n.slice(e.chunk_start,e.chunk_start+e.options.chunk_size),!r.length){e.allSubmissionsLoaded.resolve();break}i={student_ids:function(){var e,t,n;for(n=[],e=0,t=r.length;t>e;e++)s=r[e],n.push(s.id);return n}(),response_fields:["id","user_id","url","score","grade","submission_type","submitted_at","assignment_id","grade_matches_current_submission","attachments","late"]},g.ajaxJSON(e.options.submissions_url,"GET",i,e.gotSubmissionsChunk),l.push(e.chunk_start+=e.options.chunk_size)}return l})},h.prototype.gotSubmissionsChunk=function(e){var t,n,o,i,a,s,r,l;for(i=0,s=e.length;s>i;i++){for(t=e[i],n=this.student(t.user_id),l=t.submissions,a=0,r=l.length;r>a;a++)o=l[a],this.updateSubmission(o);n.loaded=!0,this.grid.invalidateRow(n.row),this.calculateStudentGrade(n)}return this.grid.render()},h.prototype.student=function(e){return this.students[e]||this.studentViewStudents[e]},h.prototype.withAllStudents=function(e){var t,n,o,i,a;o=this.studentViewStudents;for(t in o)n=o[t],this.students[t]=n;e(this.students),i=this.studentViewStudents,a=[];for(t in i)n=i[t],a.push(delete this.students[t]);return a},h.prototype.updateSubmission=function(e){var t;return t=this.student(e.user_id),e.submitted_at=p.parse(e.submitted_at),t["assignment_"+e.assignment_id]=e},h.prototype.updateSubmissionsFromExternal=function(e){var t,n,o,i,a,s,r,l,u,d,c,m,h,p,_;for(t=this.grid.getActiveCell(),a=g(this.grid.getActiveCellNode()).hasClass("editable"),i=this.grid.getColumns(),_=[],c=0,h=e.length;h>c;c++){for(u=e[c],l=this.student(u.user_id),s="assignment_"+u.assignment_id,r=m=0,p=i.length;p>m;r=++m)o=i[r],o.id===s&&(n=r);d=null!=t&&a&&t.row===l.row&&t.cell===n,this.updateSubmission(u),this.calculateStudentGrade(l),d||this.grid.updateCell(l.row,n),_.push(this.updateRowTotals(l.row))}return _},h.prototype.updateRowTotals=function(e){var t,n,o,i,a,s;for(o=this.grid.getColumns(),s=[],n=i=0,a=o.length;a>i;n=++i)t=o[n],s.push("assignment"!==t.type?this.grid.updateCell(e,n):void 0);return s},h.prototype.cellFormatter=function(e,t,n){var o;return this.rows[e].loaded?null==n?this.staticCellFormatter(e,t,"-"):(o=this.assignments[n.assignment_id],null==o?this.staticCellFormatter(e,t,""):"points"===o.grading_type&&o.points_possible?k.out_of.formatter(e,t,n,o):(k[o.grading_type]||k).formatter(e,t,n,o)):this.staticCellFormatter(e,t,"")},h.prototype.staticCellFormatter=function(e,t,n){return"<div class='cell-content gradebook-cell'>"+n+"</div>"},h.prototype.groupTotalFormatter=function(e,t,n,o){var i,a,s;return null==n?"":(a=Math.round(n.score/n.possible*1e3)/10,isNaN(a)&&(a=0),n.possible&&this.options.grading_standard&&"total_grade"===o.type&&(i=_.letter_grade(this.options.grading_standard,a)),s={score:l(n.score,N),possible:l(n.possible,N),letterGrade:i,percentage:a},"total_grade"===o.type&&(s.warning=this.totalGradeWarning,s.lastColumn=!0,s.showPointsNotPercent=this.displayPointTotals(),s.hideTooltip=this.weightedGroups()&&!this.totalGradeWarning),T(s))},h.prototype.htmlContentFormatter=function(e,t,n){return null==n?"":n},h.prototype.calculateStudentGrade=function(e){var t,n,o,i,a,s,r,l,u,d,c,g,m;if(e.loaded){for(t=this.include_ungraded_assignments?"final":"current",s=function(){var t;t=[];for(o in e)r=e[o],o.match(/^assignment_(?!group)/)&&t.push(r);return t}(),i=_.calculate(s,this.assignmentGroups,this.options.group_weighting_scheme),g=i.group_sums,l=0,d=g.length;d>l;l++)for(n=g[l],e["assignment_group_"+n.group.id]=n[t],m=n[t].submissions,u=0,c=m.length;c>u;u++)a=m[u],a.submission.drop=a.drop;return e.total_grade=i[t],this.addDroppedClass(e)}},h.prototype.addDroppedClass=function(e){var t,n,o,i,a,s,r,l;for(o=function(){var t;t=[];for(a in e)n=e[a],a.match(/assignment_\d+/)&&null!=n.drop&&t.push(a);return t}(),i={},i[e.row]={},r=0,l=o.length;l>r;r++)t=o[r],i[e.row][t]="dropped";return s="dropsForRow"+e.row,this.grid.removeCellCssStyles(s),this.grid.addCellCssStyles(s,i)},h.prototype.highlightColumn=function(e){var t,n,o;return t=this.$grid.find(".slick-header-column"),t.filter(".slick-sortable-placeholder").length?void 0:(n=this.grid.getCellFromEvent(e),o=this.grid.getColumns()[n.cell],t.filter("#"+this.uid+o.id).addClass("hovered-column"))},h.prototype.unhighlightColumns=function(){return this.$grid.find(".hovered-column").removeClass("hovered-column")},h.prototype.fixColumnReordering=function(){var e,t,n,o,i,a,s,r=this;return e=g("#gradebook_grid .container_1").find(".slick-header-columns"),a=e.sortable("option","items"),i='> *:not([id*="assignment_group"]):not([id*="total_grade"])',(o=function(){var t;return e.sortable("option","items",i),t=g(a,e).not(g(i,e)),t.data("sortable-item",null)})(),(n=function(){return e.find(".assignment_header_drop").click(function(e){var t;return t=g(e.target),t.data("gradebookHeaderMenu")||t.data("gradebookHeaderMenu",new C(r.assignments[t.data("assignmentId")],t,r)),!1})})(),s=e.sortable("option","stop"),(t=function(){return e.sortable("option","stop",function(){var i;return e.sortable("option","items",a),i=s.apply(this,arguments),o(),n(),t(),i})})()},h.prototype.minimizeColumn=function(e){var t,n;return n=e.data("column"),t=this.grid.getColumnIndex(n.id),n.cssClass=(n.cssClass||"").replace(" minimized","")+" minimized",n.unselectable=!0,n.unminimizedName=n.name,n.name="",n.minimized=!0,this.$grid.find(".l"+t).add(e).addClass("minimized"),this.assignmentsToHide.push(n.id),f.contextSet("hidden_columns",m.uniq(this.assignmentsToHide))},h.prototype.unminimizeColumn=function(e){var t,n;return n=e.data("column"),t=this.grid.getColumnIndex(n.id),n.cssClass=(n.cssClass||"").replace(" minimized",""),n.unselectable=!1,n.name=n.unminimizedName,n.minimized=!1,this.$grid.find(".l"+t).add(e).removeClass("minimized"),e.find(".slick-column-name").html(n.name),this.assignmentsToHide=g.grep(this.assignmentsToHide,function(e){return e!==n.id}),f.contextSet("hidden_columns",m.uniq(this.assignmentsToHide))},h.prototype.hoverMinimizedCell=function(e){var t,n,o,i,a,s,r,l;return t=g(e.currentTarget).removeClass("hover"),(o=this.grid.getCellFromEvent(e))?(i=this.grid.getColumns()[o.cell],n=i.object,s=t.offset(),a=[n.name],t.hasClass("slick-cell")?(r=this.rows[o.row][i.id],null!=n.points_possible?a.push(""+(null!=(l=r.score)?l:"--")+" / "+n.points_possible):null!=r.score&&a.push(r.score),Array.prototype.push.apply(a,g.map(k.classesBasedOnSubmission(r,n),function(e){return c["#submission_tooltip_"+e]}))):null!=n.points_possible&&a.push(d.t("points_out_of","out of %{points_possible}",{points_possible:n.points_possible})),t.data("tooltip",g("<span />",{"class":"gradebook-tooltip",css:{left:s.left-15,top:s.top,zIndex:1e4,display:"block"},html:a.join("<br />")}).appendTo("body").css("top",function(e,t){return parseInt(t)-g(this).outerHeight()}))):void 0},h.prototype.unhoverMinimizedCell=function(e){var t;return(t=g(this).data("tooltip"))?e.toElement===t[0]?t.mouseleave(function(){return t.remove()}):t.remove():void 0},h.prototype.fixMaxHeaderWidth=function(){return this.$grid.find(".slick-header-columns").width(1e6)},h.prototype.onGridBlur=function(e){return e.target.className.match(/cell|slick/)||!this.grid.getActiveCell||"grade"===e.target.className&&this.grid.getCellEditor()instanceof k.out_of||g(e.target).is(".dontblur,.dontblur *")?void 0:this.grid.getEditorLock().commitCurrentEdit()},h.prototype.onGridInit=function(){var e,t,n,o=this;return n={},g(this.spinner.el).remove(),g("#gradebook-grid-wrapper").show(),this.uid=this.grid.getUID(),this.$grid=e=g("#gradebook_grid").fillWindowWithMe({onResize:function(){return o.grid.resizeCanvas()}}).delegate(".slick-cell",{"mouseenter.gradebook focusin.gradebook":this.highlightColumn,"mouseleave.gradebook focusout.gradebook":this.unhighlightColumns,"mouseenter focusin":function(t){return e.find(".hover, .focus").removeClass("hover focus"),"0px"===g(this).parent().css("top")&&g(this).find("div.gradebook-tooltip").addClass("first-row"),g(this).addClass("mouseenter"===t.type?"hover":"focus")},"mouseleave focusout":function(){return g(this).removeClass("hover focus"),g(this).find("div.gradebook-tooltip").removeClass("first-row")}}).delegate(".gradebook-cell-comment","click.gradebook",function(e){var t;return e.preventDefault(),t=g(e.currentTarget).data(),g(o.grid.getActiveCellNode()).removeClass("editable"),b.open(o.assignments[t.assignmentId],o.student(t.userId.toString()),o.options)}).delegate(".minimized",{mouseenter:this.hoverMinimizedCell,mouseleave:this.unhoverMinimizedCell}),this.options.gradebook_is_editable&&this.$grid.addClass("editable"),this.fixMaxHeaderWidth(),this.grid.onColumnsResized.subscribe(function(){return o.$grid.find(".slick-header-column").each(function(e,t){var n,i;if(n=g(t),i=n.data("column"),"assignment"===i.type)if(n.outerWidth()<=I.assignment.min){if(!i.minimized)return o.minimizeColumn(n)}else if(i.minimized)return o.unminimizeColumn(n)})}),this.keyboardNav=new j(this.grid,this.$grid),this.keyboardNav.init(),t=this.keyboardNav.keyBindings,this.kbDialog=(new i).render(a({keyBindings:t})),g(document).on("dialogclose",function(){return setTimeout(function(){return o.grid.editActiveCell()},0)}),g(document).trigger("gridready")},h.prototype.sectionList=function(){var e=this;return m.map(this.sections,function(t,n){return{name:t.name,id:n,checked:e.sectionToShow===n}})},h.prototype.drawSectionSelectButton=function(){return this.sectionMenu=new D({el:g(".section-button-placeholder"),sections:this.sectionList(),currentSection:this.sectionToShow}),this.sectionMenu.render()},h.prototype.updateCurrentSection=function(e){return this.sectionToShow=e,this.displayPostGradesButton(e),f[this.sectionToShow?"contextSet":"contextRemove"]("grading_show_only_section",this.sectionToShow),this.grid?this.buildRows():void 0},h.prototype.displayPostGradesButton=function(e){var t,n;return null!=e?n=this.sections[e]&&this.sections[e].integration_id:t=ENV.GRADEBOOK_OPTIONS.context_integration_id,n||t?this.showPostGradesButton():this.hidePostGradesButton()},h.prototype.hidePostGradesButton=function(){return g("#post-grades-button").closest(".gradebook-navigation").addClass("hidden")},h.prototype.showPostGradesButton=function(){return g("#post-grades-button").closest(".gradebook-navigation").removeClass("hidden")},h.prototype.initHeader=function(){var e,t=this;return this.sections_enabled&&this.drawSectionSelectButton(),e=g("#gradebook_settings").next(),g.each(["show_attendance","include_ungraded_assignments","show_concluded_enrollments"],function(n,o){return e.find("#"+o).prop("checked",!!t[o]).change(function(n){return"show_concluded_enrollments"===o&&t.options.course_is_concluded&&t.show_concluded_enrollments?(g("#"+o).prop("checked",!0),e.menu("refresh"),alert(d.t("concluded_course_error_message","This is a concluded course, so only concluded enrollments are available."))):(t[o]=g(n.target).is(":checked"),f.contextSet(o,t[o]),"show_concluded_enrollments"===o&&window.location.reload(),"show_attendance"===o&&t.grid.setColumns(t.getVisibleGradeGridColumns()),t.buildRows())})}),m.detect(this.assignments,function(e){return""+e.submission_types=="attendance"})||e.find("#show_attendance").closest("li").hide(),this.$columnArrangementTogglers=g("#gradebook-toolbar [data-arrange-columns-by]").bind("click",function(e){var n;return e.preventDefault(),n={sortType:g(e.currentTarget).data("arrangeColumnsBy")},t.arrangeColumnsBy(n)}),this.arrangeColumnsBy(this.getStoredSortOrder()),g("#gradebook_settings").show().kyleMenu(),e.find(".gradebook_upload_link").click(function(e){return e.preventDefault(),new z(t.options.context_url)}),e.find(".student_names_toggle").click(this.studentNamesToggle),this.userFilter=new u({el:".gradebook_filter input"}),this.userFilter.on("input",this.onUserFilterInput),this.initPostGrades(),this.renderTotalHeader()},h.prototype.studentNamesToggle=function(e){var t;return e.preventDefault(),t=this.$grid.find(".grid-canvas"),t.toggleClass("hide-students"),g(e.currentTarget).text(t.hasClass("hide-students")?d.t("show_student_names","Show Student Names"):d.t("hide_student_names","Hide Student Names"))},h.prototype.weightedGroups=function(){return"percent"===this.options.group_weighting_scheme},h.prototype.displayPointTotals=function(){return this.weightedGroups()?!1:this.options.show_total_grade_as_points},h.prototype.switch_total_display=function(){return this.options.show_total_grade_as_points=!this.options.show_total_grade_as_points,g.ajaxJSON(this.options.setting_update_url,"PUT",{show_total_grade_as_points:this.displayPointTotals()}),this.grid.invalidate(),this.totalHeader.render()},h.prototype.switch_total_display_and_mark_user_as_warned=function(){return f.contextSet("warned_about_totals_display",!0),this.switch_total_display()},h.prototype.togglePointsOrPercentTotals=function(){var e;return f.contextGet("warned_about_totals_display")?this.switch_total_display():(e={showing_points:this.options.show_total_grade_as_points,unchecked_save:this.switch_total_display,checked_save:this.switch_total_display_and_mark_user_as_warned},new w(e))},h.prototype.onUserFilterInput=function(e){var t,n,o,i,a,s,r,l;if(t=this.grid.getData(),m.each(t,function(e){return null!=e.beforeFilteredRow?(e.row=e.beforeFilteredRow,delete e.beforeFilteredRow):void 0}),m.each(this.userFilterRemovedRows.reverse(),function(e){return t.splice(e.index,0,e.data)}),this.userFilterRemovedRows=[],""!==e)for(a=["name","login_id","short_name","sortable_name"],n=t.length;n--;)s=t[n],i=m.any(a,function(t){var n;return null!=(n=s[t])?n.match(new RegExp(e,"i")):void 0}),i||(o={index:n,data:t.splice(n,1)[0]},this.userFilterRemovedRows.push(o));for(n=r=0,l=t.length;l>r;n=++r)s=t[n],s.beforeFilteredRow=s.row,s.row=n;return this.grid.setData(t),this.grid.invalidate()},h.prototype.getVisibleGradeGridColumns=function(){var e,t,n,o,i,a;for(t=[].concat(this.parentColumns,this.customColumnDefinitions()),a=this.allAssignmentColumns,o=0,i=a.length;i>o;o++)e=a[o],n=""+e.object.submission_types,"not_graded"===n||"attendance"===n&&!this.show_attendance||t.push(e);return t.concat(this.aggregateColumns)},h.prototype.assignmentHeaderHtml=function(e){return E({assignment:e,href:e.html_url,showPointsPossible:null!=e.points_possible})},h.prototype.customColumnDefinitions=function(){return this.customColumns.map(function(e){return{id:"custom_col_"+e.id,name:S(e.title),field:"custom_col_"+e.id,width:100,cssClass:"meta-cell custom_column",resizable:!0,sortable:!0,editor:o,autoEdit:!1,maxLength:255}})},h.prototype.initGrid=function(){var e,t,o,i,a,r,l,u,c,m,h,p=this;return e=g('<span style="padding:10px" />').appendTo("#content"),m=function(t,n,o){var i;return i=Math.max(e.text(t).outerWidth(),n),Math.min(i,o)},this.setAssignmentWarnings(),this.parentColumns=[{id:"student",name:d.t("student_name","Student Name"),field:"display_name",width:150,cssClass:"meta-cell",resizable:!0,sortable:!0,formatter:this.htmlContentFormatter},{id:"secondary_identifier",name:d.t("secondary_id","Secondary ID"),field:"secondary_identifier",width:100,cssClass:"meta-cell secondary_identifier_cell",resizable:!0,sortable:!0,formatter:this.htmlContentFormatter}],this.allAssignmentColumns=function(){var e,a,s=this;e=this.assignments,a=[];for(r in e)t=e[r],c=t&&"points"===t.grading_type&&null!=t.points_possible&&k.out_of,l=c?70:90,i="assignment_"+r,o={id:i,field:i,name:this.assignmentHeaderHtml(t),object:t,formatter:this.cellFormatter,editor:c||k[t.grading_type]||k,minWidth:I.assignment.min,maxWidth:I.assignment.max,width:m(t.name,l,I.assignment.default_max),sortable:!0,toolTip:t.name,type:"assignment"},n.call(this.assignmentsToHide,i)>=0&&(o.width=10,function(e){return g(document).bind("gridready",function(){return s.minimizeColumn(s.$grid.find("#"+s.uid+e))}).unbind("gridready.render").bind("gridready.render",function(){return s.grid.invalidate()})}(i)),a.push(o);return a}.call(this),this.aggregateColumns=function(){var e,t;e=this.assignmentGroups,t=[];for(r in e)a=e[r],t.push({id:"assignment_group_"+r,field:"assignment_group_"+r,formatter:this.groupTotalFormatter,name:this.assignmentGroupHtml(a.name,a.group_weight),toolTip:a.name,object:a,minWidth:I.assignmentGroup.min,maxWidth:I.assignmentGroup.max,width:m(a.name,I.assignmentGroup.min,I.assignmentGroup.default_max),cssClass:"meta-cell assignment-group-cell",sortable:!0,type:"assignment_group"});return t}.call(this),h=d.t("total","Total"),this.aggregateColumns.push({id:"total_grade",field:"total_grade",formatter:this.groupTotalFormatter,name:""+h+"\n<div id=total_column_header></div>",toolTip:h,minWidth:I.total.min,maxWidth:I.total.max,width:m("Total",I.total.min,I.total.max),cssClass:"total-cell",sortable:!0,type:"total_grade"}),e.remove(),u=g.extend({enableCellNavigation:!0,enableColumnReorder:!0,enableAsyncPostRender:!0,asyncPostRenderDelay:1,autoEdit:!0,editable:this.options.gradebook_is_editable,syncColumnCellResize:!0,rowHeight:35,headerHeight:38,numberOfColumnsToFreeze:this.numberOfFrozenCols},this.options),this.grid=new s.Grid("#gradebook_grid",this.rows,this.getVisibleGradeGridColumns(),u),this.grid.setSortColumn("student"),this.grid.onCellChange.subscribe(this.onCellChange),g("body").on("click",this.onGridBlur),this.grid.onSort.subscribe(function(e,t){var n;return"display_name"===t.sortCol.field||"secondary_identifier"===t.sortCol.field||t.sortCol.field.match(/^custom_col/)?(n="display_name"===t.sortCol.field?"sortable_name":t.sortCol.field,p.sortRowsBy(function(e,o){var i;return t.sortAsc||(i=[e,o],o=i[0],e=i[1]),p.localeSort(e[n],o[n])})):p.sortRowsBy(function(e,n){return p.gradeSort(e,n,t.sortCol.field,t.sortAsc)})}),this.grid.onKeyDown.subscribe(function(){return!1}),this.grid.onColumnsReordered.subscribe(this.onColumnsReordered),this.onGridInit()},h.prototype.onCellChange=function(e,t){var n,o,i,a;return i=t.item,o=t.column,(n=o.field.match(/^custom_col_(\d+)/))?(a=this.options.custom_column_datum_url.replace(/:id/,n[1]).replace(/:user_id/,i.id),g.ajaxJSON(a,"PUT",{"column_data[content]":i[o.field]})):(this.calculateStudentGrade(i),this.grid.invalidate())},h.prototype.sortRowsBy=function(e){var t,n,o,i,a,s,r=this;for(n=function(){return m(r.studentViewStudents).size()?function(t,n){return r.studentViewStudents[t.id]?1:r.studentViewStudents[n.id]?-1:e(t,n)}:e},this.rows.sort(n()),s=this.rows,t=i=0,a=s.length;a>i;t=++i)o=s[t],o.row=t,this.addDroppedClass(o);return this.grid.invalidate()},h.prototype.localeSort=function(e,t){return(e||"").localeCompare(t||"",window.I18n.locale,{sensitivity:"accent",numeric:!0})},h.prototype.gradeSort=function(e,t,n,o){var i,a=this;return i=function(e){var t;switch(t=function(e){return e[n].possible>0?e[n].score/e[n].possible:null},!1){case"total_grade"!==n:return a.options.show_total_grade_as_points?e[n].score:t(e);case!n.match(/^assignment_group/):return t(e);default:return e[n].score}},x(i(e),i(t),{descending:!o})},h.prototype.setAssignmentWarnings=function(){var e,t,n,o,i,a,s,r,l,u;if(!this.weightedGroups())return i=m.inject(this.assignments,function(e,t){return e+(t.points_possible||0)},0),this.totalGradeWarning=0===i?d.t("no_assignments_have_points_warning","Can't compute score until an assignment has points possible"):null;for(o=m.filter(this.assignmentGroups,function(e){var t;return t=m.inject(e.assignments,function(e,t){return e+(t.points_possible||0)},0),0===t}),a=0,r=o.length;r>a;a++)for(t=o[a],u=t.assignments,s=0,l=u.length;l>s;s++)e=u[s],e.invalid=!0;return o.length>0?(n=function(){var e,n,i;for(i=[],e=0,n=o.length;n>e;e++)t=o[e],i.push(t.name);return i}(),this.totalGradeWarning=d.t("invalid_assignment_groups_warning",{one:"Score does not include %{groups} because it has                  no points possible",other:"Score does not include %{groups} because they have                    no points possible"},{groups:g.toSentence(n),count:n.length})):void 0},h.prototype.showCustomColumnDropdownOption=function(){var e,n,o,i,a,s,r,l,u,c,m,h,p,_=this;return s=g("<li>").appendTo(".gradebook_drop_down"),l=d.t("show_notes","Show Notes Column"),o=d.t("hide_notes","Hide Notes Column"),h=function(){return _.options.custom_column_url.replace(/:id/,_.options.teacher_notes.id)},e=g("<a>",{href:this.options.custom_columns_url,"class":"create",text:l}),u=function(){return g("<a>",{href:h(),"class":"show",text:l})},i=function(){return g("<a>",{href:h(),"class":"hide",text:o})},n=function(e,t,n){return g.ajaxJSON(e.target.href,t,n)},p=function(e){var n,o;return o=_.numberOfFrozenCols,e(),n=_.grid.getColumns(),n.splice.apply(n,[0,o].concat(t.call(_.parentColumns),t.call(_.customColumnDefinitions()))),_.grid.setColumns(n),_.grid.invalidate()},m=!1,c=function(){return m||_.getCustomColumnData(_.options.teacher_notes.id),p(function(){return _.customColumns.splice(0,0,_.options.teacher_notes),_.grid.setNumberOfColumnsToFreeze(++_.numberOfFrozenCols)}),s.html(i())},a=function(){return p(function(){var e,t,n,o,i;for(i=_.customColumns,t=n=0,o=i.length;o>n;t=++n)if(e=i[t],e.teacher_notes){_.customColumns.splice(t,1),_.numberOfFrozenCols-=1;break}return _.grid.setNumberOfColumnsToFreeze(_.numberOfFrozenCols)}),s.html(u())},s.click(function(e){var t;return e.preventDefault(),t=g(e.target),t.hasClass("show")&&n(e,"PUT",{"column[hidden]":!1}).then(function(){return c(),_.reorderCustomColumns(_.customColumns.map(function(e){return e.id}))}),t.hasClass("hide")&&n(e,"PUT",{"column[hidden]":!0}).then(a()),t.hasClass("create")?n(e,"POST",{"column[title]":d.t("notes","Notes"),"column[position]":1,"column[teacher_notes]":!0}).then(function(e){return _.options.teacher_notes=e,c()}):void 0}),r=this.options.teacher_notes,s.html(r?r.hidden?u():i():e)},h.prototype.alignCoursePreferencesWithLocalStorage=function(){var e;return e=f.contextGet("show_point_totals"),e&&e!==this.options.show_total_grade_as_points?(this.options.show_total_grade_as_points=e,f.contextRemove("show_point_totals"),g.ajaxJSON(this.options.setting_update_url,"PUT",{show_total_grade_as_points:this.options.show_total_grade_as_points})):void 0
},h}()})}.call(this),function(){var e={}.hasOwnProperty,t=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};define("compiled/views/gradebook/NavigationPillView",["jquery","Backbone"],function(e,n){var o,i,a;return i=n.View,o=function(n){function o(){return a=o.__super__.constructor.apply(this,arguments)}return t(o,n),o.prototype.events={"click a":"onToggle"},o.prototype.onToggle=function(e){return e.preventDefault(),this.setActiveTab(e.target)},o.prototype.setActiveTab=function(t){return this.$("li").removeClass("active"),e(t).parent().addClass("active"),this.trigger("pillchange",e(t).data("id"))},o.prototype.setActiveView=function(e){return this.setActiveTab(this.$("[data-id="+e+"]"))},o}(i)})}.call(this),define("translations/gradebook2.header_filter",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{gradebook2:{header_filter:{course_average:"معدل المساق",course_median:"متوسط المساق",course_mode:"وضع المساق"}}},de:{gradebook2:{header_filter:{course_average:"Kursdurchschnitt",course_median:"Mittlerer Wert für Kurs",course_mode:"Kursmodus"}}},"en-AU":{gradebook2:{header_filter:{course_average:"Course average",course_median:"Course median",course_mode:"Course mode"}}},"en-GB":{gradebook2:{header_filter:{course_average:"Course average",course_median:"Course median",course_mode:"Course mode"}}},es:{gradebook2:{header_filter:{course_average:"Media del curso",course_median:"Mediana del curso",course_mode:"Moda del curso"}}},"fa-IR":{gradebook2:{header_filter:{course_average:"میانگین درس",course_median:"میانه درس",course_mode:"مد درس"}}},fr:{gradebook2:{header_filter:{course_average:"Moyenne du cours",course_median:"Médiane du cours",course_mode:"Mode du cours"}}},ja:{gradebook2:{header_filter:{course_average:"コース平均値",course_median:"コース中央値",course_mode:"コース モード"}}},ko:{},nb:{gradebook2:{header_filter:{course_average:"Gjennomsnitt i kurset",course_median:"Median i kurset",course_mode:"Kursmodus"}}},nl:{gradebook2:{header_filter:{course_average:"Cursus gemiddelde",course_median:"Cursus mediaan",course_mode:"Cursus modus"}}},pl:{gradebook2:{header_filter:{course_average:"Średnia kursu",course_median:"Mediana kursu",course_mode:"Tryb kursu"}}},pt:{gradebook2:{header_filter:{course_average:"Média da disciplina",course_median:"Mediana da disciplina",course_mode:"Modo da disciplina"}}},"pt-BR":{gradebook2:{header_filter:{course_average:"Média do curso",course_median:"Média do curso",course_mode:"Modo de curso"}}},ru:{gradebook2:{header_filter:{course_average:"Средняя оценка курса",course_median:"Медиана курса",course_mode:"Режим курса"}}},tr:{gradebook2:{header_filter:{course_average:"Dersin ortalaması",course_median:"Dersin medyanı",course_mode:"Dersin modu"}}},zh:{gradebook2:{header_filter:{course_average:"课程平均分数",course_median:"课程中值分数",course_mode:"课程模式"}}}}})}),define("jst/gradebook2/header_filter",["compiled/handlebars_helpers","i18n!gradebook2.header_filter"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/header_filter"]=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s,r,l="",u=n.helperMissing;return l+='<div class="inline-block" role="application">\n  <a class="al-trigger" href="#" data-append-to-body="true" role="button">\n    <span class="current-label">',s=n.t||t&&t.t,r={hash:{scope:"gradebook2.header_filter"},data:i},a=s?s.call(t,"course_average","Course average",r):u.call(t,"t","course_average","Course average",r),(a||0===a)&&(l+=a),l+='</span>\n    <i class="icon-mini-arrow-down"></i>\n  </a>\n\n  <ul class="al-options">\n    <li><a href="#" data-method="average">',s=n.t||t&&t.t,r={hash:{scope:"gradebook2.header_filter"},data:i},a=s?s.call(t,"course_average","Course average",r):u.call(t,"t","course_average","Course average",r),(a||0===a)&&(l+=a),l+='</a></li>\n    <li><a href="#" data-method="median">',s=n.t||t&&t.t,r={hash:{scope:"gradebook2.header_filter"},data:i},a=s?s.call(t,"course_median","Course median",r):u.call(t,"t","course_median","Course median",r),(a||0===a)&&(l+=a),l+='</a></li>\n    <li><a href="#" data-method="mode">',s=n.t||t&&t.t,r={hash:{scope:"gradebook2.header_filter"},data:i},a=s?s.call(t,"course_mode","Course mode",r):u.call(t,"t","course_mode","Course mode",r),(a||0===a)&&(l+=a),l+="</a></li>\n  </ul>\n</div>\n"}),n["gradebook2/header_filter"]}),function(){var e={}.hasOwnProperty,t=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};define("compiled/views/gradebook/HeaderFilterView",["i18n!gradebook2","Backbone","compiled/gradebook2/OutcomeGradebookGrid","jst/gradebook2/header_filter"],function(e,n,o,i){var a,s,r;return s=n.View,a=function(n){function o(){return r=o.__super__.constructor.apply(this,arguments)}return t(o,n),o.prototype.className="text-right",o.prototype.template=i,o.prototype.labels={average:e.t("course_average","Course average"),median:e.t("course_median","Course median"),mode:e.t("course_mode","Course mode")},o.prototype.events={"click li a":"onClick"},o.optionProperty("grid"),o.optionProperty("redrawFn"),o.prototype.onClick=function(e){var t;return e.preventDefault(),e.stopPropagation(),t=e.target.getAttribute("data-method"),this.closeMenu(),this.updateLabel(t),this.recalculateHeader(t)},o.prototype.closeMenu=function(){return this.$el.find(".al-trigger").data("kyleMenu").close()},o.prototype.updateLabel=function(e){return this.$(".current-label").text(this.labels[e])},o.prototype.recalculateHeader=function(e){return"average"===e&&(e="mean"),this.redrawFn(this.grid,e)},o}(s)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}};define("compiled/util/Popover",["jquery"],function(t){var n,o,i,a;return a=function(e,n){return t(this).css(e).toggleClass("carat-bottom","bottom"===n.vertical)},i=0,o=[],n=function(){function n(n,o,i){var a=this;this.content=o,this.options=null!=i?i:{},this.position=e(this.position,this),this.outsideClickHandler=e(this.outsideClickHandler,this),this.trigger=t(n.currentTarget),this.el=t(this.content).addClass("carat-bottom").attr("role","dialog").data("popover",this).keyup(function(e){return e.keyCode===t.ui.keyCode.ESCAPE?a.hide():void 0}),this.el.delegate(".popover_close","click",function(e){return e.preventDefault(),a.hide()}),this.show(n)}return n.prototype.show=function(e){for(var n,a,s,r,l,u,d;u=o.pop();)u.hide();return o.push(this),r="popover-"+i++,this.trigger.attr({"aria-haspopup":!0,"aria-owns":r}),this.el.attr({id:r,"aria-hidden":!1,"aria-expanded":!0}).appendTo(document.body).show(),this.el.find(":tabbable").not(".popover_close").first().focus(1),this.position(),this.el.find(".ui-menu-carat").remove(),s=this.trigger.offset().left-this.el.offset().left,n=e.pageX-this.trigger.offset().left,l=Math.max(0,this.trigger.width()/2-this.el.width()/2)+20,d=this.trigger.width()-l,a=Math.min(Math.max(l,n),d)+s,t('<span class="ui-menu-carat"><span /></span>').css("left",a).prependTo(this.el),this.positionInterval=setInterval(this.position,200),t(window).click(this.outsideClickHandler)},n.prototype.hide=function(){var e,n,i,a;for(e=i=0,a=o.length;a>i;e=++i)n=o[e],this===n&&o.splice(e,1);return this.el.detach(),clearInterval(this.positionInterval),t(window).unbind("click",this.outsideClickHandler),this.trigger&&this.trigger.is(":visible")?this.trigger.focus():void 0},n.prototype.ignoreOutsideClickSelector=".ui-dialog",n.prototype.outsideClickHandler=function(e){return t(e.target).closest(this.el.add(this.trigger).add(this.ignoreOutsideClickSelector)).length?void 0:this.hide()},n.prototype.position=function(){return this.el.position({my:"center "+("bottom"===this.options.verticalSide?"top":"bottom"),at:"center "+(this.options.verticalSide||"top"),of:this.trigger,offset:"0 -10px",within:"body",collision:"flipfit "+(this.options.verticalSide?"none":"flipfit"),using:a})},n}()})}.call(this),!function(){function e(e){return null!=e&&!isNaN(e)}function t(e){return e.length}function n(e){for(var t=1;e*t%1;)t*=10;return t}function o(e,t){try{for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}catch(o){e.prototype=t}}function i(){}function a(e){return lr+e in this}function s(e){return e=lr+e,e in this&&delete this[e]}function r(){var e=[];return this.forEach(function(t){e.push(t)}),e}function l(){var e=0;for(var t in this)t.charCodeAt(0)===ur&&++e;return e}function u(){for(var e in this)if(e.charCodeAt(0)===ur)return!1;return!0}function d(){}function c(e,t,n){return function(){var o=n.apply(t,arguments);return o===t?e:o}}function g(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.substring(1);for(var n=0,o=dr.length;o>n;++n){var i=dr[n]+t;if(i in e)return i}}function m(){}function h(){}function p(e){function t(){for(var t,o=n,i=-1,a=o.length;++i<a;)(t=o[i].on)&&t.apply(this,arguments);return e}var n=[],o=new i;return t.on=function(t,i){var a,s=o.get(t);return arguments.length<2?s&&s.on:(s&&(s.on=null,n=n.slice(0,a=n.indexOf(s)).concat(n.slice(a+1)),o.remove(t)),i&&n.push(o.set(t,{on:i})),e)},t}function _(){Us.event.preventDefault()}function f(){for(var e,t=Us.event;e=t.sourceEvent;)t=e;return t}function v(e){for(var t=new h,n=0,o=arguments.length;++n<o;)t[arguments[n]]=p(t);return t.of=function(n,o){return function(i){try{var a=i.sourceEvent=Us.event;i.target=e,Us.event=i,t[i.type].apply(n,o)}finally{Us.event=a}}},t}function b(e){return gr(e,fr),e}function y(e){return"function"==typeof e?e:function(){return mr(e,this)}}function w(e){return"function"==typeof e?e:function(){return hr(e,this)}}function k(e,t){function n(){this.removeAttribute(e)}function o(){this.removeAttributeNS(e.space,e.local)}function i(){this.setAttribute(e,t)}function a(){this.setAttributeNS(e.space,e.local,t)}function s(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}function r(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}return e=Us.ns.qualify(e),null==t?e.local?o:n:"function"==typeof t?e.local?r:s:e.local?a:i}function C(e){return e.trim().replace(/\s+/g," ")}function x(e){return new RegExp("(?:^|\\s+)"+Us.requote(e)+"(?:\\s+|$)","g")}function S(e){return e.trim().split(/^|\s+/)}function z(e,t){function n(){for(var n=-1;++n<i;)e[n](this,t)}function o(){for(var n=-1,o=t.apply(this,arguments);++n<i;)e[n](this,o)}e=S(e).map(M);var i=e.length;return"function"==typeof t?o:n}function M(e){var t=x(e);return function(n,o){if(i=n.classList)return o?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";o?(t.lastIndex=0,t.test(i)||n.setAttribute("class",C(i+" "+e))):n.setAttribute("class",C(i.replace(t," ")))}}function A(e,t,n){function o(){this.style.removeProperty(e)}function i(){this.style.setProperty(e,t,n)}function a(){var o=t.apply(this,arguments);null==o?this.style.removeProperty(e):this.style.setProperty(e,o,n)}return null==t?o:"function"==typeof t?a:i}function E(e,t){function n(){delete this[e]}function o(){this[e]=t}function i(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}return null==t?n:"function"==typeof t?i:o}function T(e){return"function"==typeof e?e:(e=Us.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,e)}}function R(e){return{__data__:e}}function D(e){return function(){return _r(this,e)}}function j(e){return arguments.length||(e=Us.ascending),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function N(e,t){for(var n=0,o=e.length;o>n;n++)for(var i,a=e[n],s=0,r=a.length;r>s;s++)(i=a[s])&&t(i,s,n);return e}function I(e){return gr(e,br),e}function P(e){var t,n;return function(o,i,a){var s,r=e[a].update,l=r.length;for(a!=n&&(n=a,t=0),i>=t&&(t=i+1);!(s=r[t])&&++t<l;);return s}}function O(){var e=this.__transition__;e&&++e.active}function L(e,t,n){function o(){var t=this[s];t&&(this.removeEventListener(e,t,t.$),delete this[s])}function i(){var i=l(t,Ys(arguments));o.call(this),this.addEventListener(e,this[s]=i,i.$=n),i._=t}function a(){var t,n=new RegExp("^__on([^.]+)"+Us.requote(e)+"$");for(var o in this)if(t=o.match(n)){var i=this[o];this.removeEventListener(t[1],i,i.$),delete this[o]}}var s="__on"+e,r=e.indexOf("."),l=$;r>0&&(e=e.substring(0,r));var u=wr.get(e);return u&&(e=u,l=G),r?t?i:o:t?m:a}function $(e,t){return function(n){var o=Us.event;Us.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{Us.event=o}}}function G(e,t){var n=$(e,t);return function(e){var t=this,o=e.relatedTarget;o&&(o===t||8&o.compareDocumentPosition(t))||n.call(t,e)}}function q(){var e=".dragsuppress-"+ ++Cr,t="click"+e,n=Us.select(Xs).on("touchmove"+e,_).on("dragstart"+e,_).on("selectstart"+e,_);if(kr){var o=Zs.style,i=o[kr];o[kr]="none"}return function(a){function s(){n.on(t,null)}n.on(e,null),kr&&(o[kr]=i),a&&(n.on(t,function(){_(),s()},!0),setTimeout(s,0))}}function F(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var o=n.createSVGPoint();if(0>xr&&(Xs.scrollX||Xs.scrollY)){n=Us.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=n[0][0].getScreenCTM();xr=!(i.f||i.e),n.remove()}return xr?(o.x=t.pageX,o.y=t.pageY):(o.x=t.clientX,o.y=t.clientY),o=o.matrixTransform(e.getScreenCTM().inverse()),[o.x,o.y]}var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}function V(e){return e>0?1:0>e?-1:0}function H(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function W(e){return e>1?0:-1>e?Sr:Math.acos(e)}function B(e){return e>1?Mr:-1>e?-Mr:Math.asin(e)}function U(e){return((e=Math.exp(e))-1/e)/2}function K(e){return((e=Math.exp(e))+1/e)/2}function Y(e){return((e=Math.exp(2*e))-1)/(e+1)}function J(e){return(e=Math.sin(e/2))*e}function Z(){}function X(e,t,n){return new Q(e,t,n)}function Q(e,t,n){this.h=e,this.s=t,this.l=n}function et(e,t,n){function o(e){return e>360?e-=360:0>e&&(e+=360),60>e?a+(s-a)*e/60:180>e?s:240>e?a+(s-a)*(240-e)/60:a}function i(e){return Math.round(255*o(e))}var a,s;return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:0>t?0:t>1?1:t,n=0>n?0:n>1?1:n,s=.5>=n?n*(1+t):n+t-n*t,a=2*n-s,mt(i(e+120),i(e),i(e-120))}function tt(e,t,n){return new nt(e,t,n)}function nt(e,t,n){this.h=e,this.c=t,this.l=n}function ot(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),it(n,Math.cos(e*=Tr)*t,Math.sin(e)*t)}function it(e,t,n){return new at(e,t,n)}function at(e,t,n){this.l=e,this.a=t,this.b=n}function st(e,t,n){var o=(e+16)/116,i=o+t/500,a=o-n/200;return i=lt(i)*qr,o=lt(o)*Fr,a=lt(a)*Vr,mt(dt(3.2404542*i-1.5371385*o-.4985314*a),dt(-.969266*i+1.8760108*o+.041556*a),dt(.0556434*i-.2040259*o+1.0572252*a))}function rt(e,t,n){return e>0?tt(Math.atan2(n,t)*Rr,Math.sqrt(t*t+n*n),e):tt(0/0,0/0,e)}function lt(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function ut(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function dt(e){return Math.round(255*(.00304>=e?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ct(e){return mt(e>>16,e>>8&255,255&e)}function gt(e){return ct(e)+""}function mt(e,t,n){return new ht(e,t,n)}function ht(e,t,n){this.r=e,this.g=t,this.b=n}function pt(e){return 16>e?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function _t(e,t,n){var o,i,a,s=0,r=0,l=0;if(o=/([a-z]+)\((.*)\)/i.exec(e))switch(i=o[2].split(","),o[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(yt(i[0]),yt(i[1]),yt(i[2]))}return(a=Br.get(e))?t(a.r,a.g,a.b):(null!=e&&"#"===e.charAt(0)&&(4===e.length?(s=e.charAt(1),s+=s,r=e.charAt(2),r+=r,l=e.charAt(3),l+=l):7===e.length&&(s=e.substring(1,3),r=e.substring(3,5),l=e.substring(5,7)),s=parseInt(s,16),r=parseInt(r,16),l=parseInt(l,16)),t(s,r,l))}function ft(e,t,n){var o,i,a=Math.min(e/=255,t/=255,n/=255),s=Math.max(e,t,n),r=s-a,l=(s+a)/2;return r?(i=.5>l?r/(s+a):r/(2-s-a),o=e==s?(t-n)/r+(n>t?6:0):t==s?(n-e)/r+2:(e-t)/r+4,o*=60):(o=0/0,i=l>0&&1>l?0:o),X(o,i,l)}function vt(e,t,n){e=bt(e),t=bt(t),n=bt(n);var o=ut((.4124564*e+.3575761*t+.1804375*n)/qr),i=ut((.2126729*e+.7151522*t+.072175*n)/Fr),a=ut((.0193339*e+.119192*t+.9503041*n)/Vr);return it(116*i-16,500*(o-i),200*(i-a))}function bt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function yt(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}function wt(e){return"function"==typeof e?e:function(){return e}}function kt(e){return e}function Ct(e){return function(t,n,o){return 2===arguments.length&&"function"==typeof n&&(o=n,n=null),xt(t,n,e,o)}}function xt(e,t,n,o){function i(){var e,t=l.status;if(!t&&l.responseText||t>=200&&300>t||304===t){try{e=n.call(a,l)}catch(o){return void s.error.call(a,o)}s.load.call(a,e)}else s.error.call(a,l)}var a={},s=Us.dispatch("beforesend","progress","load","error"),r={},l=new XMLHttpRequest,u=null;return!Xs.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(e)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(e){var t=Us.event;Us.event=e;try{s.progress.call(a,l)}finally{Us.event=t}},a.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?r[e]:(null==t?delete r[e]:r[e]=t+"",a)},a.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",a):t},a.responseType=function(e){return arguments.length?(u=e,a):u},a.response=function(e){return n=e,a},["get","post"].forEach(function(e){a[e]=function(){return a.send.apply(a,[e].concat(Ys(arguments)))}}),a.send=function(n,o,i){if(2===arguments.length&&"function"==typeof o&&(i=o,o=null),l.open(n,e,!0),null==t||"accept"in r||(r.accept=t+",*/*"),l.setRequestHeader)for(var d in r)l.setRequestHeader(d,r[d]);return null!=t&&l.overrideMimeType&&l.overrideMimeType(t),null!=u&&(l.responseType=u),null!=i&&a.on("error",i).on("load",function(e){i(null,e)}),s.beforesend.call(a,l),l.send(null==o?null:o),a},a.abort=function(){return l.abort(),a},Us.rebind(a,s,"on"),null==o?a:a.get(St(o))}function St(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}function zt(){var e=Mt(),t=At()-e;t>24?(isFinite(t)&&(clearTimeout(Jr),Jr=setTimeout(zt,t)),Yr=0):(Yr=1,Xr(zt))}function Mt(){var e=Date.now();for(Zr=Ur;Zr;)e>=Zr.t&&(Zr.f=Zr.c(e-Zr.t)),Zr=Zr.n;return e}function At(){for(var e,t=Ur,n=1/0;t;)t.f?t=e?e.n=t.n:Ur=t.n:(t.t<n&&(n=t.t),t=(e=t).n);return Kr=e,n}function Et(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}function Tt(e,t){var n=Math.pow(10,3*rr(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}function Rt(e){var t=e.decimal,n=e.thousands,o=e.grouping,i=e.currency,a=o?function(e){for(var t=e.length,i=[],a=0,s=o[0];t>0&&s>0;)i.push(e.substring(t-=s,t+s)),s=o[a=(a+1)%o.length];return i.reverse().join(n)}:kt;return function(e){var n=el.exec(e),o=n[1]||" ",s=n[2]||">",r=n[3]||"",l=n[4]||"",u=n[5],d=+n[6],c=n[7],g=n[8],m=n[9],h=1,p="",_="",f=!1;switch(g&&(g=+g.substring(1)),(u||"0"===o&&"="===s)&&(u=o="0",s="=",c&&(d-=Math.floor((d-1)/4))),m){case"n":c=!0,m="g";break;case"%":h=100,_="%",m="f";break;case"p":h=100,_="%",m="r";break;case"b":case"o":case"x":case"X":"#"===l&&(p="0"+m.toLowerCase());case"c":case"d":f=!0,g=0;break;case"s":h=-1,m="r"}"$"===l&&(p=i[0],_=i[1]),"r"!=m||g||(m="g"),null!=g&&("g"==m?g=Math.max(1,Math.min(21,g)):("e"==m||"f"==m)&&(g=Math.max(0,Math.min(20,g)))),m=tl.get(m)||Dt;var v=u&&c;return function(e){if(f&&e%1)return"";var n=0>e||0===e&&0>1/e?(e=-e,"-"):r;if(0>h){var i=Us.formatPrefix(e,g);e=i.scale(e),_=i.symbol}else e*=h;e=m(e,g);var l=e.lastIndexOf("."),b=0>l?e:e.substring(0,l),y=0>l?"":t+e.substring(l+1);!u&&c&&(b=a(b));var w=p.length+b.length+y.length+(v?0:n.length),k=d>w?new Array(w=d-w+1).join(o):"";return v&&(b=a(k+b)),n+=p,e=b+y,("<"===s?n+e+k:">"===s?k+n+e:"^"===s?k.substring(0,w>>=1)+n+e+k.substring(w):n+(v?e:k+e))+_}}}function Dt(e){return e+""}function jt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Nt(e,t,n){function o(t){var n=e(t),o=a(n,1);return o-t>t-n?n:o}function i(n){return t(n=e(new ol(n-1)),1),n}function a(e,n){return t(e=new ol(+e),n),e}function s(e,o,a){var s=i(e),r=[];if(a>1)for(;o>s;)n(s)%a||r.push(new Date(+s)),t(s,1);else for(;o>s;)r.push(new Date(+s)),t(s,1);return r}function r(e,t,n){try{ol=jt;var o=new jt;return o._=e,s(o,t,n)}finally{ol=Date}}e.floor=e,e.round=o,e.ceil=i,e.offset=a,e.range=s;var l=e.utc=It(e);return l.floor=l,l.round=It(o),l.ceil=It(i),l.offset=It(a),l.range=r,e}function It(e){return function(t,n){try{ol=jt;var o=new jt;return o._=t,e(o,n)._}finally{ol=Date}}}function Pt(e){function t(e){function t(t){for(var n,i,a,s=[],r=-1,l=0;++r<o;)37===e.charCodeAt(r)&&(s.push(e.substring(l,r)),null!=(i=al[n=e.charAt(++r)])&&(n=e.charAt(++r)),(a=A[n])&&(n=a(t,null==i?"e"===n?" ":"0":i)),s.push(n),l=r+1);return s.push(e.substring(l,r)),s.join("")}var o=e.length;return t.parse=function(t){var o={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(o,e,t,0);if(i!=t.length)return null;"p"in o&&(o.H=o.H%12+12*o.p);var a=null!=o.Z&&ol!==jt,s=new(a?jt:ol);return"j"in o?s.setFullYear(o.y,0,o.j):"w"in o&&("W"in o||"U"in o)?(s.setFullYear(o.y,0,1),s.setFullYear(o.y,0,"W"in o?(o.w+6)%7+7*o.W-(s.getDay()+5)%7:o.w+7*o.U-(s.getDay()+6)%7)):s.setFullYear(o.y,o.m,o.d),s.setHours(o.H+Math.floor(o.Z/100),o.M+o.Z%100,o.S,o.L),a?s._:s},t.toString=function(){return e},t}function n(e,t,n,o){for(var i,a,s,r=0,l=t.length,u=n.length;l>r;){if(o>=u)return-1;if(i=t.charCodeAt(r++),37===i){if(s=t.charAt(r++),a=E[s in al?t.charAt(r++):s],!a||(o=a(e,n,o))<0)return-1}else if(i!=n.charCodeAt(o++))return-1}return o}function o(e,t,n){k.lastIndex=0;var o=k.exec(t.substring(n));return o?(e.w=C.get(o[0].toLowerCase()),n+o[0].length):-1}function i(e,t,n){y.lastIndex=0;var o=y.exec(t.substring(n));return o?(e.w=w.get(o[0].toLowerCase()),n+o[0].length):-1}function a(e,t,n){z.lastIndex=0;var o=z.exec(t.substring(n));return o?(e.m=M.get(o[0].toLowerCase()),n+o[0].length):-1}function s(e,t,n){x.lastIndex=0;var o=x.exec(t.substring(n));return o?(e.m=S.get(o[0].toLowerCase()),n+o[0].length):-1}function r(e,t,o){return n(e,A.c.toString(),t,o)}function l(e,t,o){return n(e,A.x.toString(),t,o)}function u(e,t,o){return n(e,A.X.toString(),t,o)}function d(e,t,n){var o=b.get(t.substring(n,n+=2).toLowerCase());return null==o?-1:(e.p=o,n)}var c=e.dateTime,g=e.date,m=e.time,h=e.periods,p=e.days,_=e.shortDays,f=e.months,v=e.shortMonths;t.utc=function(e){function n(e){try{ol=jt;var t=new ol;return t._=e,o(t)}finally{ol=Date}}var o=t(e);return n.parse=function(e){try{ol=jt;var t=o.parse(e);return t&&t._}finally{ol=Date}},n.toString=o.toString,n},t.multi=t.utc.multi=nn;var b=Us.map(),y=Lt(p),w=$t(p),k=Lt(_),C=$t(_),x=Lt(f),S=$t(f),z=Lt(v),M=$t(v);h.forEach(function(e,t){b.set(e.toLowerCase(),t)});var A={a:function(e){return _[e.getDay()]},A:function(e){return p[e.getDay()]},b:function(e){return v[e.getMonth()]},B:function(e){return f[e.getMonth()]},c:t(c),d:function(e,t){return Ot(e.getDate(),t,2)},e:function(e,t){return Ot(e.getDate(),t,2)},H:function(e,t){return Ot(e.getHours(),t,2)},I:function(e,t){return Ot(e.getHours()%12||12,t,2)},j:function(e,t){return Ot(1+nl.dayOfYear(e),t,3)},L:function(e,t){return Ot(e.getMilliseconds(),t,3)},m:function(e,t){return Ot(e.getMonth()+1,t,2)},M:function(e,t){return Ot(e.getMinutes(),t,2)},p:function(e){return h[+(e.getHours()>=12)]},S:function(e,t){return Ot(e.getSeconds(),t,2)},U:function(e,t){return Ot(nl.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ot(nl.mondayOfYear(e),t,2)},x:t(g),X:t(m),y:function(e,t){return Ot(e.getFullYear()%100,t,2)},Y:function(e,t){return Ot(e.getFullYear()%1e4,t,4)},Z:en,"%":function(){return"%"}},E={a:o,A:i,b:a,B:s,c:r,d:Kt,e:Kt,H:Jt,I:Jt,j:Yt,L:Qt,m:Ut,M:Zt,p:d,S:Xt,U:qt,w:Gt,W:Ft,x:l,X:u,y:Ht,Y:Vt,Z:Wt,"%":tn};return t}function Ot(e,t,n){var o=0>e?"-":"",i=(o?-e:e)+"",a=i.length;return o+(n>a?new Array(n-a+1).join(t)+i:i)}function Lt(e){return new RegExp("^(?:"+e.map(Us.requote).join("|")+")","i")}function $t(e){for(var t=new i,n=-1,o=e.length;++n<o;)t.set(e[n].toLowerCase(),n);return t}function Gt(e,t,n){sl.lastIndex=0;var o=sl.exec(t.substring(n,n+1));return o?(e.w=+o[0],n+o[0].length):-1}function qt(e,t,n){sl.lastIndex=0;var o=sl.exec(t.substring(n));return o?(e.U=+o[0],n+o[0].length):-1}function Ft(e,t,n){sl.lastIndex=0;var o=sl.exec(t.substring(n));return o?(e.W=+o[0],n+o[0].length):-1}function Vt(e,t,n){sl.lastIndex=0;var o=sl.exec(t.substring(n,n+4));return o?(e.y=+o[0],n+o[0].length):-1}function Ht(e,t,n){sl.lastIndex=0;var o=sl.exec(t.substring(n,n+2));return o?(e.y=Bt(+o[0]),n+o[0].length):-1}function Wt(e,t,n){return/^[+-]\d{4}$/.test(t=t.substring(n,n+5))?(e.Z=+t,n+5):-1}function Bt(e){return e+(e>68?1900:2e3)}function Ut(e,t,n){sl.lastIndex=0;var o=sl.exec(t.substring(n,n+2));return o?(e.m=o[0]-1,n+o[0].length):-1}function Kt(e,t,n){sl.lastIndex=0;var o=sl.exec(t.substring(n,n+2));return o?(e.d=+o[0],n+o[0].length):-1}function Yt(e,t,n){sl.lastIndex=0;var o=sl.exec(t.substring(n,n+3));return o?(e.j=+o[0],n+o[0].length):-1}function Jt(e,t,n){sl.lastIndex=0;var o=sl.exec(t.substring(n,n+2));return o?(e.H=+o[0],n+o[0].length):-1}function Zt(e,t,n){sl.lastIndex=0;var o=sl.exec(t.substring(n,n+2));return o?(e.M=+o[0],n+o[0].length):-1}function Xt(e,t,n){sl.lastIndex=0;var o=sl.exec(t.substring(n,n+2));return o?(e.S=+o[0],n+o[0].length):-1}function Qt(e,t,n){sl.lastIndex=0;var o=sl.exec(t.substring(n,n+3));return o?(e.L=+o[0],n+o[0].length):-1}function en(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",o=~~(rr(t)/60),i=rr(t)%60;return n+Ot(o,"0",2)+Ot(i,"0",2)}function tn(e,t,n){rl.lastIndex=0;var o=rl.exec(t.substring(n,n+1));return o?n+o[0].length:-1}function nn(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,o=e[n];!o[1](t);)o=e[++n];return o[0](t)}}function on(){}function an(e,t,n){var o=n.s=e+t,i=o-e,a=o-i;n.t=e-a+(t-i)}function sn(e,t){e&&cl.hasOwnProperty(e.type)&&cl[e.type](e,t)}function rn(e,t,n){var o,i=-1,a=e.length-n;for(t.lineStart();++i<a;)o=e[i],t.point(o[0],o[1],o[2]);t.lineEnd()}function ln(e,t){var n=-1,o=e.length;for(t.polygonStart();++n<o;)rn(e[n],t,1);t.polygonEnd()}function un(){function e(e,t){e*=Tr,t=t*Tr/2+Sr/4;var n=e-o,s=Math.cos(t),r=Math.sin(t),l=a*r,u=i*s+l*Math.cos(n),d=l*Math.sin(n);ml.add(Math.atan2(d,u)),o=e,i=s,a=r}var t,n,o,i,a;hl.point=function(s,r){hl.point=e,o=(t=s)*Tr,i=Math.cos(r=(n=r)*Tr/2+Sr/4),a=Math.sin(r)},hl.lineEnd=function(){e(t,n)}}function dn(e){var t=e[0],n=e[1],o=Math.cos(n);return[o*Math.cos(t),o*Math.sin(t),Math.sin(n)]}function cn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function gn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function mn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function hn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function pn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function _n(e){return[Math.atan2(e[1],e[0]),B(e[2])]}function fn(e,t){return rr(e[0]-t[0])<Ar&&rr(e[1]-t[1])<Ar}function vn(e,t){e*=Tr;var n=Math.cos(t*=Tr);bn(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function bn(e,t,n){++pl,fl+=(e-fl)/pl,vl+=(t-vl)/pl,bl+=(n-bl)/pl}function yn(){function e(e,i){e*=Tr;var a=Math.cos(i*=Tr),s=a*Math.cos(e),r=a*Math.sin(e),l=Math.sin(i),u=Math.atan2(Math.sqrt((u=n*l-o*r)*u+(u=o*s-t*l)*u+(u=t*r-n*s)*u),t*s+n*r+o*l);_l+=u,yl+=u*(t+(t=s)),wl+=u*(n+(n=r)),kl+=u*(o+(o=l)),bn(t,n,o)}var t,n,o;zl.point=function(i,a){i*=Tr;var s=Math.cos(a*=Tr);t=s*Math.cos(i),n=s*Math.sin(i),o=Math.sin(a),zl.point=e,bn(t,n,o)}}function wn(){zl.point=vn}function kn(){function e(e,t){e*=Tr;var n=Math.cos(t*=Tr),s=n*Math.cos(e),r=n*Math.sin(e),l=Math.sin(t),u=i*l-a*r,d=a*s-o*l,c=o*r-i*s,g=Math.sqrt(u*u+d*d+c*c),m=o*s+i*r+a*l,h=g&&-W(m)/g,p=Math.atan2(g,m);Cl+=h*u,xl+=h*d,Sl+=h*c,_l+=p,yl+=p*(o+(o=s)),wl+=p*(i+(i=r)),kl+=p*(a+(a=l)),bn(o,i,a)}var t,n,o,i,a;zl.point=function(s,r){t=s,n=r,zl.point=e,s*=Tr;var l=Math.cos(r*=Tr);o=l*Math.cos(s),i=l*Math.sin(s),a=Math.sin(r),bn(o,i,a)},zl.lineEnd=function(){e(t,n),zl.lineEnd=wn,zl.point=vn}}function Cn(){return!0}function xn(e,t,n,o,i){var a=[],s=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],o=e[t];if(fn(n,o)){i.lineStart();for(var r=0;t>r;++r)i.point((n=e[r])[0],n[1]);return void i.lineEnd()}var l=new zn(n,e,null,!0),u=new zn(n,null,l,!1);l.o=u,a.push(l),s.push(u),l=new zn(o,e,null,!1),u=new zn(o,null,l,!0),l.o=u,a.push(l),s.push(u)}}),s.sort(t),Sn(a),Sn(s),a.length){for(var r=0,l=n,u=s.length;u>r;++r)s[r].e=l=!l;for(var d,c,g=a[0];;){for(var m=g,h=!0;m.v;)if((m=m.n)===g)return;d=m.z,i.lineStart();do{if(m.v=m.o.v=!0,m.e){if(h)for(var r=0,u=d.length;u>r;++r)i.point((c=d[r])[0],c[1]);else o(m.x,m.n.x,1,i);m=m.n}else{if(h){d=m.p.z;for(var r=d.length-1;r>=0;--r)i.point((c=d[r])[0],c[1])}else o(m.x,m.p.x,-1,i);m=m.p}m=m.o,d=m.z,h=!h}while(!m.v);i.lineEnd()}}}function Sn(e){if(t=e.length){for(var t,n,o=0,i=e[0];++o<t;)i.n=n=e[o],n.p=i,i=n;i.n=n=e[0],n.p=i}}function zn(e,t,n,o){this.x=e,this.z=t,this.o=n,this.e=o,this.v=!1,this.n=this.p=null}function Mn(e,t,n,o){return function(i,a){function s(t,n){var o=i(t,n);e(t=o[0],n=o[1])&&a.point(t,n)}function r(e,t){var n=i(e,t);_.point(n[0],n[1])}function l(){v.point=r,_.lineStart()}function u(){v.point=s,_.lineEnd()}function d(e,t){p.push([e,t]);var n=i(e,t);y.point(n[0],n[1])}function c(){y.lineStart(),p=[]}function g(){d(p[0][0],p[0][1]),y.lineEnd();var e,t=y.clean(),n=b.buffer(),o=n.length;if(p.pop(),h.push(p),p=null,o){if(1&t){e=n[0];var i,o=e.length-1,s=-1;for(a.lineStart();++s<o;)a.point((i=e[s])[0],i[1]);return void a.lineEnd()}o>1&&2&t&&n.push(n.pop().concat(n.shift())),m.push(n.filter(An))}}var m,h,p,_=t(a),f=i.invert(o[0],o[1]),v={point:s,lineStart:l,lineEnd:u,polygonStart:function(){v.point=d,v.lineStart=c,v.lineEnd=g,m=[],h=[],a.polygonStart()},polygonEnd:function(){v.point=s,v.lineStart=l,v.lineEnd=u,m=Us.merge(m);var e=Rn(f,h);m.length?xn(m,Tn,e,n,a):e&&(a.lineStart(),n(null,null,1,a),a.lineEnd()),a.polygonEnd(),m=h=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},b=En(),y=t(b);return v}}function An(e){return e.length>1}function En(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:m,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function Tn(e,t){return((e=e.x)[0]<0?e[1]-Mr-Ar:Mr-e[1])-((t=t.x)[0]<0?t[1]-Mr-Ar:Mr-t[1])}function Rn(e,t){var n=e[0],o=e[1],i=[Math.sin(n),-Math.cos(n),0],a=0,s=0;ml.reset();for(var r=0,l=t.length;l>r;++r){var u=t[r],d=u.length;if(d)for(var c=u[0],g=c[0],m=c[1]/2+Sr/4,h=Math.sin(m),p=Math.cos(m),_=1;;){_===d&&(_=0),e=u[_];var f=e[0],v=e[1]/2+Sr/4,b=Math.sin(v),y=Math.cos(v),w=f-g,k=rr(w)>Sr,C=h*b;if(ml.add(Math.atan2(C*Math.sin(w),p*y+C*Math.cos(w))),a+=k?w+(w>=0?zr:-zr):w,k^g>=n^f>=n){var x=gn(dn(c),dn(e));pn(x);var S=gn(i,x);pn(S);var z=(k^w>=0?-1:1)*B(S[2]);(o>z||o===z&&(x[0]||x[1]))&&(s+=k^w>=0?1:-1)}if(!_++)break;g=f,h=b,p=y,c=e}}return(-Ar>a||Ar>a&&0>ml)^1&s}function Dn(e){var t,n=0/0,o=0/0,i=0/0;return{lineStart:function(){e.lineStart(),t=1},point:function(a,s){var r=a>0?Sr:-Sr,l=rr(a-n);rr(l-Sr)<Ar?(e.point(n,o=(o+s)/2>0?Mr:-Mr),e.point(i,o),e.lineEnd(),e.lineStart(),e.point(r,o),e.point(a,o),t=0):i!==r&&l>=Sr&&(rr(n-i)<Ar&&(n-=i*Ar),rr(a-r)<Ar&&(a-=r*Ar),o=jn(n,o,a,s),e.point(i,o),e.lineEnd(),e.lineStart(),e.point(r,o),t=0),e.point(n=a,o=s),i=r},lineEnd:function(){e.lineEnd(),n=o=0/0},clean:function(){return 2-t}}}function jn(e,t,n,o){var i,a,s=Math.sin(e-n);return rr(s)>Ar?Math.atan((Math.sin(t)*(a=Math.cos(o))*Math.sin(n)-Math.sin(o)*(i=Math.cos(t))*Math.sin(e))/(i*a*s)):(t+o)/2}function Nn(e,t,n,o){var i;if(null==e)i=n*Mr,o.point(-Sr,i),o.point(0,i),o.point(Sr,i),o.point(Sr,0),o.point(Sr,-i),o.point(0,-i),o.point(-Sr,-i),o.point(-Sr,0),o.point(-Sr,i);
else if(rr(e[0]-t[0])>Ar){var a=e[0]<t[0]?Sr:-Sr;i=n*a/2,o.point(-a,i),o.point(0,i),o.point(a,i)}else o.point(t[0],t[1])}function In(e){function t(e,t){return Math.cos(e)*Math.cos(t)>a}function n(e){var n,a,l,u,d;return{lineStart:function(){u=l=!1,d=1},point:function(c,g){var m,h=[c,g],p=t(c,g),_=s?p?0:i(c,g):p?i(c+(0>c?Sr:-Sr),g):0;if(!n&&(u=l=p)&&e.lineStart(),p!==l&&(m=o(n,h),(fn(n,m)||fn(h,m))&&(h[0]+=Ar,h[1]+=Ar,p=t(h[0],h[1]))),p!==l)d=0,p?(e.lineStart(),m=o(h,n),e.point(m[0],m[1])):(m=o(n,h),e.point(m[0],m[1]),e.lineEnd()),n=m;else if(r&&n&&s^p){var f;_&a||!(f=o(h,n,!0))||(d=0,s?(e.lineStart(),e.point(f[0][0],f[0][1]),e.point(f[1][0],f[1][1]),e.lineEnd()):(e.point(f[1][0],f[1][1]),e.lineEnd(),e.lineStart(),e.point(f[0][0],f[0][1])))}!p||n&&fn(n,h)||e.point(h[0],h[1]),n=h,l=p,a=_},lineEnd:function(){l&&e.lineEnd(),n=null},clean:function(){return d|(u&&l)<<1}}}function o(e,t,n){var o=dn(e),i=dn(t),s=[1,0,0],r=gn(o,i),l=cn(r,r),u=r[0],d=l-u*u;if(!d)return!n&&e;var c=a*l/d,g=-a*u/d,m=gn(s,r),h=hn(s,c),p=hn(r,g);mn(h,p);var _=m,f=cn(h,_),v=cn(_,_),b=f*f-v*(cn(h,h)-1);if(!(0>b)){var y=Math.sqrt(b),w=hn(_,(-f-y)/v);if(mn(w,h),w=_n(w),!n)return w;var k,C=e[0],x=t[0],S=e[1],z=t[1];C>x&&(k=C,C=x,x=k);var M=x-C,A=rr(M-Sr)<Ar,E=A||Ar>M;if(!A&&S>z&&(k=S,S=z,z=k),E?A?S+z>0^w[1]<(rr(w[0]-C)<Ar?S:z):S<=w[1]&&w[1]<=z:M>Sr^(C<=w[0]&&w[0]<=x)){var T=hn(_,(-f+y)/v);return mn(T,h),[w,_n(T)]}}}function i(t,n){var o=s?e:Sr-e,i=0;return-o>t?i|=1:t>o&&(i|=2),-o>n?i|=4:n>o&&(i|=8),i}var a=Math.cos(e),s=a>0,r=rr(a)>Ar,l=uo(e,6*Tr);return Mn(t,n,l,s?[0,-e]:[-Sr,e-Sr])}function Pn(e,t,n,o){return function(i){var a,s=i.a,r=i.b,l=s.x,u=s.y,d=r.x,c=r.y,g=0,m=1,h=d-l,p=c-u;if(a=e-l,h||!(a>0)){if(a/=h,0>h){if(g>a)return;m>a&&(m=a)}else if(h>0){if(a>m)return;a>g&&(g=a)}if(a=n-l,h||!(0>a)){if(a/=h,0>h){if(a>m)return;a>g&&(g=a)}else if(h>0){if(g>a)return;m>a&&(m=a)}if(a=t-u,p||!(a>0)){if(a/=p,0>p){if(g>a)return;m>a&&(m=a)}else if(p>0){if(a>m)return;a>g&&(g=a)}if(a=o-u,p||!(0>a)){if(a/=p,0>p){if(a>m)return;a>g&&(g=a)}else if(p>0){if(g>a)return;m>a&&(m=a)}return g>0&&(i.a={x:l+g*h,y:u+g*p}),1>m&&(i.b={x:l+m*h,y:u+m*p}),i}}}}}}function On(e,t,n,o){function i(o,i){return rr(o[0]-e)<Ar?i>0?0:3:rr(o[0]-n)<Ar?i>0?2:1:rr(o[1]-t)<Ar?i>0?1:0:i>0?3:2}function a(e,t){return s(e.x,t.x)}function s(e,t){var n=i(e,1),o=i(t,1);return n!==o?n-o:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(r){function l(e){for(var t=0,n=_.length,o=e[1],i=0;n>i;++i)for(var a,s=1,r=_[i],l=r.length,u=r[0];l>s;++s)a=r[s],u[1]<=o?a[1]>o&&H(u,a,e)>0&&++t:a[1]<=o&&H(u,a,e)<0&&--t,u=a;return 0!==t}function u(a,r,l,u){var d=0,c=0;if(null==a||(d=i(a,l))!==(c=i(r,l))||s(a,r)<0^l>0){do u.point(0===d||3===d?e:n,d>1?o:t);while((d=(d+l+4)%4)!==c)}else u.point(r[0],r[1])}function d(i,a){return i>=e&&n>=i&&a>=t&&o>=a}function c(e,t){d(e,t)&&r.point(e,t)}function g(){E.point=h,_&&_.push(f=[]),x=!0,C=!1,w=k=0/0}function m(){p&&(h(v,b),y&&C&&M.rejoin(),p.push(M.buffer())),E.point=c,C&&r.lineEnd()}function h(e,t){e=Math.max(-Al,Math.min(Al,e)),t=Math.max(-Al,Math.min(Al,t));var n=d(e,t);if(_&&f.push([e,t]),x)v=e,b=t,y=n,x=!1,n&&(r.lineStart(),r.point(e,t));else if(n&&C)r.point(e,t);else{var o={a:{x:w,y:k},b:{x:e,y:t}};A(o)?(C||(r.lineStart(),r.point(o.a.x,o.a.y)),r.point(o.b.x,o.b.y),n||r.lineEnd(),S=!1):n&&(r.lineStart(),r.point(e,t),S=!1)}w=e,k=t,C=n}var p,_,f,v,b,y,w,k,C,x,S,z=r,M=En(),A=Pn(e,t,n,o),E={point:c,lineStart:g,lineEnd:m,polygonStart:function(){r=M,p=[],_=[],S=!0},polygonEnd:function(){r=z,p=Us.merge(p);var t=l([e,o]),n=S&&t,i=p.length;(n||i)&&(r.polygonStart(),n&&(r.lineStart(),u(null,null,1,r),r.lineEnd()),i&&xn(p,a,t,u,r),r.polygonEnd()),p=_=f=null}};return E}}function Ln(e,t){function n(n,o){return n=e(n,o),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,o){return n=t.invert(n,o),n&&e.invert(n[0],n[1])}),n}function $n(e){var t=0,n=Sr/3,o=to(e),i=o(t,n);return i.parallels=function(e){return arguments.length?o(t=e[0]*Sr/180,n=e[1]*Sr/180):[t/Sr*180,n/Sr*180]},i}function Gn(e,t){function n(e,t){var n=Math.sqrt(a-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),s-n*Math.cos(e)]}var o=Math.sin(e),i=(o+Math.sin(t))/2,a=1+o*(2*i-o),s=Math.sqrt(a)/i;return n.invert=function(e,t){var n=s-t;return[Math.atan2(e,n)/i,B((a-(e*e+n*n)*i*i)/(2*i))]},n}function qn(){function e(e,t){Tl+=i*e-o*t,o=e,i=t}var t,n,o,i;Il.point=function(a,s){Il.point=e,t=o=a,n=i=s},Il.lineEnd=function(){e(t,n)}}function Fn(e,t){Rl>e&&(Rl=e),e>jl&&(jl=e),Dl>t&&(Dl=t),t>Nl&&(Nl=t)}function Vn(){function e(e,t){s.push("M",e,",",t,a)}function t(e,t){s.push("M",e,",",t),r.point=n}function n(e,t){s.push("L",e,",",t)}function o(){r.point=e}function i(){s.push("Z")}var a=Hn(4.5),s=[],r={point:e,lineStart:function(){r.point=t},lineEnd:o,polygonStart:function(){r.lineEnd=i},polygonEnd:function(){r.lineEnd=o,r.point=e},pointRadius:function(e){return a=Hn(e),r},result:function(){if(s.length){var e=s.join("");return s=[],e}}};return r}function Hn(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}function Wn(e,t){fl+=e,vl+=t,++bl}function Bn(){function e(e,o){var i=e-t,a=o-n,s=Math.sqrt(i*i+a*a);yl+=s*(t+e)/2,wl+=s*(n+o)/2,kl+=s,Wn(t=e,n=o)}var t,n;Ol.point=function(o,i){Ol.point=e,Wn(t=o,n=i)}}function Un(){Ol.point=Wn}function Kn(){function e(e,t){var n=e-o,a=t-i,s=Math.sqrt(n*n+a*a);yl+=s*(o+e)/2,wl+=s*(i+t)/2,kl+=s,s=i*e-o*t,Cl+=s*(o+e),xl+=s*(i+t),Sl+=3*s,Wn(o=e,i=t)}var t,n,o,i;Ol.point=function(a,s){Ol.point=e,Wn(t=o=a,n=i=s)},Ol.lineEnd=function(){e(t,n)}}function Yn(e){function t(t,n){e.moveTo(t,n),e.arc(t,n,s,0,zr)}function n(t,n){e.moveTo(t,n),r.point=o}function o(t,n){e.lineTo(t,n)}function i(){r.point=t}function a(){e.closePath()}var s=4.5,r={point:t,lineStart:function(){r.point=n},lineEnd:i,polygonStart:function(){r.lineEnd=a},polygonEnd:function(){r.lineEnd=i,r.point=t},pointRadius:function(e){return s=e,r},result:m};return r}function Jn(e){function t(e){return(r?o:n)(e)}function n(t){return Qn(t,function(n,o){n=e(n,o),t.point(n[0],n[1])})}function o(t){function n(n,o){n=e(n,o),t.point(n[0],n[1])}function o(){b=0/0,x.point=a,t.lineStart()}function a(n,o){var a=dn([n,o]),s=e(n,o);i(b,y,v,w,k,C,b=s[0],y=s[1],v=n,w=a[0],k=a[1],C=a[2],r,t),t.point(b,y)}function s(){x.point=n,t.lineEnd()}function l(){o(),x.point=u,x.lineEnd=d}function u(e,t){a(c=e,g=t),m=b,h=y,p=w,_=k,f=C,x.point=a}function d(){i(b,y,v,w,k,C,m,h,c,p,_,f,r,t),x.lineEnd=s,s()}var c,g,m,h,p,_,f,v,b,y,w,k,C,x={point:n,lineStart:o,lineEnd:s,polygonStart:function(){t.polygonStart(),x.lineStart=l},polygonEnd:function(){t.polygonEnd(),x.lineStart=o}};return x}function i(t,n,o,r,l,u,d,c,g,m,h,p,_,f){var v=d-t,b=c-n,y=v*v+b*b;if(y>4*a&&_--){var w=r+m,k=l+h,C=u+p,x=Math.sqrt(w*w+k*k+C*C),S=Math.asin(C/=x),z=rr(rr(C)-1)<Ar||rr(o-g)<Ar?(o+g)/2:Math.atan2(k,w),M=e(z,S),A=M[0],E=M[1],T=A-t,R=E-n,D=b*T-v*R;(D*D/y>a||rr((v*T+b*R)/y-.5)>.3||s>r*m+l*h+u*p)&&(i(t,n,o,r,l,u,A,E,z,w/=x,k/=x,C,_,f),f.point(A,E),i(A,E,z,w,k,C,d,c,g,m,h,p,_,f))}}var a=.5,s=Math.cos(30*Tr),r=16;return t.precision=function(e){return arguments.length?(r=(a=e*e)>0&&16,t):Math.sqrt(a)},t}function Zn(e){var t=Jn(function(t,n){return e([t*Rr,n*Rr])});return function(e){return no(t(e))}}function Xn(e){this.stream=e}function Qn(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function eo(e){return to(function(){return e})()}function to(e){function t(e){return e=r(e[0]*Tr,e[1]*Tr),[e[0]*g+l,u-e[1]*g]}function n(e){return e=r.invert((e[0]-l)/g,(u-e[1])/g),e&&[e[0]*Rr,e[1]*Rr]}function o(){r=Ln(s=ao(f,v,b),a);var e=a(p,_);return l=m-e[0]*g,u=h+e[1]*g,i()}function i(){return d&&(d.valid=!1,d=null),t}var a,s,r,l,u,d,c=Jn(function(e,t){return e=a(e,t),[e[0]*g+l,u-e[1]*g]}),g=150,m=480,h=250,p=0,_=0,f=0,v=0,b=0,y=Ml,w=kt,k=null,C=null;return t.stream=function(e){return d&&(d.valid=!1),d=no(y(s,c(w(e)))),d.valid=!0,d},t.clipAngle=function(e){return arguments.length?(y=null==e?(k=e,Ml):In((k=+e)*Tr),i()):k},t.clipExtent=function(e){return arguments.length?(C=e,w=e?On(e[0][0],e[0][1],e[1][0],e[1][1]):kt,i()):C},t.scale=function(e){return arguments.length?(g=+e,o()):g},t.translate=function(e){return arguments.length?(m=+e[0],h=+e[1],o()):[m,h]},t.center=function(e){return arguments.length?(p=e[0]%360*Tr,_=e[1]%360*Tr,o()):[p*Rr,_*Rr]},t.rotate=function(e){return arguments.length?(f=e[0]%360*Tr,v=e[1]%360*Tr,b=e.length>2?e[2]%360*Tr:0,o()):[f*Rr,v*Rr,b*Rr]},Us.rebind(t,c,"precision"),function(){return a=e.apply(this,arguments),t.invert=a.invert&&n,o()}}function no(e){return Qn(e,function(t,n){e.point(t*Tr,n*Tr)})}function oo(e,t){return[e,t]}function io(e,t){return[e>Sr?e-zr:-Sr>e?e+zr:e,t]}function ao(e,t,n){return e?t||n?Ln(ro(e),lo(t,n)):ro(e):t||n?lo(t,n):io}function so(e){return function(t,n){return t+=e,[t>Sr?t-zr:-Sr>t?t+zr:t,n]}}function ro(e){var t=so(e);return t.invert=so(-e),t}function lo(e,t){function n(e,t){var n=Math.cos(t),r=Math.cos(e)*n,l=Math.sin(e)*n,u=Math.sin(t),d=u*o+r*i;return[Math.atan2(l*a-d*s,r*o-u*i),B(d*a+l*s)]}var o=Math.cos(e),i=Math.sin(e),a=Math.cos(t),s=Math.sin(t);return n.invert=function(e,t){var n=Math.cos(t),r=Math.cos(e)*n,l=Math.sin(e)*n,u=Math.sin(t),d=u*a-l*s;return[Math.atan2(l*a+u*s,r*o+d*i),B(d*o-r*i)]},n}function uo(e,t){var n=Math.cos(e),o=Math.sin(e);return function(i,a,s,r){var l=s*t;null!=i?(i=co(n,i),a=co(n,a),(s>0?a>i:i>a)&&(i+=s*zr)):(i=e+s*zr,a=e-.5*l);for(var u,d=i;s>0?d>a:a>d;d-=l)r.point((u=_n([n,-o*Math.cos(d),-o*Math.sin(d)]))[0],u[1])}}function co(e,t){var n=dn(t);n[0]-=e,pn(n);var o=W(-n[1]);return((-n[2]<0?-o:o)+2*Math.PI-Ar)%(2*Math.PI)}function go(e,t,n){var o=Us.range(e,t-Ar,n).concat(t);return function(e){return o.map(function(t){return[e,t]})}}function mo(e,t,n){var o=Us.range(e,t-Ar,n).concat(t);return function(e){return o.map(function(t){return[t,e]})}}function ho(e){return e.source}function po(e){return e.target}function _o(e,t,n,o){var i=Math.cos(t),a=Math.sin(t),s=Math.cos(o),r=Math.sin(o),l=i*Math.cos(e),u=i*Math.sin(e),d=s*Math.cos(n),c=s*Math.sin(n),g=2*Math.asin(Math.sqrt(J(o-t)+i*s*J(n-e))),m=1/Math.sin(g),h=g?function(e){var t=Math.sin(e*=g)*m,n=Math.sin(g-e)*m,o=n*l+t*d,i=n*u+t*c,s=n*a+t*r;return[Math.atan2(i,o)*Rr,Math.atan2(s,Math.sqrt(o*o+i*i))*Rr]}:function(){return[e*Rr,t*Rr]};return h.distance=g,h}function fo(){function e(e,i){var a=Math.sin(i*=Tr),s=Math.cos(i),r=rr((e*=Tr)-t),l=Math.cos(r);Ll+=Math.atan2(Math.sqrt((r=s*Math.sin(r))*r+(r=o*a-n*s*l)*r),n*a+o*s*l),t=e,n=a,o=s}var t,n,o;$l.point=function(i,a){t=i*Tr,n=Math.sin(a*=Tr),o=Math.cos(a),$l.point=e},$l.lineEnd=function(){$l.point=$l.lineEnd=m}}function vo(e,t){function n(t,n){var o=Math.cos(t),i=Math.cos(n),a=e(o*i);return[a*i*Math.sin(t),a*Math.sin(n)]}return n.invert=function(e,n){var o=Math.sqrt(e*e+n*n),i=t(o),a=Math.sin(i),s=Math.cos(i);return[Math.atan2(e*a,o*s),Math.asin(o&&n*a/o)]},n}function bo(e,t){function n(e,t){var n=rr(rr(t)-Mr)<Ar?0:s/Math.pow(i(t),a);return[n*Math.sin(a*e),s-n*Math.cos(a*e)]}var o=Math.cos(e),i=function(e){return Math.tan(Sr/4+e/2)},a=e===t?Math.sin(e):Math.log(o/Math.cos(t))/Math.log(i(t)/i(e)),s=o*Math.pow(i(e),a)/a;return a?(n.invert=function(e,t){var n=s-t,o=V(a)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/a,2*Math.atan(Math.pow(s/o,1/a))-Mr]},n):wo}function yo(e,t){function n(e,t){var n=a-t;return[n*Math.sin(i*e),a-n*Math.cos(i*e)]}var o=Math.cos(e),i=e===t?Math.sin(e):(o-Math.cos(t))/(t-e),a=o/i+e;return rr(i)<Ar?oo:(n.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/i,a-V(i)*Math.sqrt(e*e+n*n)]},n)}function wo(e,t){return[e,Math.log(Math.tan(Sr/4+t/2))]}function ko(e){var t,n=eo(e),o=n.scale,i=n.translate,a=n.clipExtent;return n.scale=function(){var e=o.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var s=a.apply(n,arguments);if(s===n){if(t=null==e){var r=Sr*o(),l=i();a([[l[0]-r,l[1]-r],[l[0]+r,l[1]+r]])}}else t&&(s=null);return s},n.clipExtent(null)}function Co(e,t){return[Math.log(Math.tan(Sr/4+t/2)),-e]}function xo(e){return e[0]}function So(e){return e[1]}function zo(e){for(var t=e.length,n=[0,1],o=2,i=2;t>i;i++){for(;o>1&&H(e[n[o-2]],e[n[o-1]],e[i])<=0;)--o;n[o++]=i}return n.slice(0,o)}function Mo(e,t){return e[0]-t[0]||e[1]-t[1]}function Ao(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function Eo(e,t,n,o){var i=e[0],a=n[0],s=t[0]-i,r=o[0]-a,l=e[1],u=n[1],d=t[1]-l,c=o[1]-u,g=(r*(l-u)-c*(i-a))/(c*s-r*d);return[i+g*s,l+g*d]}function To(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}function Ro(){Xo(this),this.edge=this.site=this.circle=null}function Do(e){var t=Zl.pop()||new Ro;return t.site=e,t}function jo(e){Vo(e),Kl.remove(e),Zl.push(e),Xo(e)}function No(e){var t=e.circle,n=t.x,o=t.cy,i={x:n,y:o},a=e.P,s=e.N,r=[e];jo(e);for(var l=a;l.circle&&rr(n-l.circle.x)<Ar&&rr(o-l.circle.cy)<Ar;)a=l.P,r.unshift(l),jo(l),l=a;r.unshift(l),Vo(l);for(var u=s;u.circle&&rr(n-u.circle.x)<Ar&&rr(o-u.circle.cy)<Ar;)s=u.N,r.push(u),jo(u),u=s;r.push(u),Vo(u);var d,c=r.length;for(d=1;c>d;++d)u=r[d],l=r[d-1],Yo(u.edge,l.site,u.site,i);l=r[0],u=r[c-1],u.edge=Uo(l.site,u.site,null,i),Fo(l),Fo(u)}function Io(e){for(var t,n,o,i,a=e.x,s=e.y,r=Kl._;r;)if(o=Po(r,s)-a,o>Ar)r=r.L;else{if(i=a-Oo(r,s),!(i>Ar)){o>-Ar?(t=r.P,n=r):i>-Ar?(t=r,n=r.N):t=n=r;break}if(!r.R){t=r;break}r=r.R}var l=Do(e);if(Kl.insert(t,l),t||n){if(t===n)return Vo(t),n=Do(t.site),Kl.insert(l,n),l.edge=n.edge=Uo(t.site,l.site),Fo(t),void Fo(n);if(!n)return void(l.edge=Uo(t.site,l.site));Vo(t),Vo(n);var u=t.site,d=u.x,c=u.y,g=e.x-d,m=e.y-c,h=n.site,p=h.x-d,_=h.y-c,f=2*(g*_-m*p),v=g*g+m*m,b=p*p+_*_,y={x:(_*v-m*b)/f+d,y:(g*b-p*v)/f+c};Yo(n.edge,u,h,y),l.edge=Uo(u,e,null,y),n.edge=Uo(e,h,null,y),Fo(t),Fo(n)}}function Po(e,t){var n=e.site,o=n.x,i=n.y,a=i-t;if(!a)return o;var s=e.P;if(!s)return-1/0;n=s.site;var r=n.x,l=n.y,u=l-t;if(!u)return r;var d=r-o,c=1/a-1/u,g=d/u;return c?(-g+Math.sqrt(g*g-2*c*(d*d/(-2*u)-l+u/2+i-a/2)))/c+o:(o+r)/2}function Oo(e,t){var n=e.N;if(n)return Po(n,t);var o=e.site;return o.y===t?o.x:1/0}function Lo(e){this.site=e,this.edges=[]}function $o(e){for(var t,n,o,i,a,s,r,l,u,d,c=e[0][0],g=e[1][0],m=e[0][1],h=e[1][1],p=Ul,_=p.length;_--;)if(a=p[_],a&&a.prepare())for(r=a.edges,l=r.length,s=0;l>s;)d=r[s].end(),o=d.x,i=d.y,u=r[++s%l].start(),t=u.x,n=u.y,(rr(o-t)>Ar||rr(i-n)>Ar)&&(r.splice(s,0,new Jo(Ko(a.site,d,rr(o-c)<Ar&&h-i>Ar?{x:c,y:rr(t-c)<Ar?n:h}:rr(i-h)<Ar&&g-o>Ar?{x:rr(n-h)<Ar?t:g,y:h}:rr(o-g)<Ar&&i-m>Ar?{x:g,y:rr(t-g)<Ar?n:m}:rr(i-m)<Ar&&o-c>Ar?{x:rr(n-m)<Ar?t:c,y:m}:null),a.site,null)),++l)}function Go(e,t){return t.angle-e.angle}function qo(){Xo(this),this.x=this.y=this.arc=this.site=this.cy=null}function Fo(e){var t=e.P,n=e.N;if(t&&n){var o=t.site,i=e.site,a=n.site;if(o!==a){var s=i.x,r=i.y,l=o.x-s,u=o.y-r,d=a.x-s,c=a.y-r,g=2*(l*c-u*d);if(!(g>=-Er)){var m=l*l+u*u,h=d*d+c*c,p=(c*m-u*h)/g,_=(l*h-d*m)/g,c=_+r,f=Xl.pop()||new qo;f.arc=e,f.site=i,f.x=p+s,f.y=c+Math.sqrt(p*p+_*_),f.cy=c,e.circle=f;for(var v=null,b=Jl._;b;)if(f.y<b.y||f.y===b.y&&f.x<=b.x){if(!b.L){v=b.P;break}b=b.L}else{if(!b.R){v=b;break}b=b.R}Jl.insert(v,f),v||(Yl=f)}}}}function Vo(e){var t=e.circle;t&&(t.P||(Yl=t.N),Jl.remove(t),Xl.push(t),Xo(t),e.circle=null)}function Ho(e){for(var t,n=Bl,o=Pn(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)t=n[i],(!Wo(t,e)||!o(t)||rr(t.a.x-t.b.x)<Ar&&rr(t.a.y-t.b.y)<Ar)&&(t.a=t.b=null,n.splice(i,1))}function Wo(e,t){var n=e.b;if(n)return!0;var o,i,a=e.a,s=t[0][0],r=t[1][0],l=t[0][1],u=t[1][1],d=e.l,c=e.r,g=d.x,m=d.y,h=c.x,p=c.y,_=(g+h)/2,f=(m+p)/2;if(p===m){if(s>_||_>=r)return;if(g>h){if(a){if(a.y>=u)return}else a={x:_,y:l};n={x:_,y:u}}else{if(a){if(a.y<l)return}else a={x:_,y:u};n={x:_,y:l}}}else if(o=(g-h)/(p-m),i=f-o*_,-1>o||o>1)if(g>h){if(a){if(a.y>=u)return}else a={x:(l-i)/o,y:l};n={x:(u-i)/o,y:u}}else{if(a){if(a.y<l)return}else a={x:(u-i)/o,y:u};n={x:(l-i)/o,y:l}}else if(p>m){if(a){if(a.x>=r)return}else a={x:s,y:o*s+i};n={x:r,y:o*r+i}}else{if(a){if(a.x<s)return}else a={x:r,y:o*r+i};n={x:s,y:o*s+i}}return e.a=a,e.b=n,!0}function Bo(e,t){this.l=e,this.r=t,this.a=this.b=null}function Uo(e,t,n,o){var i=new Bo(e,t);return Bl.push(i),n&&Yo(i,e,t,n),o&&Yo(i,t,e,o),Ul[e.i].edges.push(new Jo(i,e,t)),Ul[t.i].edges.push(new Jo(i,t,e)),i}function Ko(e,t,n){var o=new Bo(e,null);return o.a=t,o.b=n,Bl.push(o),o}function Yo(e,t,n,o){e.a||e.b?e.l===n?e.b=o:e.a=o:(e.a=o,e.l=t,e.r=n)}function Jo(e,t,n){var o=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-o.x,o.y-i.y):Math.atan2(o.x-i.x,i.y-o.y)}function Zo(){this._=null}function Xo(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Qo(e,t){var n=t,o=t.R,i=n.U;i?i.L===n?i.L=o:i.R=o:e._=o,o.U=i,n.U=o,n.R=o.L,n.R&&(n.R.U=n),o.L=n}function ei(e,t){var n=t,o=t.L,i=n.U;i?i.L===n?i.L=o:i.R=o:e._=o,o.U=i,n.U=o,n.L=o.R,n.L&&(n.L.U=n),o.R=n}function ti(e){for(;e.L;)e=e.L;return e}function ni(e,t){var n,o,i,a=e.sort(oi).pop();for(Bl=[],Ul=new Array(e.length),Kl=new Zo,Jl=new Zo;;)if(i=Yl,a&&(!i||a.y<i.y||a.y===i.y&&a.x<i.x))(a.x!==n||a.y!==o)&&(Ul[a.i]=new Lo(a),Io(a),n=a.x,o=a.y),a=e.pop();else{if(!i)break;No(i.arc)}t&&(Ho(t),$o(t));var s={cells:Ul,edges:Bl};return Kl=Jl=Bl=Ul=null,s}function oi(e,t){return t.y-e.y||t.x-e.x}function ii(e,t,n){return(e.x-n.x)*(t.y-e.y)-(e.x-t.x)*(n.y-e.y)}function ai(e){return e.x}function si(e){return e.y}function ri(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function li(e,t,n,o,i,a){if(!e(t,n,o,i,a)){var s=.5*(n+i),r=.5*(o+a),l=t.nodes;l[0]&&li(e,l[0],n,o,s,r),l[1]&&li(e,l[1],s,o,i,r),l[2]&&li(e,l[2],n,r,s,a),l[3]&&li(e,l[3],s,r,i,a)}}function ui(e,t){e=Us.rgb(e),t=Us.rgb(t);var n=e.r,o=e.g,i=e.b,a=t.r-n,s=t.g-o,r=t.b-i;return function(e){return"#"+pt(Math.round(n+a*e))+pt(Math.round(o+s*e))+pt(Math.round(i+r*e))}}function di(e,t){var n,o={},i={};for(n in e)n in t?o[n]=mi(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in o)i[n]=o[n](e);return i}}function ci(e,t){return t-=e=+e,function(n){return e+t*n}}function gi(e,t){var n,o,i,a,s,r=0,l=0,u=[],d=[];for(e+="",t+="",eu.lastIndex=0,o=0;n=eu.exec(t);++o)n.index&&u.push(t.substring(r,l=n.index)),d.push({i:u.length,x:n[0]}),u.push(null),r=eu.lastIndex;for(r<t.length&&u.push(t.substring(r)),o=0,a=d.length;(n=eu.exec(e))&&a>o;++o)if(s=d[o],s.x==n[0]){if(s.i)if(null==u[s.i+1])for(u[s.i-1]+=s.x,u.splice(s.i,1),i=o+1;a>i;++i)d[i].i--;else for(u[s.i-1]+=s.x+u[s.i+1],u.splice(s.i,2),i=o+1;a>i;++i)d[i].i-=2;else if(null==u[s.i+1])u[s.i]=s.x;else for(u[s.i]=s.x+u[s.i+1],u.splice(s.i+1,1),i=o+1;a>i;++i)d[i].i--;d.splice(o,1),a--,o--}else s.x=ci(parseFloat(n[0]),parseFloat(s.x));for(;a>o;)s=d.pop(),null==u[s.i+1]?u[s.i]=s.x:(u[s.i]=s.x+u[s.i+1],u.splice(s.i+1,1)),a--;return 1===u.length?null==u[0]?(s=d[0].x,function(e){return s(e)+""}):function(){return t}:function(e){for(o=0;a>o;++o)u[(s=d[o]).i]=s.x(e);return u.join("")}}function mi(e,t){for(var n,o=Us.interpolators.length;--o>=0&&!(n=Us.interpolators[o](e,t)););return n}function hi(e,t){var n,o=[],i=[],a=e.length,s=t.length,r=Math.min(e.length,t.length);for(n=0;r>n;++n)o.push(mi(e[n],t[n]));for(;a>n;++n)i[n]=e[n];for(;s>n;++n)i[n]=t[n];return function(e){for(n=0;r>n;++n)i[n]=o[n](e);return i}}function pi(e){return function(t){return 0>=t?0:t>=1?1:e(t)}}function _i(e){return function(t){return 1-e(1-t)}}function fi(e){return function(t){return.5*(.5>t?e(2*t):2-e(2-2*t))}}function vi(e){return e*e}function bi(e){return e*e*e}function yi(e){if(0>=e)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(.5>e?n:3*(e-t)+n-.75)}function wi(e){return function(t){return Math.pow(t,e)}}function ki(e){return 1-Math.cos(e*Mr)}function Ci(e){return Math.pow(2,10*(e-1))}function xi(e){return 1-Math.sqrt(1-e*e)}function Si(e,t){var n;return arguments.length<2&&(t=.45),arguments.length?n=t/zr*Math.asin(1/e):(e=1,n=t/4),function(o){return 1+e*Math.pow(2,-10*o)*Math.sin((o-n)*zr/t)}}function zi(e){return e||(e=1.70158),function(t){return t*t*((e+1)*t-e)}}function Mi(e){return 1/2.75>e?7.5625*e*e:2/2.75>e?7.5625*(e-=1.5/2.75)*e+.75:2.5/2.75>e?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function Ai(e,t){e=Us.hcl(e),t=Us.hcl(t);var n=e.h,o=e.c,i=e.l,a=t.h-n,s=t.c-o,r=t.l-i;return isNaN(s)&&(s=0,o=isNaN(o)?t.c:o),isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:-180>a&&(a+=360),function(e){return ot(n+a*e,o+s*e,i+r*e)+""}}function Ei(e,t){e=Us.hsl(e),t=Us.hsl(t);var n=e.h,o=e.s,i=e.l,a=t.h-n,s=t.s-o,r=t.l-i;return isNaN(s)&&(s=0,o=isNaN(o)?t.s:o),isNaN(a)?(a=0,n=isNaN(n)?t.h:n):a>180?a-=360:-180>a&&(a+=360),function(e){return et(n+a*e,o+s*e,i+r*e)+""}}function Ti(e,t){e=Us.lab(e),t=Us.lab(t);var n=e.l,o=e.a,i=e.b,a=t.l-n,s=t.a-o,r=t.b-i;return function(e){return st(n+a*e,o+s*e,i+r*e)+""}}function Ri(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function Di(e){var t=[e.a,e.b],n=[e.c,e.d],o=Ni(t),i=ji(t,n),a=Ni(Ii(n,t,-i))||0;t[0]*n[1]<n[0]*t[1]&&(t[0]*=-1,t[1]*=-1,o*=-1,i*=-1),this.rotate=(o?Math.atan2(t[1],t[0]):Math.atan2(-n[0],n[1]))*Rr,this.translate=[e.e,e.f],this.scale=[o,a],this.skew=a?Math.atan2(i,a)*Rr:0}function ji(e,t){return e[0]*t[0]+e[1]*t[1]}function Ni(e){var t=Math.sqrt(ji(e,e));return t&&(e[0]/=t,e[1]/=t),t}function Ii(e,t,n){return e[0]+=n*t[0],e[1]+=n*t[1],e}function Pi(e,t){var n,o=[],i=[],a=Us.transform(e),s=Us.transform(t),r=a.translate,l=s.translate,u=a.rotate,d=s.rotate,c=a.skew,g=s.skew,m=a.scale,h=s.scale;return r[0]!=l[0]||r[1]!=l[1]?(o.push("translate(",null,",",null,")"),i.push({i:1,x:ci(r[0],l[0])},{i:3,x:ci(r[1],l[1])})):o.push(l[0]||l[1]?"translate("+l+")":""),u!=d?(u-d>180?d+=360:d-u>180&&(u+=360),i.push({i:o.push(o.pop()+"rotate(",null,")")-2,x:ci(u,d)})):d&&o.push(o.pop()+"rotate("+d+")"),c!=g?i.push({i:o.push(o.pop()+"skewX(",null,")")-2,x:ci(c,g)}):g&&o.push(o.pop()+"skewX("+g+")"),m[0]!=h[0]||m[1]!=h[1]?(n=o.push(o.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:ci(m[0],h[0])},{i:n-2,x:ci(m[1],h[1])})):(1!=h[0]||1!=h[1])&&o.push(o.pop()+"scale("+h+")"),n=i.length,function(e){for(var t,a=-1;++a<n;)o[(t=i[a]).i]=t.x(e);return o.join("")}}function Oi(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return(n-e)*t}}function Li(e,t){return t=t-(e=+e)?1/(t-e):0,function(n){return Math.max(0,Math.min(1,(n-e)*t))}}function $i(e){for(var t=e.source,n=e.target,o=qi(t,n),i=[t];t!==o;)t=t.parent,i.push(t);for(var a=i.length;n!==o;)i.splice(a,0,n),n=n.parent;return i}function Gi(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function qi(e,t){if(e===t)return e;for(var n=Gi(e),o=Gi(t),i=n.pop(),a=o.pop(),s=null;i===a;)s=i,i=n.pop(),a=o.pop();return s}function Fi(e){e.fixed|=2}function Vi(e){e.fixed&=-7}function Hi(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Wi(e){e.fixed&=-5}function Bi(e,t,n){var o=0,i=0;if(e.charge=0,!e.leaf)for(var a,s=e.nodes,r=s.length,l=-1;++l<r;)a=s[l],null!=a&&(Bi(a,t,n),e.charge+=a.charge,o+=a.charge*a.cx,i+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=t*n[e.point.index];e.charge+=e.pointCharge=u,o+=u*e.point.x,i+=u*e.point.y}e.cx=o/e.charge,e.cy=i/e.charge}function Ui(e,t){return Us.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=Zi,e}function Ki(e){return e.children}function Yi(e){return e.value}function Ji(e,t){return t.value-e.value}function Zi(e){return Us.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}function Xi(e){return e.x}function Qi(e){return e.y}function ea(e,t,n){e.y0=t,e.y=n}function ta(e){return Us.range(e.length)}function na(e){for(var t=-1,n=e[0].length,o=[];++t<n;)o[t]=0;return o}function oa(e){for(var t,n=1,o=0,i=e[0][1],a=e.length;a>n;++n)(t=e[n][1])>i&&(o=n,i=t);return o}function ia(e){return e.reduce(aa,0)}function aa(e,t){return e+t[1]}function sa(e,t){return ra(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function ra(e,t){for(var n=-1,o=+e[0],i=(e[1]-o)/t,a=[];++n<=t;)a[n]=i*n+o;return a}function la(e){return[Us.min(e),Us.max(e)]}function ua(e,t){return e.parent==t.parent?1:2}function da(e){var t=e.children;return t&&t.length?t[0]:e._tree.thread}function ca(e){var t,n=e.children;return n&&(t=n.length)?n[t-1]:e._tree.thread}function ga(e,t){var n=e.children;if(n&&(i=n.length))for(var o,i,a=-1;++a<i;)t(o=ga(n[a],t),e)>0&&(e=o);return e}function ma(e,t){return e.x-t.x}function ha(e,t){return t.x-e.x}function pa(e,t){return e.depth-t.depth}function _a(e,t){function n(e,o){var i=e.children;if(i&&(s=i.length))for(var a,s,r=null,l=-1;++l<s;)a=i[l],n(a,r),r=a;t(e,o)}n(e,null)}function fa(e){for(var t,n=0,o=0,i=e.children,a=i.length;--a>=0;)t=i[a]._tree,t.prelim+=n,t.mod+=n,n+=t.shift+(o+=t.change)}function va(e,t,n){e=e._tree,t=t._tree;var o=n/(t.number-e.number);e.change+=o,t.change-=o,t.shift+=n,t.prelim+=n,t.mod+=n}function ba(e,t,n){return e._tree.ancestor.parent==t.parent?e._tree.ancestor:n}function ya(e,t){return e.value-t.value}function wa(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function ka(e,t){e._pack_next=t,t._pack_prev=e}function Ca(e,t){var n=t.x-e.x,o=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+o*o}function xa(e){function t(e){d=Math.min(e.x-e.r,d),c=Math.max(e.x+e.r,c),g=Math.min(e.y-e.r,g),m=Math.max(e.y+e.r,m)}if((n=e.children)&&(u=n.length)){var n,o,i,a,s,r,l,u,d=1/0,c=-1/0,g=1/0,m=-1/0;if(n.forEach(Sa),o=n[0],o.x=-o.r,o.y=0,t(o),u>1&&(i=n[1],i.x=i.r,i.y=0,t(i),u>2))for(a=n[2],Aa(o,i,a),t(a),wa(o,a),o._pack_prev=a,wa(a,i),i=o._pack_next,s=3;u>s;s++){Aa(o,i,a=n[s]);var h=0,p=1,_=1;for(r=i._pack_next;r!==i;r=r._pack_next,p++)if(Ca(r,a)){h=1;break}if(1==h)for(l=o._pack_prev;l!==r._pack_prev&&!Ca(l,a);l=l._pack_prev,_++);h?(_>p||p==_&&i.r<o.r?ka(o,i=r):ka(o=l,i),s--):(wa(o,a),i=a,t(a))}var f=(d+c)/2,v=(g+m)/2,b=0;for(s=0;u>s;s++)a=n[s],a.x-=f,a.y-=v,b=Math.max(b,a.r+Math.sqrt(a.x*a.x+a.y*a.y));e.r=b,n.forEach(za)}}function Sa(e){e._pack_next=e._pack_prev=e}function za(e){delete e._pack_next,delete e._pack_prev}function Ma(e,t,n,o){var i=e.children;if(e.x=t+=o*e.x,e.y=n+=o*e.y,e.r*=o,i)for(var a=-1,s=i.length;++a<s;)Ma(i[a],t,n,o)}function Aa(e,t,n){var o=e.r+n.r,i=t.x-e.x,a=t.y-e.y;if(o&&(i||a)){var s=t.r+n.r,r=i*i+a*a;s*=s,o*=o;var l=.5+(o-s)/(2*r),u=Math.sqrt(Math.max(0,2*s*(o+r)-(o-=r)*o-s*s))/(2*r);n.x=e.x+l*i+u*a,n.y=e.y+l*a-u*i}else n.x=e.x+o,n.y=e.y}function Ea(e){return 1+Us.max(e,function(e){return e.y})}function Ta(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}function Ra(e){var t=e.children;return t&&t.length?Ra(t[0]):e}function Da(e){var t,n=e.children;return n&&(t=n.length)?Da(n[t-1]):e}function ja(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Na(e,t){var n=e.x+t[3],o=e.y+t[0],i=e.dx-t[1]-t[3],a=e.dy-t[0]-t[2];return 0>i&&(n+=i/2,i=0),0>a&&(o+=a/2,a=0),{x:n,y:o,dx:i,dy:a}}function Ia(e){var t=e[0],n=e[e.length-1];return n>t?[t,n]:[n,t]}function Pa(e){return e.rangeExtent?e.rangeExtent():Ia(e.range())}function Oa(e,t,n,o){var i=n(e[0],e[1]),a=o(t[0],t[1]);return function(e){return a(i(e))}}function La(e,t){var n,o=0,i=e.length-1,a=e[o],s=e[i];return a>s&&(n=o,o=i,i=n,n=a,a=s,s=n),e[o]=t.floor(a),e[i]=t.ceil(s),e}function $a(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:cu}function Ga(e,t,n,o){var i=[],a=[],s=0,r=Math.min(e.length,t.length)-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<=r;)i.push(n(e[s-1],e[s])),a.push(o(t[s-1],t[s]));return function(t){var n=Us.bisect(e,t,1,r)-1;return a[n](i[n](t))}}function qa(e,t,n,o){function i(){var i=Math.min(e.length,t.length)>2?Ga:Oa,l=o?Li:Oi;return s=i(e,t,l,n),r=i(t,e,l,mi),a}function a(e){return s(e)}var s,r;return a.invert=function(e){return r(e)},a.domain=function(t){return arguments.length?(e=t.map(Number),i()):e},a.range=function(e){return arguments.length?(t=e,i()):t},a.rangeRound=function(e){return a.range(e).interpolate(Ri)},a.clamp=function(e){return arguments.length?(o=e,i()):o},a.interpolate=function(e){return arguments.length?(n=e,i()):n},a.ticks=function(t){return Wa(e,t)},a.tickFormat=function(t,n){return Ba(e,t,n)},a.nice=function(t){return Va(e,t),i()},a.copy=function(){return qa(e,t,n,o)},i()}function Fa(e,t){return Us.rebind(e,t,"range","rangeRound","interpolate","clamp")}function Va(e,t){return La(e,$a(Ha(e,t)[2]))}function Ha(e,t){null==t&&(t=10);var n=Ia(e),o=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(o/t)/Math.LN10)),a=t/o*i;return.15>=a?i*=10:.35>=a?i*=5:.75>=a&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Wa(e,t){return Us.range.apply(Us,Ha(e,t))}function Ba(e,t,n){var o=Ha(e,t);return Us.format(n?n.replace(el,function(e,t,n,i,a,s,r,l,u,d){return[t,n,i,a,s,r,l,u||"."+Ka(d,o),d].join("")}):",."+Ua(o[2])+"f")}function Ua(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Ka(e,t){var n=Ua(t[2]);return e in gu?Math.abs(n-Ua(Math.max(Math.abs(t[0]),Math.abs(t[1]))))+ +("e"!==e):n-2*("%"===e)}function Ya(e,t,n,o){function i(e){return(n?Math.log(0>e?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function a(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function s(t){return e(i(t))}return s.invert=function(t){return a(e.invert(t))},s.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((o=t.map(Number)).map(i)),s):o},s.base=function(n){return arguments.length?(t=+n,e.domain(o.map(i)),s):t},s.nice=function(){var t=La(o.map(i),n?Math:hu);return e.domain(t),o=t.map(a),s},s.ticks=function(){var e=Ia(o),s=[],r=e[0],l=e[1],u=Math.floor(i(r)),d=Math.ceil(i(l)),c=t%1?2:t;if(isFinite(d-u)){if(n){for(;d>u;u++)for(var g=1;c>g;g++)s.push(a(u)*g);s.push(a(u))}else for(s.push(a(u));u++<d;)for(var g=c-1;g>0;g--)s.push(a(u)*g);for(u=0;s[u]<r;u++);for(d=s.length;s[d-1]>l;d--);s=s.slice(u,d)}return s},s.tickFormat=function(e,t){if(!arguments.length)return mu;arguments.length<2?t=mu:"function"!=typeof t&&(t=Us.format(t));var o,r=Math.max(.1,e/s.ticks().length),l=n?(o=1e-12,Math.ceil):(o=-1e-12,Math.floor);return function(e){return e/a(l(i(e)+o))<=r?t(e):""}},s.copy=function(){return Ya(e.copy(),t,n,o)},Fa(s,e)}function Ja(e,t,n){function o(t){return e(i(t))}var i=Za(t),a=Za(1/t);return o.invert=function(t){return a(e.invert(t))},o.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),o):n},o.ticks=function(e){return Wa(n,e)},o.tickFormat=function(e,t){return Ba(n,e,t)},o.nice=function(e){return o.domain(Va(n,e))},o.exponent=function(s){return arguments.length?(i=Za(t=s),a=Za(1/t),e.domain(n.map(i)),o):t},o.copy=function(){return Ja(e.copy(),t,n)},Fa(o,e)}function Za(e){return function(t){return 0>t?-Math.pow(-t,e):Math.pow(t,e)}}function Xa(e,t){function n(n){return s[((a.get(n)||"range"===t.t&&a.set(n,e.push(n)))-1)%s.length]}function o(t,n){return Us.range(e.length).map(function(e){return t+n*e})}var a,s,r;return n.domain=function(o){if(!arguments.length)return e;e=[],a=new i;for(var s,r=-1,l=o.length;++r<l;)a.has(s=o[r])||a.set(s,e.push(s));return n[t.t].apply(n,t.a)},n.range=function(e){return arguments.length?(s=e,r=0,t={t:"range",a:arguments},n):s},n.rangePoints=function(i,a){arguments.length<2&&(a=0);var l=i[0],u=i[1],d=(u-l)/(Math.max(1,e.length-1)+a);return s=o(e.length<2?(l+u)/2:l+d*a/2,d),r=0,t={t:"rangePoints",a:arguments},n},n.rangeBands=function(i,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var u=i[1]<i[0],d=i[u-0],c=i[1-u],g=(c-d)/(e.length-a+2*l);return s=o(d+g*l,g),u&&s.reverse(),r=g*(1-a),t={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var u=i[1]<i[0],d=i[u-0],c=i[1-u],g=Math.floor((c-d)/(e.length-a+2*l)),m=c-d-(e.length-a)*g;return s=o(d+Math.round(m/2),g),u&&s.reverse(),r=Math.round(g*(1-a)),t={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return r},n.rangeExtent=function(){return Ia(t.a[0])},n.copy=function(){return Xa(e,t)},n.domain(e)}function Qa(e,t){function n(){var n=0,a=t.length;for(i=[];++n<a;)i[n-1]=Us.quantile(e,n/a);return o}function o(e){return isNaN(e=+e)?void 0:t[Us.bisect(i,e)]
}var i;return o.domain=function(t){return arguments.length?(e=t.filter(function(e){return!isNaN(e)}).sort(Us.ascending),n()):e},o.range=function(e){return arguments.length?(t=e,n()):t},o.quantiles=function(){return i},o.invertExtent=function(n){return n=t.indexOf(n),0>n?[0/0,0/0]:[n>0?i[n-1]:e[0],n<i.length?i[n]:e[e.length-1]]},o.copy=function(){return Qa(e,t)},n()}function es(e,t,n){function o(t){return n[Math.max(0,Math.min(s,Math.floor(a*(t-e))))]}function i(){return a=n.length/(t-e),s=n.length-1,o}var a,s;return o.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],i()):[e,t]},o.range=function(e){return arguments.length?(n=e,i()):n},o.invertExtent=function(t){return t=n.indexOf(t),t=0>t?0/0:t/a+e,[t,t+1/a]},o.copy=function(){return es(e,t,n)},i()}function ts(e,t){function n(n){return n>=n?t[Us.bisect(e,n)]:void 0}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return ts(e,t)},n}function ns(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Wa(e,t)},t.tickFormat=function(t,n){return Ba(e,t,n)},t.copy=function(){return ns(e)},t}function os(e){return e.innerRadius}function is(e){return e.outerRadius}function as(e){return e.startAngle}function ss(e){return e.endAngle}function rs(e){function t(t){function s(){u.push("M",a(e(d),r))}for(var l,u=[],d=[],c=-1,g=t.length,m=wt(n),h=wt(o);++c<g;)i.call(this,l=t[c],c)?d.push([+m.call(this,l,c),+h.call(this,l,c)]):d.length&&(s(),d=[]);return d.length&&s(),u.length?u.join(""):null}var n=xo,o=So,i=Cn,a=ls,s=a.key,r=.7;return t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(o=e,t):o},t.defined=function(e){return arguments.length?(i=e,t):i},t.interpolate=function(e){return arguments.length?(s="function"==typeof e?a=e:(a=wu.get(e)||ls).key,t):s},t.tension=function(e){return arguments.length?(r=e,t):r},t}function ls(e){return e.join("L")}function us(e){return ls(e)+"Z"}function ds(e){for(var t=0,n=e.length,o=e[0],i=[o[0],",",o[1]];++t<n;)i.push("H",(o[0]+(o=e[t])[0])/2,"V",o[1]);return n>1&&i.push("H",o[0]),i.join("")}function cs(e){for(var t=0,n=e.length,o=e[0],i=[o[0],",",o[1]];++t<n;)i.push("V",(o=e[t])[1],"H",o[0]);return i.join("")}function gs(e){for(var t=0,n=e.length,o=e[0],i=[o[0],",",o[1]];++t<n;)i.push("H",(o=e[t])[0],"V",o[1]);return i.join("")}function ms(e,t){return e.length<4?ls(e):e[1]+_s(e.slice(1,e.length-1),fs(e,t))}function hs(e,t){return e.length<3?ls(e):e[0]+_s((e.push(e[0]),e),fs([e[e.length-2]].concat(e,[e[1]]),t))}function ps(e,t){return e.length<3?ls(e):e[0]+_s(e,fs(e,t))}function _s(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return ls(e);var n=e.length!=t.length,o="",i=e[0],a=e[1],s=t[0],r=s,l=1;if(n&&(o+="Q"+(a[0]-2*s[0]/3)+","+(a[1]-2*s[1]/3)+","+a[0]+","+a[1],i=e[1],l=2),t.length>1){r=t[1],a=e[l],l++,o+="C"+(i[0]+s[0])+","+(i[1]+s[1])+","+(a[0]-r[0])+","+(a[1]-r[1])+","+a[0]+","+a[1];for(var u=2;u<t.length;u++,l++)a=e[l],r=t[u],o+="S"+(a[0]-r[0])+","+(a[1]-r[1])+","+a[0]+","+a[1]}if(n){var d=e[l];o+="Q"+(a[0]+2*r[0]/3)+","+(a[1]+2*r[1]/3)+","+d[0]+","+d[1]}return o}function fs(e,t){for(var n,o=[],i=(1-t)/2,a=e[0],s=e[1],r=1,l=e.length;++r<l;)n=a,a=s,s=e[r],o.push([i*(s[0]-n[0]),i*(s[1]-n[1])]);return o}function vs(e){if(e.length<3)return ls(e);var t=1,n=e.length,o=e[0],i=o[0],a=o[1],s=[i,i,i,(o=e[1])[0]],r=[a,a,a,o[1]],l=[i,",",a,"L",ks(xu,s),",",ks(xu,r)];for(e.push(e[n-1]);++t<=n;)o=e[t],s.shift(),s.push(o[0]),r.shift(),r.push(o[1]),Cs(l,s,r);return e.pop(),l.push("L",o),l.join("")}function bs(e){if(e.length<4)return ls(e);for(var t,n=[],o=-1,i=e.length,a=[0],s=[0];++o<3;)t=e[o],a.push(t[0]),s.push(t[1]);for(n.push(ks(xu,a)+","+ks(xu,s)),--o;++o<i;)t=e[o],a.shift(),a.push(t[0]),s.shift(),s.push(t[1]),Cs(n,a,s);return n.join("")}function ys(e){for(var t,n,o=-1,i=e.length,a=i+4,s=[],r=[];++o<4;)n=e[o%i],s.push(n[0]),r.push(n[1]);for(t=[ks(xu,s),",",ks(xu,r)],--o;++o<a;)n=e[o%i],s.shift(),s.push(n[0]),r.shift(),r.push(n[1]),Cs(t,s,r);return t.join("")}function ws(e,t){var n=e.length-1;if(n)for(var o,i,a=e[0][0],s=e[0][1],r=e[n][0]-a,l=e[n][1]-s,u=-1;++u<=n;)o=e[u],i=u/n,o[0]=t*o[0]+(1-t)*(a+i*r),o[1]=t*o[1]+(1-t)*(s+i*l);return vs(e)}function ks(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Cs(e,t,n){e.push("C",ks(ku,t),",",ks(ku,n),",",ks(Cu,t),",",ks(Cu,n),",",ks(xu,t),",",ks(xu,n))}function xs(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Ss(e){for(var t=0,n=e.length-1,o=[],i=e[0],a=e[1],s=o[0]=xs(i,a);++t<n;)o[t]=(s+(s=xs(i=a,a=e[t+1])))/2;return o[t]=s,o}function zs(e){for(var t,n,o,i,a=[],s=Ss(e),r=-1,l=e.length-1;++r<l;)t=xs(e[r],e[r+1]),rr(t)<Ar?s[r]=s[r+1]=0:(n=s[r]/t,o=s[r+1]/t,i=n*n+o*o,i>9&&(i=3*t/Math.sqrt(i),s[r]=i*n,s[r+1]=i*o));for(r=-1;++r<=l;)i=(e[Math.min(l,r+1)][0]-e[Math.max(0,r-1)][0])/(6*(1+s[r]*s[r])),a.push([i||0,s[r]*i||0]);return a}function Ms(e){return e.length<3?ls(e):e[0]+_s(e,zs(e))}function As(e){for(var t,n,o,i=-1,a=e.length;++i<a;)t=e[i],n=t[0],o=t[1]+bu,t[0]=n*Math.cos(o),t[1]=n*Math.sin(o);return e}function Es(e){function t(t){function l(){p.push("M",r(e(f),c),d,u(e(_.reverse()),c),"Z")}for(var g,m,h,p=[],_=[],f=[],v=-1,b=t.length,y=wt(n),w=wt(i),k=n===o?function(){return m}:wt(o),C=i===a?function(){return h}:wt(a);++v<b;)s.call(this,g=t[v],v)?(_.push([m=+y.call(this,g,v),h=+w.call(this,g,v)]),f.push([+k.call(this,g,v),+C.call(this,g,v)])):_.length&&(l(),_=[],f=[]);return _.length&&l(),p.length?p.join(""):null}var n=xo,o=xo,i=0,a=So,s=Cn,r=ls,l=r.key,u=r,d="L",c=.7;return t.x=function(e){return arguments.length?(n=o=e,t):o},t.x0=function(e){return arguments.length?(n=e,t):n},t.x1=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(i=a=e,t):a},t.y0=function(e){return arguments.length?(i=e,t):i},t.y1=function(e){return arguments.length?(a=e,t):a},t.defined=function(e){return arguments.length?(s=e,t):s},t.interpolate=function(e){return arguments.length?(l="function"==typeof e?r=e:(r=wu.get(e)||ls).key,u=r.reverse||r,d=r.closed?"M":"L",t):l},t.tension=function(e){return arguments.length?(c=e,t):c},t}function Ts(e){return e.radius}function Rs(e){return[e.x,e.y]}function Ds(e){return function(){var t=e.apply(this,arguments),n=t[0],o=t[1]+bu;return[n*Math.cos(o),n*Math.sin(o)]}}function js(){return 64}function Ns(){return"circle"}function Is(e){var t=Math.sqrt(e/Sr);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}function Ps(e,t){return gr(e,Tu),e.id=t,e}function Os(e,t,n,o){var i=e.id;return N(e,"function"==typeof n?function(e,a,s){e.__transition__[i].tween.set(t,o(n.call(e,e.__data__,a,s)))}:(n=o(n),function(e){e.__transition__[i].tween.set(t,n)}))}function Ls(e){return null==e&&(e=""),function(){this.textContent=e}}function $s(e,t,n,o){var a=e.__transition__||(e.__transition__={active:0,count:0}),s=a[n];if(!s){var r=o.time;s=a[n]={tween:new i,time:r,ease:o.ease,delay:o.delay,duration:o.duration},++a.count,Us.timer(function(o){function i(o){return a.active>n?u():(a.active=n,s.event&&s.event.start.call(e,d,t),s.tween.forEach(function(n,o){(o=o.call(e,d,t))&&p.push(o)}),void Us.timer(function(){return h.c=l(o||1)?Cn:l,1},0,r))}function l(o){if(a.active!==n)return u();for(var i=o/m,r=c(i),l=p.length;l>0;)p[--l].call(e,r);return i>=1?(s.event&&s.event.end.call(e,d,t),u()):void 0}function u(){return--a.count?delete a[n]:delete e.__transition__,1}var d=e.__data__,c=s.ease,g=s.delay,m=s.duration,h=Zr,p=[];return h.t=g+r,o>=g?i(o-g):void(h.c=i)},0,r)}}function Gs(e,t){e.attr("transform",function(e){return"translate("+t(e)+",0)"})}function qs(e,t){e.attr("transform",function(e){return"translate(0,"+t(e)+")"})}function Fs(e){return e.toISOString()}function Vs(e,t,n){function o(t){return e(t)}function i(e,n){var o=e[1]-e[0],i=o/n,a=Us.bisect($u,i);return a==$u.length?[t.year,Ha(e.map(function(e){return e/31536e6}),n)[2]]:a?t[i/$u[a-1]<$u[a]/i?a-1:a]:[Fu,Ha(e,n)[2]]}return o.invert=function(t){return Hs(e.invert(t))},o.domain=function(t){return arguments.length?(e.domain(t),o):e.domain().map(Hs)},o.nice=function(e,t){function n(n){return!isNaN(n)&&!e.range(n,Hs(+n+1),t).length}var a=o.domain(),s=Ia(a),r=null==e?i(s,10):"number"==typeof e&&i(s,e);return r&&(e=r[0],t=r[1]),o.domain(La(a,t>1?{floor:function(t){for(;n(t=e.floor(t));)t=Hs(t-1);return t},ceil:function(t){for(;n(t=e.ceil(t));)t=Hs(+t+1);return t}}:e))},o.ticks=function(e,t){var n=Ia(o.domain()),a=null==e?i(n,10):"number"==typeof e?i(n,e):!e.range&&[{range:e},t];return a&&(e=a[0],t=a[1]),e.range(n[0],Hs(+n[1]+1),1>t?1:t)},o.tickFormat=function(){return n},o.copy=function(){return Vs(e.copy(),t,n)},Fa(o,e)}function Hs(e){return new Date(e)}function Ws(e){return JSON.parse(e.responseText)}function Bs(e){var t=Js.createRange();return t.selectNode(Js.body),t.createContextualFragment(e.responseText)}var Us={version:"3.4.1"};Date.now||(Date.now=function(){return+new Date});var Ks=[].slice,Ys=function(e){return Ks.call(e)},Js=document,Zs=Js.documentElement,Xs=window;try{Ys(Zs.childNodes)[0].nodeType}catch(Qs){Ys=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}try{Js.createElement("div").style.setProperty("opacity",0,"")}catch(er){var tr=Xs.Element.prototype,nr=tr.setAttribute,or=tr.setAttributeNS,ir=Xs.CSSStyleDeclaration.prototype,ar=ir.setProperty;tr.setAttribute=function(e,t){nr.call(this,e,t+"")},tr.setAttributeNS=function(e,t,n){or.call(this,e,t,n+"")},ir.setProperty=function(e,t,n){ar.call(this,e,t+"",n)}}Us.ascending=function(e,t){return t>e?-1:e>t?1:e>=t?0:0/0},Us.descending=function(e,t){return e>t?-1:t>e?1:t>=e?0:0/0},Us.min=function(e,t){var n,o,i=-1,a=e.length;if(1===arguments.length){for(;++i<a&&!(null!=(n=e[i])&&n>=n);)n=void 0;for(;++i<a;)null!=(o=e[i])&&n>o&&(n=o)}else{for(;++i<a&&!(null!=(n=t.call(e,e[i],i))&&n>=n);)n=void 0;for(;++i<a;)null!=(o=t.call(e,e[i],i))&&n>o&&(n=o)}return n},Us.max=function(e,t){var n,o,i=-1,a=e.length;if(1===arguments.length){for(;++i<a&&!(null!=(n=e[i])&&n>=n);)n=void 0;for(;++i<a;)null!=(o=e[i])&&o>n&&(n=o)}else{for(;++i<a&&!(null!=(n=t.call(e,e[i],i))&&n>=n);)n=void 0;for(;++i<a;)null!=(o=t.call(e,e[i],i))&&o>n&&(n=o)}return n},Us.extent=function(e,t){var n,o,i,a=-1,s=e.length;if(1===arguments.length){for(;++a<s&&!(null!=(n=i=e[a])&&n>=n);)n=i=void 0;for(;++a<s;)null!=(o=e[a])&&(n>o&&(n=o),o>i&&(i=o))}else{for(;++a<s&&!(null!=(n=i=t.call(e,e[a],a))&&n>=n);)n=void 0;for(;++a<s;)null!=(o=t.call(e,e[a],a))&&(n>o&&(n=o),o>i&&(i=o))}return[n,i]},Us.sum=function(e,t){var n,o=0,i=e.length,a=-1;if(1===arguments.length)for(;++a<i;)isNaN(n=+e[a])||(o+=n);else for(;++a<i;)isNaN(n=+t.call(e,e[a],a))||(o+=n);return o},Us.mean=function(t,n){var o,i=t.length,a=0,s=-1,r=0;if(1===arguments.length)for(;++s<i;)e(o=t[s])&&(a+=(o-a)/++r);else for(;++s<i;)e(o=n.call(t,t[s],s))&&(a+=(o-a)/++r);return r?a:void 0},Us.quantile=function(e,t){var n=(e.length-1)*t+1,o=Math.floor(n),i=+e[o-1],a=n-o;return a?i+a*(e[o]-i):i},Us.median=function(t,n){return arguments.length>1&&(t=t.map(n)),t=t.filter(e),t.length?Us.quantile(t.sort(Us.ascending),.5):void 0},Us.bisector=function(e){return{left:function(t,n,o,i){for(arguments.length<3&&(o=0),arguments.length<4&&(i=t.length);i>o;){var a=o+i>>>1;e.call(t,t[a],a)<n?o=a+1:i=a}return o},right:function(t,n,o,i){for(arguments.length<3&&(o=0),arguments.length<4&&(i=t.length);i>o;){var a=o+i>>>1;n<e.call(t,t[a],a)?i=a:o=a+1}return o}}};var sr=Us.bisector(function(e){return e});Us.bisectLeft=sr.left,Us.bisect=Us.bisectRight=sr.right,Us.shuffle=function(e){for(var t,n,o=e.length;o;)n=Math.random()*o--|0,t=e[o],e[o]=e[n],e[n]=t;return e},Us.permute=function(e,t){for(var n=t.length,o=new Array(n);n--;)o[n]=e[t[n]];return o},Us.pairs=function(e){for(var t,n=0,o=e.length-1,i=e[0],a=new Array(0>o?0:o);o>n;)a[n]=[t=i,i=e[++n]];return a},Us.zip=function(){if(!(i=arguments.length))return[];for(var e=-1,n=Us.min(arguments,t),o=new Array(n);++e<n;)for(var i,a=-1,s=o[e]=new Array(i);++a<i;)s[a]=arguments[a][e];return o},Us.transpose=function(e){return Us.zip.apply(Us,e)},Us.keys=function(e){var t=[];for(var n in e)t.push(n);return t},Us.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},Us.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},Us.merge=function(e){for(var t,n,o,i=e.length,a=-1,s=0;++a<i;)s+=e[a].length;for(n=new Array(s);--i>=0;)for(o=e[i],t=o.length;--t>=0;)n[--s]=o[t];return n};var rr=Math.abs;Us.range=function(e,t,o){if(arguments.length<3&&(o=1,arguments.length<2&&(t=e,e=0)),(t-e)/o===1/0)throw new Error("infinite range");var i,a=[],s=n(rr(o)),r=-1;if(e*=s,t*=s,o*=s,0>o)for(;(i=e+o*++r)>t;)a.push(i/s);else for(;(i=e+o*++r)<t;)a.push(i/s);return a},Us.map=function(e){var t=new i;if(e instanceof i)e.forEach(function(e,n){t.set(e,n)});else for(var n in e)t.set(n,e[n]);return t},o(i,{has:a,get:function(e){return this[lr+e]},set:function(e,t){return this[lr+e]=t},remove:s,keys:r,values:function(){var e=[];return this.forEach(function(t,n){e.push(n)}),e},entries:function(){var e=[];return this.forEach(function(t,n){e.push({key:t,value:n})}),e},size:l,empty:u,forEach:function(e){for(var t in this)t.charCodeAt(0)===ur&&e.call(this,t.substring(1),this[t])}});var lr="\x00",ur=lr.charCodeAt(0);Us.nest=function(){function e(t,r,l){if(l>=s.length)return o?o.call(a,r):n?r.sort(n):r;for(var u,d,c,g,m=-1,h=r.length,p=s[l++],_=new i;++m<h;)(g=_.get(u=p(d=r[m])))?g.push(d):_.set(u,[d]);return t?(d=t(),c=function(n,o){d.set(n,e(t,o,l))}):(d={},c=function(n,o){d[n]=e(t,o,l)}),_.forEach(c),d}function t(e,n){if(n>=s.length)return e;var o=[],i=r[n++];return e.forEach(function(e,i){o.push({key:e,values:t(i,n)})}),i?o.sort(function(e,t){return i(e.key,t.key)}):o}var n,o,a={},s=[],r=[];return a.map=function(t,n){return e(n,t,0)},a.entries=function(n){return t(e(Us.map,n,0),0)},a.key=function(e){return s.push(e),a},a.sortKeys=function(e){return r[s.length-1]=e,a},a.sortValues=function(e){return n=e,a},a.rollup=function(e){return o=e,a},a},Us.set=function(e){var t=new d;if(e)for(var n=0,o=e.length;o>n;++n)t.add(e[n]);return t},o(d,{has:a,add:function(e){return this[lr+e]=!0,e},remove:function(e){return e=lr+e,e in this&&delete this[e]},values:r,size:l,empty:u,forEach:function(e){for(var t in this)t.charCodeAt(0)===ur&&e.call(this,t.substring(1))}}),Us.behavior={},Us.rebind=function(e,t){for(var n,o=1,i=arguments.length;++o<i;)e[n=arguments[o]]=c(e,t,t[n]);return e};var dr=["webkit","ms","moz","Moz","o","O"];Us.dispatch=function(){for(var e=new h,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=p(e);return e},h.prototype.on=function(e,t){var n=e.indexOf("."),o="";if(n>=0&&(o=e.substring(n+1),e=e.substring(0,n)),e)return arguments.length<2?this[e].on(o):this[e].on(o,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(o,null);return this}},Us.event=null,Us.requote=function(e){return e.replace(cr,"\\$&")};var cr=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,gr={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]},mr=function(e,t){return t.querySelector(e)},hr=function(e,t){return t.querySelectorAll(e)},pr=Zs[g(Zs,"matchesSelector")],_r=function(e,t){return pr.call(e,t)};"function"==typeof Sizzle&&(mr=function(e,t){return Sizzle(e,t)[0]||null},hr=function(e,t){return Sizzle.uniqueSort(Sizzle(e,t))},_r=Sizzle.matchesSelector),Us.selection=function(){return yr};var fr=Us.selection.prototype=[];fr.select=function(e){var t,n,o,i,a=[];e=y(e);for(var s=-1,r=this.length;++s<r;){a.push(t=[]),t.parentNode=(o=this[s]).parentNode;for(var l=-1,u=o.length;++l<u;)(i=o[l])?(t.push(n=e.call(i,i.__data__,l,s)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return b(a)},fr.selectAll=function(e){var t,n,o=[];e=w(e);for(var i=-1,a=this.length;++i<a;)for(var s=this[i],r=-1,l=s.length;++r<l;)(n=s[r])&&(o.push(t=Ys(e.call(n,n.__data__,r,i))),t.parentNode=n);return b(o)};var vr={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};Us.ns={prefix:vr,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&(n=e.substring(0,t),e=e.substring(t+1)),vr.hasOwnProperty(n)?{space:vr[n],local:e}:e}},fr.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return e=Us.ns.qualify(e),e.local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(k(t,e[t]));return this}return this.each(k(e,t))},fr.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),o=(e=S(e)).length,i=-1;if(t=n.classList){for(;++i<o;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<o;)if(!x(e[i]).test(t))return!1;return!0}for(t in e)this.each(z(t,e[t]));return this}return this.each(z(e,t))},fr.style=function(e,t,n){var o=arguments.length;if(3>o){if("string"!=typeof e){2>o&&(t="");for(n in e)this.each(A(n,e[n],t));return this}if(2>o)return Xs.getComputedStyle(this.node(),null).getPropertyValue(e);n=""}return this.each(A(e,t,n))},fr.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(E(t,e[t]));return this}return this.each(E(e,t))},fr.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},fr.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},fr.append=function(e){return e=T(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},fr.insert=function(e,t){return e=T(e),t=y(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},fr.remove=function(){return this.each(function(){var e=this.parentNode;e&&e.removeChild(this)})},fr.data=function(e,t){function n(e,n){var o,a,s,r=e.length,c=n.length,g=Math.min(r,c),m=new Array(c),h=new Array(c),p=new Array(r);if(t){var _,f=new i,v=new i,b=[];for(o=-1;++o<r;)_=t.call(a=e[o],a.__data__,o),f.has(_)?p[o]=a:f.set(_,a),b.push(_);for(o=-1;++o<c;)_=t.call(n,s=n[o],o),(a=f.get(_))?(m[o]=a,a.__data__=s):v.has(_)||(h[o]=R(s)),v.set(_,s),f.remove(_);for(o=-1;++o<r;)f.has(b[o])&&(p[o]=e[o])}else{for(o=-1;++o<g;)a=e[o],s=n[o],a?(a.__data__=s,m[o]=a):h[o]=R(s);for(;c>o;++o)h[o]=R(n[o]);for(;r>o;++o)p[o]=e[o]}h.update=m,h.parentNode=m.parentNode=p.parentNode=e.parentNode,l.push(h),u.push(m),d.push(p)}var o,a,s=-1,r=this.length;if(!arguments.length){for(e=new Array(r=(o=this[0]).length);++s<r;)(a=o[s])&&(e[s]=a.__data__);return e}var l=I([]),u=b([]),d=b([]);if("function"==typeof e)for(;++s<r;)n(o=this[s],e.call(o,o.parentNode.__data__,s));else for(;++s<r;)n(o=this[s],e);return u.enter=function(){return l},u.exit=function(){return d},u},fr.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},fr.filter=function(e){var t,n,o,i=[];"function"!=typeof e&&(e=D(e));for(var a=0,s=this.length;s>a;a++){i.push(t=[]),t.parentNode=(n=this[a]).parentNode;for(var r=0,l=n.length;l>r;r++)(o=n[r])&&e.call(o,o.__data__,r,a)&&t.push(o)}return b(i)},fr.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,o=this[e],i=o.length-1,a=o[i];--i>=0;)(n=o[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},fr.sort=function(e){e=j.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},fr.each=function(e){return N(this,function(t,n,o){e.call(t,t.__data__,n,o)})},fr.call=function(e){var t=Ys(arguments);return e.apply(t[0]=this,t),this},fr.empty=function(){return!this.node()},fr.node=function(){for(var e=0,t=this.length;t>e;e++)for(var n=this[e],o=0,i=n.length;i>o;o++){var a=n[o];if(a)return a}return null},fr.size=function(){var e=0;return this.each(function(){++e}),e};var br=[];Us.selection.enter=I,Us.selection.enter.prototype=br,br.append=fr.append,br.empty=fr.empty,br.node=fr.node,br.call=fr.call,br.size=fr.size,br.select=function(e){for(var t,n,o,i,a,s=[],r=-1,l=this.length;++r<l;){o=(i=this[r]).update,s.push(t=[]),t.parentNode=i.parentNode;for(var u=-1,d=i.length;++u<d;)(a=i[u])?(t.push(o[u]=n=e.call(i.parentNode,a.__data__,u,r)),n.__data__=a.__data__):t.push(null)}return b(s)},br.insert=function(e,t){return arguments.length<2&&(t=P(this)),fr.insert.call(this,e,t)},fr.transition=function(){for(var e,t,n=zu||++Ru,o=[],i=Mu||{time:Date.now(),ease:yi,delay:0,duration:250},a=-1,s=this.length;++a<s;){o.push(e=[]);for(var r=this[a],l=-1,u=r.length;++l<u;)(t=r[l])&&$s(t,l,n,i),e.push(t)}return Ps(o,n)},fr.interrupt=function(){return this.each(O)},Us.select=function(e){var t=["string"==typeof e?mr(e,Js):e];return t.parentNode=Zs,b([t])},Us.selectAll=function(e){var t=Ys("string"==typeof e?hr(e,Js):e);return t.parentNode=Zs,b([t])};var yr=Us.select(Zs);fr.on=function(e,t,n){var o=arguments.length;if(3>o){if("string"!=typeof e){2>o&&(t=!1);for(n in e)this.each(L(n,e[n],t));return this}if(2>o)return(o=this.node()["__on"+e])&&o._;n=!1}return this.each(L(e,t,n))};var wr=Us.map({mouseenter:"mouseover",mouseleave:"mouseout"});wr.forEach(function(e){"on"+e in Js&&wr.remove(e)});var kr="onselectstart"in Js?null:g(Zs.style,"userSelect"),Cr=0;Us.mouse=function(e){return F(e,f())};var xr=/WebKit/.test(Xs.navigator.userAgent)?-1:0;Us.touches=function(e,t){return arguments.length<2&&(t=f().touches),t?Ys(t).map(function(t){var n=F(e,t);return n.identifier=t.identifier,n}):[]},Us.behavior.drag=function(){function e(){this.on("mousedown.drag",s).on("touchstart.drag",r)}function t(){return Us.event.changedTouches[0].identifier}function n(e,t){return Us.touches(e).filter(function(e){return e.identifier===t})[0]}function o(e,t,n,o){return function(){function s(){var e=t(d,m),n=e[0]-p[0],o=e[1]-p[1];_|=n|o,p=e,c({type:"drag",x:e[0]+l[0],y:e[1]+l[1],dx:n,dy:o})}function r(){f.on(n+"."+h,null).on(o+"."+h,null),v(_&&Us.event.target===g),c({type:"dragend"})}var l,u=this,d=u.parentNode,c=i.of(u,arguments),g=Us.event.target,m=e(),h=null==m?"drag":"drag-"+m,p=t(d,m),_=0,f=Us.select(Xs).on(n+"."+h,s).on(o+"."+h,r),v=q();a?(l=a.apply(u,arguments),l=[l.x-p[0],l.y-p[1]]):l=[0,0],c({type:"dragstart"})}}var i=v(e,"drag","dragstart","dragend"),a=null,s=o(m,Us.mouse,"mousemove","mouseup"),r=o(t,n,"touchmove","touchend");return e.origin=function(t){return arguments.length?(a=t,e):a},Us.rebind(e,i,"on")};var Sr=Math.PI,zr=2*Sr,Mr=Sr/2,Ar=1e-6,Er=Ar*Ar,Tr=Sr/180,Rr=180/Sr,Dr=Math.SQRT2,jr=2,Nr=4;Us.interpolateZoom=function(e,t){function n(e){var t=e*v;if(f){var n=K(p),s=a/(jr*g)*(n*Y(Dr*t+p)-U(p));return[o+s*u,i+s*d,a*n/K(Dr*t+p)]}return[o+e*u,i+e*d,a*Math.exp(Dr*t)]}var o=e[0],i=e[1],a=e[2],s=t[0],r=t[1],l=t[2],u=s-o,d=r-i,c=u*u+d*d,g=Math.sqrt(c),m=(l*l-a*a+Nr*c)/(2*a*jr*g),h=(l*l-a*a-Nr*c)/(2*l*jr*g),p=Math.log(Math.sqrt(m*m+1)-m),_=Math.log(Math.sqrt(h*h+1)-h),f=_-p,v=(f||Math.log(l/a))/Dr;return n.duration=1e3*v,n},Us.behavior.zoom=function(){function e(e){e.on(M,u).on(Or+".zoom",c).on(A,g).on("dblclick.zoom",m).on(T,d)}function t(e){return[(e[0]-x.x)/x.k,(e[1]-x.y)/x.k]}function n(e){return[e[0]*x.k+x.x,e[1]*x.k+x.y]}function o(e){x.k=Math.max(z[0],Math.min(z[1],e))}function i(e,t){t=n(t),x.x+=e[0]-t[0],x.y+=e[1]-t[1]}function a(){w&&w.domain(y.range().map(function(e){return(e-x.x)/x.k}).map(y.invert)),C&&C.domain(k.range().map(function(e){return(e-x.y)/x.k}).map(k.invert))}function s(e){e({type:"zoomstart"})}function r(e){a(),e({type:"zoom",scale:x.k,translate:[x.x,x.y]})}function l(e){e({type:"zoomend"})}function u(){function e(){d=1,i(Us.mouse(o),m),r(a)}function n(){c.on(A,Xs===o?g:null).on(E,null),h(d&&Us.event.target===u),l(a)}var o=this,a=R.of(o,arguments),u=Us.event.target,d=0,c=Us.select(Xs).on(A,e).on(E,n),m=t(Us.mouse(o)),h=q();O.call(o),s(a)}function d(){function e(){var e=Us.touches(m);return g=x.k,e.forEach(function(e){e.identifier in p&&(p[e.identifier]=t(e))}),e}function n(){for(var t=Us.event.changedTouches,n=0,a=t.length;a>n;++n)p[t[n].identifier]=null;var s=e(),l=Date.now();if(1===s.length){if(500>l-b){var u=s[0],d=p[u.identifier];o(2*x.k),i(u,d),_(),r(h)}b=l}else if(s.length>1){var u=s[0],c=s[1],g=u[0]-c[0],m=u[1]-c[1];f=g*g+m*m}}function a(){for(var e,t,n,a,s=Us.touches(m),l=0,u=s.length;u>l;++l,a=null)if(n=s[l],a=p[n.identifier]){if(t)break;e=n,t=a}if(a){var d=(d=n[0]-e[0])*d+(d=n[1]-e[1])*d,c=f&&Math.sqrt(d/f);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+a[0])/2,(t[1]+a[1])/2],o(c*g)}b=null,i(e,t),r(h)}function c(){if(Us.event.touches.length){for(var t=Us.event.changedTouches,n=0,o=t.length;o>n;++n)delete p[t[n].identifier];for(var i in p)return void e()}k.on(y,null).on(w,null),C.on(M,u).on(T,d),S(),l(h)}var g,m=this,h=R.of(m,arguments),p={},f=0,v=Us.event.changedTouches[0].identifier,y="touchmove.zoom-"+v,w="touchend.zoom-"+v,k=Us.select(Xs).on(y,a).on(w,c),C=Us.select(m).on(M,null).on(T,n),S=q();O.call(m),n(),s(h)}function c(){var e=R.of(this,arguments);f?clearTimeout(f):(O.call(this),s(e)),f=setTimeout(function(){f=null,l(e)},50),_();var n=p||Us.mouse(this);h||(h=t(n)),o(Math.pow(2,.002*Ir())*x.k),i(n,h),r(e)}function g(){h=null}function m(){var e=R.of(this,arguments),n=Us.mouse(this),a=t(n),u=Math.log(x.k)/Math.LN2;s(e),o(Math.pow(2,Us.event.shiftKey?Math.ceil(u)-1:Math.floor(u)+1)),i(n,a),r(e),l(e)}var h,p,f,b,y,w,k,C,x={x:0,y:0,k:1},S=[960,500],z=Pr,M="mousedown.zoom",A="mousemove.zoom",E="mouseup.zoom",T="touchstart.zoom",R=v(e,"zoomstart","zoom","zoomend");return e.event=function(e){e.each(function(){var e=R.of(this,arguments),t=x;zu?Us.select(this).transition().each("start.zoom",function(){x=this.__chart__||{x:0,y:0,k:1},s(e)}).tween("zoom:zoom",function(){var n=S[0],o=S[1],i=n/2,a=o/2,s=Us.interpolateZoom([(i-x.x)/x.k,(a-x.y)/x.k,n/x.k],[(i-t.x)/t.k,(a-t.y)/t.k,n/t.k]);return function(t){var o=s(t),l=n/o[2];this.__chart__=x={x:i-o[0]*l,y:a-o[1]*l,k:l},r(e)}}).each("end.zoom",function(){l(e)}):(this.__chart__=x,s(e),r(e),l(e))})},e.translate=function(t){return arguments.length?(x={x:+t[0],y:+t[1],k:x.k},a(),e):[x.x,x.y]},e.scale=function(t){return arguments.length?(x={x:x.x,y:x.y,k:+t},a(),e):x.k},e.scaleExtent=function(t){return arguments.length?(z=null==t?Pr:[+t[0],+t[1]],e):z},e.center=function(t){return arguments.length?(p=t&&[+t[0],+t[1]],e):p},e.size=function(t){return arguments.length?(S=t&&[+t[0],+t[1]],e):S},e.x=function(t){return arguments.length?(w=t,y=t.copy(),x={x:0,y:0,k:1},e):w},e.y=function(t){return arguments.length?(C=t,k=t.copy(),x={x:0,y:0,k:1},e):C},Us.rebind(e,R,"on")};var Ir,Pr=[0,1/0],Or="onwheel"in Js?(Ir=function(){return-Us.event.deltaY*(Us.event.deltaMode?120:1)},"wheel"):"onmousewheel"in Js?(Ir=function(){return Us.event.wheelDelta},"mousewheel"):(Ir=function(){return-Us.event.detail},"MozMousePixelScroll");Z.prototype.toString=function(){return this.rgb()+""},Us.hsl=function(e,t,n){return 1===arguments.length?e instanceof Q?X(e.h,e.s,e.l):_t(""+e,ft,X):X(+e,+t,+n)};var Lr=Q.prototype=new Z;Lr.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),X(this.h,this.s,this.l/e)},Lr.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),X(this.h,this.s,e*this.l)},Lr.rgb=function(){return et(this.h,this.s,this.l)},Us.hcl=function(e,t,n){return 1===arguments.length?e instanceof nt?tt(e.h,e.c,e.l):e instanceof at?rt(e.l,e.a,e.b):rt((e=vt((e=Us.rgb(e)).r,e.g,e.b)).l,e.a,e.b):tt(+e,+t,+n)};var $r=nt.prototype=new Z;$r.brighter=function(e){return tt(this.h,this.c,Math.min(100,this.l+Gr*(arguments.length?e:1)))},$r.darker=function(e){return tt(this.h,this.c,Math.max(0,this.l-Gr*(arguments.length?e:1)))},$r.rgb=function(){return ot(this.h,this.c,this.l).rgb()},Us.lab=function(e,t,n){return 1===arguments.length?e instanceof at?it(e.l,e.a,e.b):e instanceof nt?ot(e.l,e.c,e.h):vt((e=Us.rgb(e)).r,e.g,e.b):it(+e,+t,+n)};var Gr=18,qr=.95047,Fr=1,Vr=1.08883,Hr=at.prototype=new Z;Hr.brighter=function(e){return it(Math.min(100,this.l+Gr*(arguments.length?e:1)),this.a,this.b)},Hr.darker=function(e){return it(Math.max(0,this.l-Gr*(arguments.length?e:1)),this.a,this.b)},Hr.rgb=function(){return st(this.l,this.a,this.b)},Us.rgb=function(e,t,n){return 1===arguments.length?e instanceof ht?mt(e.r,e.g,e.b):_t(""+e,mt,et):mt(~~e,~~t,~~n)};var Wr=ht.prototype=new Z;Wr.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,o=this.b,i=30;return t||n||o?(t&&i>t&&(t=i),n&&i>n&&(n=i),o&&i>o&&(o=i),mt(Math.min(255,~~(t/e)),Math.min(255,~~(n/e)),Math.min(255,~~(o/e)))):mt(i,i,i)},Wr.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),mt(~~(e*this.r),~~(e*this.g),~~(e*this.b))},Wr.hsl=function(){return ft(this.r,this.g,this.b)},Wr.toString=function(){return"#"+pt(this.r)+pt(this.g)+pt(this.b)};var Br=Us.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Br.forEach(function(e,t){Br.set(e,ct(t))}),Us.functor=wt,Us.xhr=Ct(kt),Us.dsv=function(e,t){function n(e,n,a){arguments.length<3&&(a=n,n=null);var s=xt(e,t,null==n?o:i(n),a);return s.row=function(e){return arguments.length?s.response(null==(n=e)?o:i(e)):n},s}function o(e){return n.parse(e.responseText)}function i(e){return function(t){return n.parse(t.responseText,e)
}}function a(t){return t.map(s).join(e)}function s(e){return r.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}var r=new RegExp('["'+e+"\n]"),l=e.charCodeAt(0);return n.parse=function(e,t){var o;return n.parseRows(e,function(e,n){if(o)return o(e,n-1);var i=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");o=t?function(e,n){return t(i(e),n)}:i})},n.parseRows=function(e,t){function n(){if(d>=u)return s;if(i)return i=!1,a;var t=d;if(34===e.charCodeAt(t)){for(var n=t;n++<u;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}d=n+2;var o=e.charCodeAt(n+1);return 13===o?(i=!0,10===e.charCodeAt(n+2)&&++d):10===o&&(i=!0),e.substring(t+1,n).replace(/""/g,'"')}for(;u>d;){var o=e.charCodeAt(d++),r=1;if(10===o)i=!0;else if(13===o)i=!0,10===e.charCodeAt(d)&&(++d,++r);else if(o!==l)continue;return e.substring(t,d-r)}return e.substring(t)}for(var o,i,a={},s={},r=[],u=e.length,d=0,c=0;(o=n())!==s;){for(var g=[];o!==a&&o!==s;)g.push(o),o=n();(!t||(g=t(g,c++)))&&r.push(g)}return r},n.format=function(t){if(Array.isArray(t[0]))return n.formatRows(t);var o=new d,i=[];return t.forEach(function(e){for(var t in e)o.has(t)||i.push(o.add(t))}),[i.map(s).join(e)].concat(t.map(function(t){return i.map(function(e){return s(t[e])}).join(e)})).join("\n")},n.formatRows=function(e){return e.map(a).join("\n")},n},Us.csv=Us.dsv(",","text/csv"),Us.tsv=Us.dsv("	","text/tab-separated-values");var Ur,Kr,Yr,Jr,Zr,Xr=Xs[g(Xs,"requestAnimationFrame")]||function(e){setTimeout(e,17)};Us.timer=function(e,t,n){var o=arguments.length;2>o&&(t=0),3>o&&(n=Date.now());var i=n+t,a={c:e,t:i,f:!1,n:null};Kr?Kr.n=a:Ur=a,Kr=a,Yr||(Jr=clearTimeout(Jr),Yr=1,Xr(zt))},Us.timer.flush=function(){Mt(),At()},Us.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var Qr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Tt);Us.formatPrefix=function(e,t){var n=0;return e&&(0>e&&(e*=-1),t&&(e=Us.round(e,Et(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((0>=n?n+1:n-1)/3)))),Qr[8+n/3]};var el=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,tl=Us.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=Us.round(e,Et(e,t))).toFixed(Math.max(0,Math.min(20,Et(e*(1+1e-15),t))))}}),nl=Us.time={},ol=Date;jt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){il.setUTCDate.apply(this._,arguments)},setDay:function(){il.setUTCDay.apply(this._,arguments)},setFullYear:function(){il.setUTCFullYear.apply(this._,arguments)},setHours:function(){il.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){il.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){il.setUTCMinutes.apply(this._,arguments)},setMonth:function(){il.setUTCMonth.apply(this._,arguments)},setSeconds:function(){il.setUTCSeconds.apply(this._,arguments)},setTime:function(){il.setTime.apply(this._,arguments)}};var il=Date.prototype;nl.year=Nt(function(e){return e=nl.day(e),e.setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),nl.years=nl.year.range,nl.years.utc=nl.year.utc.range,nl.day=Nt(function(e){var t=new ol(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),nl.days=nl.day.range,nl.days.utc=nl.day.utc.range,nl.dayOfYear=function(e){var t=nl.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=nl[e]=Nt(function(e){return(e=nl.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=nl.year(e).getDay();return Math.floor((nl.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});nl[e+"s"]=n.range,nl[e+"s"].utc=n.utc.range,nl[e+"OfYear"]=function(e){var n=nl.year(e).getDay();return Math.floor((nl.dayOfYear(e)+(n+t)%7)/7)}}),nl.week=nl.sunday,nl.weeks=nl.sunday.range,nl.weeks.utc=nl.sunday.utc.range,nl.weekOfYear=nl.sundayOfYear;var al={"-":"",_:" ",0:"0"},sl=/^\s*\d+/,rl=/^%/;Us.locale=function(e){return{numberFormat:Rt(e),timeFormat:Pt(e)}};var ll=Us.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Us.format=ll.numberFormat,Us.geo={},on.prototype={s:0,t:0,add:function(e){an(e,this.t,ul),an(ul.s,this.s,this),this.s?this.t+=ul.t:this.s=ul.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ul=new on;Us.geo.stream=function(e,t){e&&dl.hasOwnProperty(e.type)?dl[e.type](e,t):sn(e,t)};var dl={Feature:function(e,t){sn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,o=-1,i=n.length;++o<i;)sn(n[o].geometry,t)}},cl={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,o=-1,i=n.length;++o<i;)e=n[o],t.point(e[0],e[1],e[2])},LineString:function(e,t){rn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,o=-1,i=n.length;++o<i;)rn(n[o],t,0)},Polygon:function(e,t){ln(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,o=-1,i=n.length;++o<i;)ln(n[o],t)},GeometryCollection:function(e,t){for(var n=e.geometries,o=-1,i=n.length;++o<i;)sn(n[o],t)}};Us.geo.area=function(e){return gl=0,Us.geo.stream(e,hl),gl};var gl,ml=new on,hl={sphere:function(){gl+=4*Sr},point:m,lineStart:m,lineEnd:m,polygonStart:function(){ml.reset(),hl.lineStart=un},polygonEnd:function(){var e=2*ml;gl+=0>e?4*Sr+e:e,hl.lineStart=hl.lineEnd=hl.point=m}};Us.geo.bounds=function(){function e(e,t){b.push(y=[d=e,g=e]),c>t&&(c=t),t>m&&(m=t)}function t(t,n){var o=dn([t*Tr,n*Tr]);if(f){var i=gn(f,o),a=[i[1],-i[0],0],s=gn(a,i);pn(s),s=_n(s);var l=t-h,u=l>0?1:-1,p=s[0]*Rr*u,_=rr(l)>180;if(_^(p>u*h&&u*t>p)){var v=s[1]*Rr;v>m&&(m=v)}else if(p=(p+360)%360-180,_^(p>u*h&&u*t>p)){var v=-s[1]*Rr;c>v&&(c=v)}else c>n&&(c=n),n>m&&(m=n);_?h>t?r(d,t)>r(d,g)&&(g=t):r(t,g)>r(d,g)&&(d=t):g>=d?(d>t&&(d=t),t>g&&(g=t)):t>h?r(d,t)>r(d,g)&&(g=t):r(t,g)>r(d,g)&&(d=t)}else e(t,n);f=o,h=t}function n(){w.point=t}function o(){y[0]=d,y[1]=g,w.point=e,f=null}function i(e,n){if(f){var o=e-h;v+=rr(o)>180?o+(o>0?360:-360):o}else p=e,_=n;hl.point(e,n),t(e,n)}function a(){hl.lineStart()}function s(){i(p,_),hl.lineEnd(),rr(v)>Ar&&(d=-(g=180)),y[0]=d,y[1]=g,f=null}function r(e,t){return(t-=e)<0?t+360:t}function l(e,t){return e[0]-t[0]}function u(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var d,c,g,m,h,p,_,f,v,b,y,w={point:e,lineStart:n,lineEnd:o,polygonStart:function(){w.point=i,w.lineStart=a,w.lineEnd=s,v=0,hl.polygonStart()},polygonEnd:function(){hl.polygonEnd(),w.point=e,w.lineStart=n,w.lineEnd=o,0>ml?(d=-(g=180),c=-(m=90)):v>Ar?m=90:-Ar>v&&(c=-90),y[0]=d,y[1]=g}};return function(e){m=g=-(d=c=1/0),b=[],Us.geo.stream(e,w);var t=b.length;if(t){b.sort(l);for(var n,o=1,i=b[0],a=[i];t>o;++o)n=b[o],u(n[0],i)||u(n[1],i)?(r(i[0],n[1])>r(i[0],i[1])&&(i[1]=n[1]),r(n[0],i[1])>r(i[0],i[1])&&(i[0]=n[0])):a.push(i=n);for(var s,n,h=-1/0,t=a.length-1,o=0,i=a[t];t>=o;i=n,++o)n=a[o],(s=r(i[1],n[0]))>h&&(h=s,d=n[0],g=i[1])}return b=y=null,1/0===d||1/0===c?[[0/0,0/0],[0/0,0/0]]:[[d,c],[g,m]]}}(),Us.geo.centroid=function(e){pl=_l=fl=vl=bl=yl=wl=kl=Cl=xl=Sl=0,Us.geo.stream(e,zl);var t=Cl,n=xl,o=Sl,i=t*t+n*n+o*o;return Er>i&&(t=yl,n=wl,o=kl,Ar>_l&&(t=fl,n=vl,o=bl),i=t*t+n*n+o*o,Er>i)?[0/0,0/0]:[Math.atan2(n,t)*Rr,B(o/Math.sqrt(i))*Rr]};var pl,_l,fl,vl,bl,yl,wl,kl,Cl,xl,Sl,zl={sphere:m,point:vn,lineStart:yn,lineEnd:wn,polygonStart:function(){zl.lineStart=kn},polygonEnd:function(){zl.lineStart=yn}},Ml=Mn(Cn,Dn,Nn,[-Sr,-Sr/2]),Al=1e9;Us.geo.clipExtent=function(){var e,t,n,o,i,a,s={stream:function(e){return i&&(i.valid=!1),i=a(e),i.valid=!0,i},extent:function(r){return arguments.length?(a=On(e=+r[0][0],t=+r[0][1],n=+r[1][0],o=+r[1][1]),i&&(i.valid=!1,i=null),s):[[e,t],[n,o]]}};return s.extent([[0,0],[960,500]])},(Us.geo.conicEqualArea=function(){return $n(Gn)}).raw=Gn,Us.geo.albers=function(){return Us.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},Us.geo.albersUsa=function(){function e(e){var a=e[0],s=e[1];return t=null,n(a,s),t||(o(a,s),t)||i(a,s),t}var t,n,o,i,a=Us.geo.albers(),s=Us.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),r=Us.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(e,n){t=[e,n]}};return e.invert=function(e){var t=a.scale(),n=a.translate(),o=(e[0]-n[0])/t,i=(e[1]-n[1])/t;return(i>=.12&&.234>i&&o>=-.425&&-.214>o?s:i>=.166&&.234>i&&o>=-.214&&-.115>o?r:a).invert(e)},e.stream=function(e){var t=a.stream(e),n=s.stream(e),o=r.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),o.point(e,i)},sphere:function(){t.sphere(),n.sphere(),o.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),o.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),o.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),o.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),o.polygonEnd()}}},e.precision=function(t){return arguments.length?(a.precision(t),s.precision(t),r.precision(t),e):a.precision()},e.scale=function(t){return arguments.length?(a.scale(t),s.scale(.35*t),r.scale(t),e.translate(a.translate())):a.scale()},e.translate=function(t){if(!arguments.length)return a.translate();var u=a.scale(),d=+t[0],c=+t[1];return n=a.translate(t).clipExtent([[d-.455*u,c-.238*u],[d+.455*u,c+.238*u]]).stream(l).point,o=s.translate([d-.307*u,c+.201*u]).clipExtent([[d-.425*u+Ar,c+.12*u+Ar],[d-.214*u-Ar,c+.234*u-Ar]]).stream(l).point,i=r.translate([d-.205*u,c+.212*u]).clipExtent([[d-.214*u+Ar,c+.166*u+Ar],[d-.115*u-Ar,c+.234*u-Ar]]).stream(l).point,e},e.scale(1070)};var El,Tl,Rl,Dl,jl,Nl,Il={point:m,lineStart:m,lineEnd:m,polygonStart:function(){Tl=0,Il.lineStart=qn},polygonEnd:function(){Il.lineStart=Il.lineEnd=Il.point=m,El+=rr(Tl/2)}},Pl={point:Fn,lineStart:m,lineEnd:m,polygonStart:m,polygonEnd:m},Ol={point:Wn,lineStart:Bn,lineEnd:Un,polygonStart:function(){Ol.lineStart=Kn},polygonEnd:function(){Ol.point=Wn,Ol.lineStart=Bn,Ol.lineEnd=Un}};Us.geo.path=function(){function e(e){return e&&("function"==typeof r&&a.pointRadius(+r.apply(this,arguments)),s&&s.valid||(s=i(a)),Us.geo.stream(e,s)),a.result()}function t(){return s=null,e}var n,o,i,a,s,r=4.5;return e.area=function(e){return El=0,Us.geo.stream(e,i(Il)),El},e.centroid=function(e){return fl=vl=bl=yl=wl=kl=Cl=xl=Sl=0,Us.geo.stream(e,i(Ol)),Sl?[Cl/Sl,xl/Sl]:kl?[yl/kl,wl/kl]:bl?[fl/bl,vl/bl]:[0/0,0/0]},e.bounds=function(e){return jl=Nl=-(Rl=Dl=1/0),Us.geo.stream(e,i(Pl)),[[Rl,Dl],[jl,Nl]]},e.projection=function(e){return arguments.length?(i=(n=e)?e.stream||Zn(e):kt,t()):n},e.context=function(e){return arguments.length?(a=null==(o=e)?new Vn:new Yn(e),"function"!=typeof r&&a.pointRadius(r),t()):o},e.pointRadius=function(t){return arguments.length?(r="function"==typeof t?t:(a.pointRadius(+t),+t),e):r},e.projection(Us.geo.albersUsa()).context(null)},Us.geo.transform=function(e){return{stream:function(t){var n=new Xn(t);for(var o in e)n[o]=e[o];return n}}},Xn.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},Us.geo.projection=eo,Us.geo.projectionMutator=to,(Us.geo.equirectangular=function(){return eo(oo)}).raw=oo.invert=oo,Us.geo.rotation=function(e){function t(t){return t=e(t[0]*Tr,t[1]*Tr),t[0]*=Rr,t[1]*=Rr,t}return e=ao(e[0]%360*Tr,e[1]*Tr,e.length>2?e[2]*Tr:0),t.invert=function(t){return t=e.invert(t[0]*Tr,t[1]*Tr),t[0]*=Rr,t[1]*=Rr,t},t},io.invert=oo,Us.geo.circle=function(){function e(){var e="function"==typeof o?o.apply(this,arguments):o,t=ao(-e[0]*Tr,-e[1]*Tr,0).invert,i=[];return n(null,null,1,{point:function(e,n){i.push(e=t(e,n)),e[0]*=Rr,e[1]*=Rr}}),{type:"Polygon",coordinates:[i]}}var t,n,o=[0,0],i=6;return e.origin=function(t){return arguments.length?(o=t,e):o},e.angle=function(o){return arguments.length?(n=uo((t=+o)*Tr,i*Tr),e):t},e.precision=function(o){return arguments.length?(n=uo(t*Tr,(i=+o)*Tr),e):i},e.angle(90)},Us.geo.distance=function(e,t){var n,o=(t[0]-e[0])*Tr,i=e[1]*Tr,a=t[1]*Tr,s=Math.sin(o),r=Math.cos(o),l=Math.sin(i),u=Math.cos(i),d=Math.sin(a),c=Math.cos(a);return Math.atan2(Math.sqrt((n=c*s)*n+(n=u*d-l*c*r)*n),l*d+u*c*r)},Us.geo.graticule=function(){function e(){return{type:"MultiLineString",coordinates:t()}}function t(){return Us.range(Math.ceil(a/_)*_,i,_).map(g).concat(Us.range(Math.ceil(u/f)*f,l,f).map(m)).concat(Us.range(Math.ceil(o/h)*h,n,h).filter(function(e){return rr(e%_)>Ar}).map(d)).concat(Us.range(Math.ceil(r/p)*p,s,p).filter(function(e){return rr(e%f)>Ar}).map(c))}var n,o,i,a,s,r,l,u,d,c,g,m,h=10,p=h,_=90,f=360,v=2.5;return e.lines=function(){return t().map(function(e){return{type:"LineString",coordinates:e}})},e.outline=function(){return{type:"Polygon",coordinates:[g(a).concat(m(l).slice(1),g(i).reverse().slice(1),m(u).reverse().slice(1))]}},e.extent=function(t){return arguments.length?e.majorExtent(t).minorExtent(t):e.minorExtent()},e.majorExtent=function(t){return arguments.length?(a=+t[0][0],i=+t[1][0],u=+t[0][1],l=+t[1][1],a>i&&(t=a,a=i,i=t),u>l&&(t=u,u=l,l=t),e.precision(v)):[[a,u],[i,l]]},e.minorExtent=function(t){return arguments.length?(o=+t[0][0],n=+t[1][0],r=+t[0][1],s=+t[1][1],o>n&&(t=o,o=n,n=t),r>s&&(t=r,r=s,s=t),e.precision(v)):[[o,r],[n,s]]},e.step=function(t){return arguments.length?e.majorStep(t).minorStep(t):e.minorStep()},e.majorStep=function(t){return arguments.length?(_=+t[0],f=+t[1],e):[_,f]},e.minorStep=function(t){return arguments.length?(h=+t[0],p=+t[1],e):[h,p]},e.precision=function(t){return arguments.length?(v=+t,d=go(r,s,90),c=mo(o,n,v),g=go(u,l,90),m=mo(a,i,v),e):v},e.majorExtent([[-180,-90+Ar],[180,90-Ar]]).minorExtent([[-180,-80-Ar],[180,80+Ar]])},Us.geo.greatArc=function(){function e(){return{type:"LineString",coordinates:[t||o.apply(this,arguments),n||i.apply(this,arguments)]}}var t,n,o=ho,i=po;return e.distance=function(){return Us.geo.distance(t||o.apply(this,arguments),n||i.apply(this,arguments))},e.source=function(n){return arguments.length?(o=n,t="function"==typeof n?null:n,e):o},e.target=function(t){return arguments.length?(i=t,n="function"==typeof t?null:t,e):i},e.precision=function(){return arguments.length?e:0},e},Us.geo.interpolate=function(e,t){return _o(e[0]*Tr,e[1]*Tr,t[0]*Tr,t[1]*Tr)},Us.geo.length=function(e){return Ll=0,Us.geo.stream(e,$l),Ll};var Ll,$l={sphere:m,point:m,lineStart:fo,lineEnd:m,polygonStart:m,polygonEnd:m},Gl=vo(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(Us.geo.azimuthalEqualArea=function(){return eo(Gl)}).raw=Gl;var ql=vo(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},kt);(Us.geo.azimuthalEquidistant=function(){return eo(ql)}).raw=ql,(Us.geo.conicConformal=function(){return $n(bo)}).raw=bo,(Us.geo.conicEquidistant=function(){return $n(yo)}).raw=yo;var Fl=vo(function(e){return 1/e},Math.atan);(Us.geo.gnomonic=function(){return eo(Fl)}).raw=Fl,wo.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Mr]},(Us.geo.mercator=function(){return ko(wo)}).raw=wo;var Vl=vo(function(){return 1},Math.asin);(Us.geo.orthographic=function(){return eo(Vl)}).raw=Vl;var Hl=vo(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});(Us.geo.stereographic=function(){return eo(Hl)}).raw=Hl,Co.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Mr]},(Us.geo.transverseMercator=function(){var e=ko(Co),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):(e=t(),[-e[1],e[0]])},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):(e=n(),[e[0],e[1],e[2]-90])},e.rotate([0,0])}).raw=Co,Us.geom={},Us.geom.hull=function(e){function t(e){if(e.length<3)return[];var t,i=wt(n),a=wt(o),s=e.length,r=[],l=[];for(t=0;s>t;t++)r.push([+i.call(this,e[t],t),+a.call(this,e[t],t),t]);for(r.sort(Mo),t=0;s>t;t++)l.push([r[t][0],-r[t][1]]);var u=zo(r),d=zo(l),c=d[0]===u[0],g=d[d.length-1]===u[u.length-1],m=[];for(t=u.length-1;t>=0;--t)m.push(e[r[u[t]][2]]);for(t=+c;t<d.length-g;++t)m.push(e[r[d[t]][2]]);return m}var n=xo,o=So;return arguments.length?t(e):(t.x=function(e){return arguments.length?(n=e,t):n},t.y=function(e){return arguments.length?(o=e,t):o},t)},Us.geom.polygon=function(e){return gr(e,Wl),e};var Wl=Us.geom.polygon.prototype=[];Wl.area=function(){for(var e,t=-1,n=this.length,o=this[n-1],i=0;++t<n;)e=o,o=this[t],i+=e[1]*o[0]-e[0]*o[1];return.5*i},Wl.centroid=function(e){var t,n,o=-1,i=this.length,a=0,s=0,r=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++o<i;)t=r,r=this[o],n=t[0]*r[1]-r[0]*t[1],a+=(t[0]+r[0])*n,s+=(t[1]+r[1])*n;return[a*e,s*e]},Wl.clip=function(e){for(var t,n,o,i,a,s,r=To(e),l=-1,u=this.length-To(this),d=this[u-1];++l<u;){for(t=e.slice(),e.length=0,i=this[l],a=t[(o=t.length-r)-1],n=-1;++n<o;)s=t[n],Ao(s,d,i)?(Ao(a,d,i)||e.push(Eo(a,s,d,i)),e.push(s)):Ao(a,d,i)&&e.push(Eo(a,s,d,i)),a=s;r&&e.push(e[0]),d=i}return e};var Bl,Ul,Kl,Yl,Jl,Zl=[],Xl=[];Lo.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)e=t[n].edge,e.b&&e.a||t.splice(n,1);return t.sort(Go),t.length},Jo.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Zo.prototype={insert:function(e,t){var n,o,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=ti(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)o=n.U,n===o.L?(i=o.R,i&&i.C?(n.C=i.C=!1,o.C=!0,e=o):(e===n.R&&(Qo(this,n),e=n,n=e.U),n.C=!1,o.C=!0,ei(this,o))):(i=o.L,i&&i.C?(n.C=i.C=!1,o.C=!0,e=o):(e===n.L&&(ei(this,n),e=n,n=e.U),n.C=!1,o.C=!0,Qo(this,o))),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,o,i=e.U,a=e.L,s=e.R;if(n=a?s?ti(s):a:s,i?i.L===e?i.L=n:i.R=n:this._=n,a&&s?(o=n.C,n.C=e.C,n.L=a,a.U=n,n!==s?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=s,s.U=n):(n.U=i,i=n,e=n.R)):(o=e.C,e=n),e&&(e.U=i),!o){if(e&&e.C)return void(e.C=!1);do{if(e===this._)break;if(e===i.L){if(t=i.R,t.C&&(t.C=!1,i.C=!0,Qo(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,ei(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,Qo(this,i),e=this._;break}}else if(t=i.L,t.C&&(t.C=!1,i.C=!0,ei(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Qo(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,ei(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},Us.geom.voronoi=function(e){function t(e){var t=new Array(e.length),o=r[0][0],i=r[0][1],a=r[1][0],s=r[1][1];return ni(n(e),r).cells.forEach(function(n,r){var l=n.edges,u=n.site,d=t[r]=l.length?l.map(function(e){var t=e.start();return[t.x,t.y]}):u.x>=o&&u.x<=a&&u.y>=i&&u.y<=s?[[o,s],[a,s],[a,i],[o,i]]:[];d.point=e[r]}),t}function n(e){return e.map(function(e,t){return{x:Math.round(a(e,t)/Ar)*Ar,y:Math.round(s(e,t)/Ar)*Ar,i:t}})}var o=xo,i=So,a=o,s=i,r=Ql;return e?t(e):(t.links=function(e){return ni(n(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},t.triangles=function(e){var t=[];return ni(n(e)).cells.forEach(function(n,o){for(var i,a,s=n.site,r=n.edges.sort(Go),l=-1,u=r.length,d=r[u-1].edge,c=d.l===s?d.r:d.l;++l<u;)i=d,a=c,d=r[l].edge,c=d.l===s?d.r:d.l,o<a.i&&o<c.i&&ii(s,a,c)<0&&t.push([e[o],e[a.i],e[c.i]])}),t},t.x=function(e){return arguments.length?(a=wt(o=e),t):o},t.y=function(e){return arguments.length?(s=wt(i=e),t):i},t.clipExtent=function(e){return arguments.length?(r=null==e?Ql:e,t):r===Ql?null:r},t.size=function(e){return arguments.length?t.clipExtent(e&&[[0,0],e]):r===Ql?null:r&&r[1]},t)};var Ql=[[-1e6,-1e6],[1e6,1e6]];Us.geom.delaunay=function(e){return Us.geom.voronoi().triangles(e)},Us.geom.quadtree=function(e,t,n,o,i){function a(e){function a(e,t,n,o,i,a,s,r){if(!isNaN(n)&&!isNaN(o))if(e.leaf){var l=e.x,d=e.y;if(null!=l)if(rr(l-n)+rr(d-o)<.01)u(e,t,n,o,i,a,s,r);else{var c=e.point;e.x=e.y=e.point=null,u(e,c,l,d,i,a,s,r),u(e,t,n,o,i,a,s,r)}else e.x=n,e.y=o,e.point=t}else u(e,t,n,o,i,a,s,r)}function u(e,t,n,o,i,s,r,l){var u=.5*(i+r),d=.5*(s+l),c=n>=u,g=o>=d,m=(g<<1)+c;e.leaf=!1,e=e.nodes[m]||(e.nodes[m]=ri()),c?i=u:r=u,g?s=d:l=d,a(e,t,n,o,i,s,r,l)}var d,c,g,m,h,p,_,f,v,b=wt(r),y=wt(l);if(null!=t)p=t,_=n,f=o,v=i;else if(f=v=-(p=_=1/0),c=[],g=[],h=e.length,s)for(m=0;h>m;++m)d=e[m],d.x<p&&(p=d.x),d.y<_&&(_=d.y),d.x>f&&(f=d.x),d.y>v&&(v=d.y),c.push(d.x),g.push(d.y);else for(m=0;h>m;++m){var w=+b(d=e[m],m),k=+y(d,m);p>w&&(p=w),_>k&&(_=k),w>f&&(f=w),k>v&&(v=k),c.push(w),g.push(k)}var C=f-p,x=v-_;C>x?v=_+C:f=p+x;var S=ri();if(S.add=function(e){a(S,e,+b(e,++m),+y(e,m),p,_,f,v)},S.visit=function(e){li(e,S,p,_,f,v)},m=-1,null==t){for(;++m<h;)a(S,e[m],c[m],g[m],p,_,f,v);--m}else e.forEach(S.add);return c=g=e=d=null,S}var s,r=xo,l=So;return(s=arguments.length)?(r=ai,l=si,3===s&&(i=n,o=t,n=t=0),a(e)):(a.x=function(e){return arguments.length?(r=e,a):r},a.y=function(e){return arguments.length?(l=e,a):l},a.extent=function(e){return arguments.length?(null==e?t=n=o=i=null:(t=+e[0][0],n=+e[0][1],o=+e[1][0],i=+e[1][1]),a):null==t?null:[[t,n],[o,i]]},a.size=function(e){return arguments.length?(null==e?t=n=o=i=null:(t=n=0,o=+e[0],i=+e[1]),a):null==t?null:[o-t,i-n]},a)},Us.interpolateRgb=ui,Us.interpolateObject=di,Us.interpolateNumber=ci,Us.interpolateString=gi;var eu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g;Us.interpolate=mi,Us.interpolators=[function(e,t){var n=typeof t;return("string"===n?Br.has(t)||/^(#|rgb\(|hsl\()/.test(t)?ui:gi:t instanceof Z?ui:"object"===n?Array.isArray(t)?hi:di:ci)(e,t)}],Us.interpolateArray=hi;var tu=function(){return kt},nu=Us.map({linear:tu,poly:wi,quad:function(){return vi},cubic:function(){return bi},sin:function(){return ki},exp:function(){return Ci},circle:function(){return xi},elastic:Si,back:zi,bounce:function(){return Mi}}),ou=Us.map({"in":kt,out:_i,"in-out":fi,"out-in":function(e){return fi(_i(e))}});Us.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.substring(0,t):e,o=t>=0?e.substring(t+1):"in";return n=nu.get(n)||tu,o=ou.get(o)||kt,pi(o(n.apply(null,Ks.call(arguments,1))))},Us.interpolateHcl=Ai,Us.interpolateHsl=Ei,Us.interpolateLab=Ti,Us.interpolateRound=Ri,Us.transform=function(e){var t=Js.createElementNS(Us.ns.prefix.svg,"g");return(Us.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new Di(n?n.matrix:iu)})(e)},Di.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var iu={a:1,b:0,c:0,d:1,e:0,f:0};Us.interpolateTransform=Pi,Us.layout={},Us.layout.bundle=function(){return function(e){for(var t=[],n=-1,o=e.length;++n<o;)t.push($i(e[n]));return t}},Us.layout.chord=function(){function e(){var e,u,c,g,m,h={},p=[],_=Us.range(a),f=[];for(n=[],o=[],e=0,g=-1;++g<a;){for(u=0,m=-1;++m<a;)u+=i[g][m];p.push(u),f.push(Us.range(a)),e+=u}for(s&&_.sort(function(e,t){return s(p[e],p[t])}),r&&f.forEach(function(e,t){e.sort(function(e,n){return r(i[t][e],i[t][n])})}),e=(zr-d*a)/e,u=0,g=-1;++g<a;){for(c=u,m=-1;++m<a;){var v=_[g],b=f[v][m],y=i[v][b],w=u,k=u+=y*e;h[v+"-"+b]={index:v,subindex:b,startAngle:w,endAngle:k,value:y}}o[v]={index:v,startAngle:c,endAngle:u,value:(u-c)/e},u+=d}for(g=-1;++g<a;)for(m=g-1;++m<a;){var C=h[g+"-"+m],x=h[m+"-"+g];(C.value||x.value)&&n.push(C.value<x.value?{source:x,target:C}:{source:C,target:x})}l&&t()}function t(){n.sort(function(e,t){return l((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}var n,o,i,a,s,r,l,u={},d=0;return u.matrix=function(e){return arguments.length?(a=(i=e)&&i.length,n=o=null,u):i},u.padding=function(e){return arguments.length?(d=e,n=o=null,u):d},u.sortGroups=function(e){return arguments.length?(s=e,n=o=null,u):s},u.sortSubgroups=function(e){return arguments.length?(r=e,n=null,u):r},u.sortChords=function(e){return arguments.length?(l=e,n&&t(),u):l},u.chords=function(){return n||e(),n},u.groups=function(){return o||e(),o},u},Us.layout.force=function(){function e(e){return function(t,n,o,i){if(t.point!==e){var a=t.cx-e.x,s=t.cy-e.y,r=i-n,l=a*a+s*s;if(l>r*r/_){if(h>l){var u=t.charge/l;e.px-=a*u,e.py-=s*u}return!0}if(t.point&&l&&h>l){var u=t.pointCharge/l;e.px-=a*u,e.py-=s*u}}return!t.charge}}function t(e){e.px=Us.event.x,e.py=Us.event.y,r.resume()}var n,o,i,a,s,r={},l=Us.dispatch("start","tick","end"),u=[1,1],d=.9,c=au,g=su,m=-30,h=ru,p=.1,_=.64,f=[],v=[];return r.tick=function(){if((o*=.99)<.005)return l.end({type:"end",alpha:o=0}),!0;var t,n,r,c,g,h,_,b,y,w=f.length,k=v.length;for(n=0;k>n;++n)r=v[n],c=r.source,g=r.target,b=g.x-c.x,y=g.y-c.y,(h=b*b+y*y)&&(h=o*a[n]*((h=Math.sqrt(h))-i[n])/h,b*=h,y*=h,g.x-=b*(_=c.weight/(g.weight+c.weight)),g.y-=y*_,c.x+=b*(_=1-_),c.y+=y*_);if((_=o*p)&&(b=u[0]/2,y=u[1]/2,n=-1,_))for(;++n<w;)r=f[n],r.x+=(b-r.x)*_,r.y+=(y-r.y)*_;if(m)for(Bi(t=Us.geom.quadtree(f),o,s),n=-1;++n<w;)(r=f[n]).fixed||t.visit(e(r));for(n=-1;++n<w;)r=f[n],r.fixed?(r.x=r.px,r.y=r.py):(r.x-=(r.px-(r.px=r.x))*d,r.y-=(r.py-(r.py=r.y))*d);l.tick({type:"tick",alpha:o})},r.nodes=function(e){return arguments.length?(f=e,r):f},r.links=function(e){return arguments.length?(v=e,r):v},r.size=function(e){return arguments.length?(u=e,r):u},r.linkDistance=function(e){return arguments.length?(c="function"==typeof e?e:+e,r):c},r.distance=r.linkDistance,r.linkStrength=function(e){return arguments.length?(g="function"==typeof e?e:+e,r):g},r.friction=function(e){return arguments.length?(d=+e,r):d},r.charge=function(e){return arguments.length?(m="function"==typeof e?e:+e,r):m},r.chargeDistance=function(e){return arguments.length?(h=e*e,r):Math.sqrt(h)},r.gravity=function(e){return arguments.length?(p=+e,r):p},r.theta=function(e){return arguments.length?(_=e*e,r):Math.sqrt(_)},r.alpha=function(e){return arguments.length?(e=+e,o?o=e>0?e:0:e>0&&(l.start({type:"start",alpha:o=e}),Us.timer(r.tick)),r):o},r.start=function(){function e(e,o){if(!n){for(n=new Array(l),r=0;l>r;++r)n[r]=[];for(r=0;u>r;++r){var i=v[r];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var a,s=n[t],r=-1,u=s.length;++r<u;)if(!isNaN(a=s[r][e]))return a;return Math.random()*o}var t,n,o,l=f.length,d=v.length,h=u[0],p=u[1];for(t=0;l>t;++t)(o=f[t]).index=t,o.weight=0;for(t=0;d>t;++t)o=v[t],"number"==typeof o.source&&(o.source=f[o.source]),"number"==typeof o.target&&(o.target=f[o.target]),++o.source.weight,++o.target.weight;for(t=0;l>t;++t)o=f[t],isNaN(o.x)&&(o.x=e("x",h)),isNaN(o.y)&&(o.y=e("y",p)),isNaN(o.px)&&(o.px=o.x),isNaN(o.py)&&(o.py=o.y);if(i=[],"function"==typeof c)for(t=0;d>t;++t)i[t]=+c.call(this,v[t],t);else for(t=0;d>t;++t)i[t]=c;if(a=[],"function"==typeof g)for(t=0;d>t;++t)a[t]=+g.call(this,v[t],t);else for(t=0;d>t;++t)a[t]=g;if(s=[],"function"==typeof m)for(t=0;l>t;++t)s[t]=+m.call(this,f[t],t);else for(t=0;l>t;++t)s[t]=m;return r.resume()},r.resume=function(){return r.alpha(.1)},r.stop=function(){return r.alpha(0)},r.drag=function(){return n||(n=Us.behavior.drag().origin(kt).on("dragstart.force",Fi).on("drag.force",t).on("dragend.force",Vi)),arguments.length?void this.on("mouseover.force",Hi).on("mouseout.force",Wi).call(n):n},Us.rebind(r,l,"on")};var au=20,su=1,ru=1/0;Us.layout.hierarchy=function(){function e(t,s,r){var l=i.call(n,t,s);if(t.depth=s,r.push(t),l&&(u=l.length)){for(var u,d,c=-1,g=t.children=new Array(u),m=0,h=s+1;++c<u;)d=g[c]=e(l[c],h,r),d.parent=t,m+=d.value;o&&g.sort(o),a&&(t.value=m)}else delete t.children,a&&(t.value=+a.call(n,t,s)||0);return t}function t(e,o){var i=e.children,s=0;if(i&&(r=i.length))for(var r,l=-1,u=o+1;++l<r;)s+=t(i[l],u);else a&&(s=+a.call(n,e,o)||0);return a&&(e.value=s),s}function n(t){var n=[];return e(t,0,n),n}var o=Ji,i=Ki,a=Yi;return n.sort=function(e){return arguments.length?(o=e,n):o},n.children=function(e){return arguments.length?(i=e,n):i},n.value=function(e){return arguments.length?(a=e,n):a},n.revalue=function(e){return t(e,0),e},n},Us.layout.partition=function(){function e(t,n,o,i){var a=t.children;if(t.x=n,t.y=t.depth*i,t.dx=o,t.dy=i,a&&(s=a.length)){var s,r,l,u=-1;for(o=t.value?o/t.value:0;++u<s;)e(r=a[u],n,l=r.value*o,i),n+=l}}function t(e){var n=e.children,o=0;if(n&&(i=n.length))for(var i,a=-1;++a<i;)o=Math.max(o,t(n[a]));return 1+o}function n(n,a){var s=o.call(this,n,a);return e(s[0],0,i[0],i[1]/t(s[0])),s}var o=Us.layout.hierarchy(),i=[1,1];return n.size=function(e){return arguments.length?(i=e,n):i},Ui(n,o)},Us.layout.pie=function(){function e(a){var s=a.map(function(n,o){return+t.call(e,n,o)}),r=+("function"==typeof o?o.apply(this,arguments):o),l=(("function"==typeof i?i.apply(this,arguments):i)-r)/Us.sum(s),u=Us.range(a.length);null!=n&&u.sort(n===lu?function(e,t){return s[t]-s[e]}:function(e,t){return n(a[e],a[t])});var d=[];return u.forEach(function(e){var t;d[e]={data:a[e],value:t=s[e],startAngle:r,endAngle:r+=t*l}}),d}var t=Number,n=lu,o=0,i=zr;return e.value=function(n){return arguments.length?(t=n,e):t},e.sort=function(t){return arguments.length?(n=t,e):n},e.startAngle=function(t){return arguments.length?(o=t,e):o},e.endAngle=function(t){return arguments.length?(i=t,e):i},e};var lu={};Us.layout.stack=function(){function e(r,l){var u=r.map(function(n,o){return t.call(e,n,o)}),d=u.map(function(t){return t.map(function(t,n){return[a.call(e,t,n),s.call(e,t,n)]})}),c=n.call(e,d,l);u=Us.permute(u,c),d=Us.permute(d,c);var g,m,h,p=o.call(e,d,l),_=u.length,f=u[0].length;for(m=0;f>m;++m)for(i.call(e,u[0][m],h=p[m],d[0][m][1]),g=1;_>g;++g)i.call(e,u[g][m],h+=d[g-1][m][1],d[g][m][1]);return r}var t=kt,n=ta,o=na,i=ea,a=Xi,s=Qi;return e.values=function(n){return arguments.length?(t=n,e):t},e.order=function(t){return arguments.length?(n="function"==typeof t?t:uu.get(t)||ta,e):n},e.offset=function(t){return arguments.length?(o="function"==typeof t?t:du.get(t)||na,e):o},e.x=function(t){return arguments.length?(a=t,e):a},e.y=function(t){return arguments.length?(s=t,e):s},e.out=function(t){return arguments.length?(i=t,e):i},e};var uu=Us.map({"inside-out":function(e){var t,n,o=e.length,i=e.map(oa),a=e.map(ia),s=Us.range(o).sort(function(e,t){return i[e]-i[t]}),r=0,l=0,u=[],d=[];for(t=0;o>t;++t)n=s[t],l>r?(r+=a[n],u.push(n)):(l+=a[n],d.push(n));return d.reverse().concat(u)},reverse:function(e){return Us.range(e.length).reverse()},"default":ta}),du=Us.map({silhouette:function(e){var t,n,o,i=e.length,a=e[0].length,s=[],r=0,l=[];for(n=0;a>n;++n){for(t=0,o=0;i>t;t++)o+=e[t][n][1];o>r&&(r=o),s.push(o)}for(n=0;a>n;++n)l[n]=(r-s[n])/2;return l},wiggle:function(e){var t,n,o,i,a,s,r,l,u,d=e.length,c=e[0],g=c.length,m=[];for(m[0]=l=u=0,n=1;g>n;++n){for(t=0,i=0;d>t;++t)i+=e[t][n][1];for(t=0,a=0,r=c[n][0]-c[n-1][0];d>t;++t){for(o=0,s=(e[t][n][1]-e[t][n-1][1])/(2*r);t>o;++o)s+=(e[o][n][1]-e[o][n-1][1])/r;
a+=s*e[t][n][1]}m[n]=l-=i?a/i*r:0,u>l&&(u=l)}for(n=0;g>n;++n)m[n]-=u;return m},expand:function(e){var t,n,o,i=e.length,a=e[0].length,s=1/i,r=[];for(n=0;a>n;++n){for(t=0,o=0;i>t;t++)o+=e[t][n][1];if(o)for(t=0;i>t;t++)e[t][n][1]/=o;else for(t=0;i>t;t++)e[t][n][1]=s}for(n=0;a>n;++n)r[n]=0;return r},zero:na});Us.layout.histogram=function(){function e(e,a){for(var s,r,l=[],u=e.map(n,this),d=o.call(this,u,a),c=i.call(this,d,u,a),a=-1,g=u.length,m=c.length-1,h=t?1:1/g;++a<m;)s=l[a]=[],s.dx=c[a+1]-(s.x=c[a]),s.y=0;if(m>0)for(a=-1;++a<g;)r=u[a],r>=d[0]&&r<=d[1]&&(s=l[Us.bisect(c,r,1,m)-1],s.y+=h,s.push(e[a]));return l}var t=!0,n=Number,o=la,i=sa;return e.value=function(t){return arguments.length?(n=t,e):n},e.range=function(t){return arguments.length?(o=wt(t),e):o},e.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return ra(e,t)}:wt(t),e):i},e.frequency=function(n){return arguments.length?(t=!!n,e):t},e},Us.layout.tree=function(){function e(e,a){function s(e,t){var o=e.children,i=e._tree;if(o&&(a=o.length)){for(var a,r,u,d=o[0],c=d,g=-1;++g<a;)u=o[g],s(u,r),c=l(u,r,c),r=u;fa(e);var m=.5*(d._tree.prelim+u._tree.prelim);t?(i.prelim=t._tree.prelim+n(e,t),i.mod=i.prelim-m):i.prelim=m}else t&&(i.prelim=t._tree.prelim+n(e,t))}function r(e,t){e.x=e._tree.prelim+t;var n=e.children;if(n&&(o=n.length)){var o,i=-1;for(t+=e._tree.mod;++i<o;)r(n[i],t)}}function l(e,t,o){if(t){for(var i,a=e,s=e,r=t,l=e.parent.children[0],u=a._tree.mod,d=s._tree.mod,c=r._tree.mod,g=l._tree.mod;r=ca(r),a=da(a),r&&a;)l=da(l),s=ca(s),s._tree.ancestor=e,i=r._tree.prelim+c-a._tree.prelim-u+n(r,a),i>0&&(va(ba(r,e,o),e,i),u+=i,d+=i),c+=r._tree.mod,u+=a._tree.mod,g+=l._tree.mod,d+=s._tree.mod;r&&!ca(s)&&(s._tree.thread=r,s._tree.mod+=c-d),a&&!da(l)&&(l._tree.thread=a,l._tree.mod+=u-g,o=e)}return o}var u=t.call(this,e,a),d=u[0];_a(d,function(e,t){e._tree={ancestor:e,prelim:0,mod:0,change:0,shift:0,number:t?t._tree.number+1:0}}),s(d),r(d,-d._tree.prelim);var c=ga(d,ha),g=ga(d,ma),m=ga(d,pa),h=c.x-n(c,g)/2,p=g.x+n(g,c)/2,_=m.depth||1;return _a(d,i?function(e){e.x*=o[0],e.y=e.depth*o[1],delete e._tree}:function(e){e.x=(e.x-h)/(p-h)*o[0],e.y=e.depth/_*o[1],delete e._tree}),u}var t=Us.layout.hierarchy().sort(null).value(null),n=ua,o=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(o=t),e):i?null:o},e.nodeSize=function(t){return arguments.length?(i=null!=(o=t),e):i?o:null},Ui(e,t)},Us.layout.pack=function(){function e(e,a){var s=n.call(this,e,a),r=s[0],l=i[0],u=i[1],d=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(r.x=r.y=0,_a(r,function(e){e.r=+d(e.value)}),_a(r,xa),o){var c=o*(t?1:Math.max(2*r.r/l,2*r.r/u))/2;_a(r,function(e){e.r+=c}),_a(r,xa),_a(r,function(e){e.r-=c})}return Ma(r,l/2,u/2,t?1:1/Math.max(2*r.r/l,2*r.r/u)),s}var t,n=Us.layout.hierarchy().sort(ya),o=0,i=[1,1];return e.size=function(t){return arguments.length?(i=t,e):i},e.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,e):t},e.padding=function(t){return arguments.length?(o=+t,e):o},Ui(e,n)},Us.layout.cluster=function(){function e(e,a){var s,r=t.call(this,e,a),l=r[0],u=0;_a(l,function(e){var t=e.children;t&&t.length?(e.x=Ta(t),e.y=Ea(t)):(e.x=s?u+=n(e,s):0,e.y=0,s=e)});var d=Ra(l),c=Da(l),g=d.x-n(d,c)/2,m=c.x+n(c,d)/2;return _a(l,i?function(e){e.x=(e.x-l.x)*o[0],e.y=(l.y-e.y)*o[1]}:function(e){e.x=(e.x-g)/(m-g)*o[0],e.y=(1-(l.y?e.y/l.y:1))*o[1]}),r}var t=Us.layout.hierarchy().sort(null).value(null),n=ua,o=[1,1],i=!1;return e.separation=function(t){return arguments.length?(n=t,e):n},e.size=function(t){return arguments.length?(i=null==(o=t),e):i?null:o},e.nodeSize=function(t){return arguments.length?(i=null!=(o=t),e):i?o:null},Ui(e,t)},Us.layout.treemap=function(){function e(e,t){for(var n,o,i=-1,a=e.length;++i<a;)o=(n=e[i]).value*(0>t?0:t),n.area=isNaN(o)||0>=o?0:o}function t(n){var a=n.children;if(a&&a.length){var s,r,l,u=c(n),d=[],g=a.slice(),h=1/0,p="slice"===m?u.dx:"dice"===m?u.dy:"slice-dice"===m?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(e(g,u.dx*u.dy/n.value),d.area=0;(l=g.length)>0;)d.push(s=g[l-1]),d.area+=s.area,"squarify"!==m||(r=o(d,p))<=h?(g.pop(),h=r):(d.area-=d.pop().area,i(d,p,u,!1),p=Math.min(u.dx,u.dy),d.length=d.area=0,h=1/0);d.length&&(i(d,p,u,!0),d.length=d.area=0),a.forEach(t)}}function n(t){var o=t.children;if(o&&o.length){var a,s=c(t),r=o.slice(),l=[];for(e(r,s.dx*s.dy/t.value),l.area=0;a=r.pop();)l.push(a),l.area+=a.area,null!=a.z&&(i(l,a.z?s.dx:s.dy,s,!r.length),l.length=l.area=0);o.forEach(n)}}function o(e,t){for(var n,o=e.area,i=0,a=1/0,s=-1,r=e.length;++s<r;)(n=e[s].area)&&(a>n&&(a=n),n>i&&(i=n));return o*=o,t*=t,o?Math.max(t*i*h/o,o/(t*a*h)):1/0}function i(e,t,n,o){var i,a=-1,s=e.length,r=n.x,u=n.y,d=t?l(e.area/t):0;if(t==n.dx){for((o||d>n.dy)&&(d=n.dy);++a<s;)i=e[a],i.x=r,i.y=u,i.dy=d,r+=i.dx=Math.min(n.x+n.dx-r,d?l(i.area/d):0);i.z=!0,i.dx+=n.x+n.dx-r,n.y+=d,n.dy-=d}else{for((o||d>n.dx)&&(d=n.dx);++a<s;)i=e[a],i.x=r,i.y=u,i.dx=d,u+=i.dy=Math.min(n.y+n.dy-u,d?l(i.area/d):0);i.z=!1,i.dy+=n.y+n.dy-u,n.x+=d,n.dx-=d}}function a(o){var i=s||r(o),a=i[0];return a.x=0,a.y=0,a.dx=u[0],a.dy=u[1],s&&r.revalue(a),e([a],a.dx*a.dy/a.value),(s?n:t)(a),g&&(s=i),i}var s,r=Us.layout.hierarchy(),l=Math.round,u=[1,1],d=null,c=ja,g=!1,m="squarify",h=.5*(1+Math.sqrt(5));return a.size=function(e){return arguments.length?(u=e,a):u},a.padding=function(e){function t(t){var n=e.call(a,t,t.depth);return null==n?ja(t):Na(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Na(t,e)}if(!arguments.length)return d;var o;return c=null==(d=e)?ja:"function"==(o=typeof e)?t:"number"===o?(e=[e,e,e,e],n):n,a},a.round=function(e){return arguments.length?(l=e?Math.round:Number,a):l!=Number},a.sticky=function(e){return arguments.length?(g=e,s=null,a):g},a.ratio=function(e){return arguments.length?(h=e,a):h},a.mode=function(e){return arguments.length?(m=e+"",a):m},Ui(a,r)},Us.random={normal:function(e,t){var n=arguments.length;return 2>n&&(t=1),1>n&&(e=0),function(){var n,o,i;do n=2*Math.random()-1,o=2*Math.random()-1,i=n*n+o*o;while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=Us.random.normal.apply(Us,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=Us.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;e>n;n++)t+=Math.random();return t}}},Us.scale={};var cu={floor:kt,ceil:kt};Us.scale.linear=function(){return qa([0,1],[0,1],mi,!1)};var gu={s:1,g:1,p:1,r:1,e:1};Us.scale.log=function(){return Ya(Us.scale.linear().domain([0,1]),10,!0,[1,10])};var mu=Us.format(".0e"),hu={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};Us.scale.pow=function(){return Ja(Us.scale.linear(),1,[0,1])},Us.scale.sqrt=function(){return Us.scale.pow().exponent(.5)},Us.scale.ordinal=function(){return Xa([],{t:"range",a:[[]]})},Us.scale.category10=function(){return Us.scale.ordinal().range(pu)},Us.scale.category20=function(){return Us.scale.ordinal().range(_u)},Us.scale.category20b=function(){return Us.scale.ordinal().range(fu)},Us.scale.category20c=function(){return Us.scale.ordinal().range(vu)};var pu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(gt),_u=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(gt),fu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(gt),vu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(gt);Us.scale.quantile=function(){return Qa([],[])},Us.scale.quantize=function(){return es(0,1,[0,1])},Us.scale.threshold=function(){return ts([.5],[0,1])},Us.scale.identity=function(){return ns([0,1])},Us.svg={},Us.svg.arc=function(){function e(){var e=t.apply(this,arguments),a=n.apply(this,arguments),s=o.apply(this,arguments)+bu,r=i.apply(this,arguments)+bu,l=(s>r&&(l=s,s=r,r=l),r-s),u=Sr>l?"0":"1",d=Math.cos(s),c=Math.sin(s),g=Math.cos(r),m=Math.sin(r);return l>=yu?e?"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"M0,"+e+"A"+e+","+e+" 0 1,0 0,"+-e+"A"+e+","+e+" 0 1,0 0,"+e+"Z":"M0,"+a+"A"+a+","+a+" 0 1,1 0,"+-a+"A"+a+","+a+" 0 1,1 0,"+a+"Z":e?"M"+a*d+","+a*c+"A"+a+","+a+" 0 "+u+",1 "+a*g+","+a*m+"L"+e*g+","+e*m+"A"+e+","+e+" 0 "+u+",0 "+e*d+","+e*c+"Z":"M"+a*d+","+a*c+"A"+a+","+a+" 0 "+u+",1 "+a*g+","+a*m+"L0,0Z"}var t=os,n=is,o=as,i=ss;return e.innerRadius=function(n){return arguments.length?(t=wt(n),e):t},e.outerRadius=function(t){return arguments.length?(n=wt(t),e):n},e.startAngle=function(t){return arguments.length?(o=wt(t),e):o},e.endAngle=function(t){return arguments.length?(i=wt(t),e):i},e.centroid=function(){var e=(t.apply(this,arguments)+n.apply(this,arguments))/2,a=(o.apply(this,arguments)+i.apply(this,arguments))/2+bu;return[Math.cos(a)*e,Math.sin(a)*e]},e};var bu=-Mr,yu=zr-Ar;Us.svg.line=function(){return rs(kt)};var wu=Us.map({linear:ls,"linear-closed":us,step:ds,"step-before":cs,"step-after":gs,basis:vs,"basis-open":bs,"basis-closed":ys,bundle:ws,cardinal:ps,"cardinal-open":ms,"cardinal-closed":hs,monotone:Ms});wu.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var ku=[0,2/3,1/3,0],Cu=[0,1/3,2/3,0],xu=[0,1/6,2/3,1/6];Us.svg.line.radial=function(){var e=rs(As);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},cs.reverse=gs,gs.reverse=cs,Us.svg.area=function(){return Es(kt)},Us.svg.area.radial=function(){var e=Es(As);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},Us.svg.chord=function(){function e(e,r){var l=t(this,a,e,r),u=t(this,s,e,r);return"M"+l.p0+o(l.r,l.p1,l.a1-l.a0)+(n(l,u)?i(l.r,l.p1,l.r,l.p0):i(l.r,l.p1,u.r,u.p0)+o(u.r,u.p1,u.a1-u.a0)+i(u.r,u.p1,l.r,l.p0))+"Z"}function t(e,t,n,o){var i=t.call(e,n,o),a=r.call(e,i,o),s=l.call(e,i,o)+bu,d=u.call(e,i,o)+bu;return{r:a,a0:s,a1:d,p0:[a*Math.cos(s),a*Math.sin(s)],p1:[a*Math.cos(d),a*Math.sin(d)]}}function n(e,t){return e.a0==t.a0&&e.a1==t.a1}function o(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Sr)+",1 "+t}function i(e,t,n,o){return"Q 0,0 "+o}var a=ho,s=po,r=Ts,l=as,u=ss;return e.radius=function(t){return arguments.length?(r=wt(t),e):r},e.source=function(t){return arguments.length?(a=wt(t),e):a},e.target=function(t){return arguments.length?(s=wt(t),e):s},e.startAngle=function(t){return arguments.length?(l=wt(t),e):l},e.endAngle=function(t){return arguments.length?(u=wt(t),e):u},e},Us.svg.diagonal=function(){function e(e,i){var a=t.call(this,e,i),s=n.call(this,e,i),r=(a.y+s.y)/2,l=[a,{x:a.x,y:r},{x:s.x,y:r},s];return l=l.map(o),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var t=ho,n=po,o=Rs;return e.source=function(n){return arguments.length?(t=wt(n),e):t},e.target=function(t){return arguments.length?(n=wt(t),e):n},e.projection=function(t){return arguments.length?(o=t,e):o},e},Us.svg.diagonal.radial=function(){var e=Us.svg.diagonal(),t=Rs,n=e.projection;return e.projection=function(e){return arguments.length?n(Ds(t=e)):t},e},Us.svg.symbol=function(){function e(e,o){return(Su.get(t.call(this,e,o))||Is)(n.call(this,e,o))}var t=Ns,n=js;return e.type=function(n){return arguments.length?(t=wt(n),e):t},e.size=function(t){return arguments.length?(n=wt(t),e):n},e};var Su=Us.map({circle:Is,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Eu)),n=t*Eu;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Au),n=t*Au/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Au),n=t*Au/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});Us.svg.symbolTypes=Su.keys();var zu,Mu,Au=Math.sqrt(3),Eu=Math.tan(30*Tr),Tu=[],Ru=0;Tu.call=fr.call,Tu.empty=fr.empty,Tu.node=fr.node,Tu.size=fr.size,Us.transition=function(e){return arguments.length?zu?e.transition():e:yr.transition()},Us.transition.prototype=Tu,Tu.select=function(e){var t,n,o,i=this.id,a=[];e=y(e);for(var s=-1,r=this.length;++s<r;){a.push(t=[]);for(var l=this[s],u=-1,d=l.length;++u<d;)(o=l[u])&&(n=e.call(o,o.__data__,u,s))?("__data__"in o&&(n.__data__=o.__data__),$s(n,u,i,o.__transition__[i]),t.push(n)):t.push(null)}return Ps(a,i)},Tu.selectAll=function(e){var t,n,o,i,a,s=this.id,r=[];e=w(e);for(var l=-1,u=this.length;++l<u;)for(var d=this[l],c=-1,g=d.length;++c<g;)if(o=d[c]){a=o.__transition__[s],n=e.call(o,o.__data__,c,l),r.push(t=[]);for(var m=-1,h=n.length;++m<h;)(i=n[m])&&$s(i,m,s,a),t.push(i)}return Ps(r,s)},Tu.filter=function(e){var t,n,o,i=[];"function"!=typeof e&&(e=D(e));for(var a=0,s=this.length;s>a;a++){i.push(t=[]);for(var n=this[a],r=0,l=n.length;l>r;r++)(o=n[r])&&e.call(o,o.__data__,r,a)&&t.push(o)}return Ps(i,this.id)},Tu.tween=function(e,t){var n=this.id;return arguments.length<2?this.node().__transition__[n].tween.get(e):N(this,null==t?function(t){t.__transition__[n].tween.remove(e)}:function(o){o.__transition__[n].tween.set(e,t)})},Tu.attr=function(e,t){function n(){this.removeAttribute(r)}function o(){this.removeAttributeNS(r.space,r.local)}function i(e){return null==e?n:(e+="",function(){var t,n=this.getAttribute(r);return n!==e&&(t=s(n,e),function(e){this.setAttribute(r,t(e))})})}function a(e){return null==e?o:(e+="",function(){var t,n=this.getAttributeNS(r.space,r.local);return n!==e&&(t=s(n,e),function(e){this.setAttributeNS(r.space,r.local,t(e))})})}if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var s="transform"==e?Pi:mi,r=Us.ns.qualify(e);return Os(this,"attr."+e,t,r.local?a:i)},Tu.attrTween=function(e,t){function n(e,n){var o=t.call(this,e,n,this.getAttribute(i));return o&&function(e){this.setAttribute(i,o(e))}}function o(e,n){var o=t.call(this,e,n,this.getAttributeNS(i.space,i.local));return o&&function(e){this.setAttributeNS(i.space,i.local,o(e))}}var i=Us.ns.qualify(e);return this.tween("attr."+e,i.local?o:n)},Tu.style=function(e,t,n){function o(){this.style.removeProperty(e)}function i(t){return null==t?o:(t+="",function(){var o,i=Xs.getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(o=mi(i,t),function(t){this.style.setProperty(e,o(t),n)})})}var a=arguments.length;if(3>a){if("string"!=typeof e){2>a&&(t="");for(n in e)this.style(n,e[n],t);return this}n=""}return Os(this,"style."+e,t,i)},Tu.styleTween=function(e,t,n){function o(o,i){var a=t.call(this,o,i,Xs.getComputedStyle(this,null).getPropertyValue(e));return a&&function(t){this.style.setProperty(e,a(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,o)},Tu.text=function(e){return Os(this,"text",e,Ls)},Tu.remove=function(){return this.each("end.transition",function(){var e;this.__transition__.count<2&&(e=this.parentNode)&&e.removeChild(this)})},Tu.ease=function(e){var t=this.id;return arguments.length<1?this.node().__transition__[t].ease:("function"!=typeof e&&(e=Us.ease.apply(Us,arguments)),N(this,function(n){n.__transition__[t].ease=e}))},Tu.delay=function(e){var t=this.id;return N(this,"function"==typeof e?function(n,o,i){n.__transition__[t].delay=+e.call(n,n.__data__,o,i)}:(e=+e,function(n){n.__transition__[t].delay=e}))},Tu.duration=function(e){var t=this.id;return N(this,"function"==typeof e?function(n,o,i){n.__transition__[t].duration=Math.max(1,e.call(n,n.__data__,o,i))}:(e=Math.max(1,e),function(n){n.__transition__[t].duration=e}))},Tu.each=function(e,t){var n=this.id;if(arguments.length<2){var o=Mu,i=zu;zu=n,N(this,function(t,o,i){Mu=t.__transition__[n],e.call(t,t.__data__,o,i)}),Mu=o,zu=i}else N(this,function(o){var i=o.__transition__[n];(i.event||(i.event=Us.dispatch("start","end"))).on(e,t)});return this},Tu.transition=function(){for(var e,t,n,o,i=this.id,a=++Ru,s=[],r=0,l=this.length;l>r;r++){s.push(e=[]);for(var t=this[r],u=0,d=t.length;d>u;u++)(n=t[u])&&(o=Object.create(n.__transition__[i]),o.delay+=o.duration,$s(n,u,a,o)),e.push(n)}return Ps(s,a)},Us.svg.axis=function(){function e(e){e.each(function(){var e,u=Us.select(this),d=this.__chart__||n,c=this.__chart__=n.copy(),g=null==l?c.ticks?c.ticks.apply(c,r):c.domain():l,m=null==t?c.tickFormat?c.tickFormat.apply(c,r):kt:t,h=u.selectAll(".tick").data(g,c),p=h.enter().insert("g",".domain").attr("class","tick").style("opacity",Ar),_=Us.transition(h.exit()).style("opacity",Ar).remove(),f=Us.transition(h).style("opacity",1),v=Pa(c),b=u.selectAll(".domain").data([0]),y=(b.enter().append("path").attr("class","domain"),Us.transition(b));p.append("line"),p.append("text");var w=p.select("line"),k=f.select("line"),C=h.select("text").text(m),x=p.select("text"),S=f.select("text");switch(o){case"bottom":e=Gs,w.attr("y2",i),x.attr("y",Math.max(i,0)+s),k.attr("x2",0).attr("y2",i),S.attr("x",0).attr("y",Math.max(i,0)+s),C.attr("dy",".71em").style("text-anchor","middle"),y.attr("d","M"+v[0]+","+a+"V0H"+v[1]+"V"+a);break;case"top":e=Gs,w.attr("y2",-i),x.attr("y",-(Math.max(i,0)+s)),k.attr("x2",0).attr("y2",-i),S.attr("x",0).attr("y",-(Math.max(i,0)+s)),C.attr("dy","0em").style("text-anchor","middle"),y.attr("d","M"+v[0]+","+-a+"V0H"+v[1]+"V"+-a);break;case"left":e=qs,w.attr("x2",-i),x.attr("x",-(Math.max(i,0)+s)),k.attr("x2",-i).attr("y2",0),S.attr("x",-(Math.max(i,0)+s)).attr("y",0),C.attr("dy",".32em").style("text-anchor","end"),y.attr("d","M"+-a+","+v[0]+"H0V"+v[1]+"H"+-a);break;case"right":e=qs,w.attr("x2",i),x.attr("x",Math.max(i,0)+s),k.attr("x2",i).attr("y2",0),S.attr("x",Math.max(i,0)+s).attr("y",0),C.attr("dy",".32em").style("text-anchor","start"),y.attr("d","M"+a+","+v[0]+"H0V"+v[1]+"H"+a)}if(c.rangeBand){var z=c,M=z.rangeBand()/2;d=c=function(e){return z(e)+M}}else d.rangeBand?d=c:_.call(e,c);p.call(e,d),f.call(e,c)})}var t,n=Us.scale.linear(),o=Du,i=6,a=6,s=3,r=[10],l=null;return e.scale=function(t){return arguments.length?(n=t,e):n},e.orient=function(t){return arguments.length?(o=t in ju?t+"":Du,e):o},e.ticks=function(){return arguments.length?(r=arguments,e):r},e.tickValues=function(t){return arguments.length?(l=t,e):l},e.tickFormat=function(n){return arguments.length?(t=n,e):t},e.tickSize=function(t){var n=arguments.length;return n?(i=+t,a=+arguments[n-1],e):i},e.innerTickSize=function(t){return arguments.length?(i=+t,e):i},e.outerTickSize=function(t){return arguments.length?(a=+t,e):a},e.tickPadding=function(t){return arguments.length?(s=+t,e):s},e.tickSubdivide=function(){return arguments.length&&e},e};var Du="bottom",ju={top:1,right:1,bottom:1,left:1};Us.svg.brush=function(){function e(a){a.each(function(){var a=Us.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),s=a.selectAll(".background").data([0]);s.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),a.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=a.selectAll(".resize").data(h,kt);r.exit().remove(),r.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Nu[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",e.empty()?"none":null);var d,c=Us.transition(a),g=Us.transition(s);l&&(d=Pa(l),g.attr("x",d[0]).attr("width",d[1]-d[0]),n(c)),u&&(d=Pa(u),g.attr("y",d[0]).attr("height",d[1]-d[0]),o(c)),t(c)})}function t(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+d[+/e$/.test(e)]+","+c[+/^s/.test(e)]+")"})}function n(e){e.select(".extent").attr("x",d[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",d[1]-d[0])}function o(e){e.select(".extent").attr("y",c[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",c[1]-c[0])}function i(){function i(){32==Us.event.keyCode&&(A||(b=null,T[0]-=d[1],T[1]-=c[1],A=2),_())}function h(){32==Us.event.keyCode&&2==A&&(T[0]+=d[1],T[1]+=c[1],A=0,_())}function p(){var e=Us.mouse(w),i=!1;y&&(e[0]+=y[0],e[1]+=y[1]),A||(Us.event.altKey?(b||(b=[(d[0]+d[1])/2,(c[0]+c[1])/2]),T[0]=d[+(e[0]<b[0])],T[1]=c[+(e[1]<b[1])]):b=null),z&&f(e,l,0)&&(n(x),i=!0),M&&f(e,u,1)&&(o(x),i=!0),i&&(t(x),C({type:"brush",mode:A?"move":"resize"}))}function f(e,t,n){var o,i,r=Pa(t),l=r[0],u=r[1],h=T[n],p=n?c:d,_=p[1]-p[0];return A&&(l-=h,u-=_+h),o=(n?m:g)?Math.max(l,Math.min(u,e[n])):e[n],A?i=(o+=h)+_:(b&&(h=Math.max(l,Math.min(u,2*b[n]-o))),o>h?(i=o,o=h):i=h),p[0]!=o||p[1]!=i?(n?s=null:a=null,p[0]=o,p[1]=i,!0):void 0}function v(){p(),x.style("pointer-events","all").selectAll(".resize").style("display",e.empty()?"none":null),Us.select("body").style("cursor",null),R.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),E(),C({type:"brushend"})}var b,y,w=this,k=Us.select(Us.event.target),C=r.of(w,arguments),x=Us.select(w),S=k.datum(),z=!/^(n|s)$/.test(S)&&l,M=!/^(e|w)$/.test(S)&&u,A=k.classed("extent"),E=q(),T=Us.mouse(w),R=Us.select(Xs).on("keydown.brush",i).on("keyup.brush",h);if(Us.event.changedTouches?R.on("touchmove.brush",p).on("touchend.brush",v):R.on("mousemove.brush",p).on("mouseup.brush",v),x.interrupt().selectAll("*").interrupt(),A)T[0]=d[0]-T[0],T[1]=c[0]-T[1];else if(S){var D=+/w$/.test(S),j=+/^n/.test(S);y=[d[1-D]-T[0],c[1-j]-T[1]],T[0]=d[D],T[1]=c[j]}else Us.event.altKey&&(b=T.slice());x.style("pointer-events","none").selectAll(".resize").style("display",null),Us.select("body").style("cursor",k.style("cursor")),C({type:"brushstart"}),p()}var a,s,r=v(e,"brushstart","brush","brushend"),l=null,u=null,d=[0,0],c=[0,0],g=!0,m=!0,h=Iu[0];return e.event=function(e){e.each(function(){var e=r.of(this,arguments),t={x:d,y:c,i:a,j:s},n=this.__chart__||t;this.__chart__=t,zu?Us.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,d=n.x,c=n.y,e({type:"brushstart"})}).tween("brush:brush",function(){var n=hi(d,t.x),o=hi(c,t.y);return a=s=null,function(i){d=t.x=n(i),c=t.y=o(i),e({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=t.i,s=t.j,e({type:"brush",mode:"resize"}),e({type:"brushend"})}):(e({type:"brushstart"}),e({type:"brush",mode:"resize"}),e({type:"brushend"}))})},e.x=function(t){return arguments.length?(l=t,h=Iu[!l<<1|!u],e):l},e.y=function(t){return arguments.length?(u=t,h=Iu[!l<<1|!u],e):u},e.clamp=function(t){return arguments.length?(l&&u?(g=!!t[0],m=!!t[1]):l?g=!!t:u&&(m=!!t),e):l&&u?[g,m]:l?g:u?m:null},e.extent=function(t){var n,o,i,r,g;return arguments.length?(l&&(n=t[0],o=t[1],u&&(n=n[0],o=o[0]),a=[n,o],l.invert&&(n=l(n),o=l(o)),n>o&&(g=n,n=o,o=g),(n!=d[0]||o!=d[1])&&(d=[n,o])),u&&(i=t[0],r=t[1],l&&(i=i[1],r=r[1]),s=[i,r],u.invert&&(i=u(i),r=u(r)),i>r&&(g=i,i=r,r=g),(i!=c[0]||r!=c[1])&&(c=[i,r])),e):(l&&(a?(n=a[0],o=a[1]):(n=d[0],o=d[1],l.invert&&(n=l.invert(n),o=l.invert(o)),n>o&&(g=n,n=o,o=g))),u&&(s?(i=s[0],r=s[1]):(i=c[0],r=c[1],u.invert&&(i=u.invert(i),r=u.invert(r)),i>r&&(g=i,i=r,r=g))),l&&u?[[n,i],[o,r]]:l?[n,o]:u&&[i,r])},e.clear=function(){return e.empty()||(d=[0,0],c=[0,0],a=s=null),e},e.empty=function(){return!!l&&d[0]==d[1]||!!u&&c[0]==c[1]},Us.rebind(e,r,"on")};var Nu={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Iu=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Pu=nl.format=ll.timeFormat,Ou=Pu.utc,Lu=Ou("%Y-%m-%dT%H:%M:%S.%LZ");Pu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Fs:Lu,Fs.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Fs.toString=Lu.toString,nl.second=Nt(function(e){return new ol(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),nl.seconds=nl.second.range,nl.seconds.utc=nl.second.utc.range,nl.minute=Nt(function(e){return new ol(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),nl.minutes=nl.minute.range,nl.minutes.utc=nl.minute.utc.range,nl.hour=Nt(function(e){var t=e.getTimezoneOffset()/60;return new ol(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),nl.hours=nl.hour.range,nl.hours.utc=nl.hour.utc.range,nl.month=Nt(function(e){return e=nl.day(e),e.setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),nl.months=nl.month.range,nl.months.utc=nl.month.utc.range;var $u=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Gu=[[nl.second,1],[nl.second,5],[nl.second,15],[nl.second,30],[nl.minute,1],[nl.minute,5],[nl.minute,15],[nl.minute,30],[nl.hour,1],[nl.hour,3],[nl.hour,6],[nl.hour,12],[nl.day,1],[nl.day,2],[nl.week,1],[nl.month,1],[nl.month,3],[nl.year,1]],qu=Pu.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Cn]]),Fu={range:function(e,t,n){return Us.range(+e,+t,n).map(Hs)},floor:kt,ceil:kt};Gu.year=nl.year,nl.scale=function(){return Vs(Us.scale.linear(),Gu,qu)};var Vu=Gu.map(function(e){return[e[0].utc,e[1]]}),Hu=Ou.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Cn]]);Vu.year=nl.year.utc,nl.scale.utc=function(){return Vs(Us.scale.linear(),Vu,Hu)},Us.text=Ct(function(e){return e.responseText}),Us.json=function(e,t){return xt(e,"application/json",Ws,t)},Us.html=function(e,t){return xt(e,"text/html",Bs,t)},Us.xml=Ct(function(e){return e.responseXML}),"function"==typeof define&&define.amd?define("vendor/d3.v3",Us):"object"==typeof module&&module.exports?module.exports=Us:this.d3=Us}(),define("translations/gradebook2.outcome_popover",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{gradebook2:{outcome_popover:{mastery_set_at:"الإتقان عند",no_results:"(بلا نتائج)",view_more_details:"عرض مزيد من التفاصيل"}}},de:{gradebook2:{outcome_popover:{mastery_set_at:"Leistungsziel festgelegt auf",no_results:"(keine Ergebnisse)",view_more_details:"Weitere Details anzeigen"}}},"en-AU":{gradebook2:{outcome_popover:{mastery_set_at:"Mastery set at",no_results:"(no results)",view_more_details:"view more details"}}},"en-GB":{gradebook2:{outcome_popover:{mastery_set_at:"Mastery set at",no_results:"(no results)",view_more_details:"view more details"}}},es:{gradebook2:{outcome_popover:{mastery_set_at:"Dominio establecido en",no_results:"(sin resultados)",view_more_details:"ver más detalles"}}},"fa-IR":{gradebook2:{outcome_popover:{mastery_set_at:"تسلط تعیین شده در",no_results:"(نتیجه موجود نیست)",view_more_details:"مشاهده اطلاعات بیشتر"}}},fr:{gradebook2:{outcome_popover:{mastery_set_at:"Niveau de maîtrise",no_results:"(pas de résultats)",view_more_details:"voir plus de détails"}}},ja:{gradebook2:{outcome_popover:{mastery_set_at:"達成の設定:",no_results:"(結果なし)",view_more_details:"詳細を表示"}}},ko:{},nb:{gradebook2:{outcome_popover:{mastery_set_at:"Mestring satt ved",no_results:"(ingen resultater)",view_more_details:"vis flere detaljer"}}},nl:{gradebook2:{outcome_popover:{mastery_set_at:"Bekwaam vastgesteld op",no_results:"(geen resultaten)",view_more_details:"meer details bekijken"}}},pl:{gradebook2:{outcome_popover:{mastery_set_at:"Biegłość ustawiono na",no_results:"(brak wyników)",view_more_details:"pokaż więcej informacji szczegółowych"}}},pt:{gradebook2:{outcome_popover:{mastery_set_at:"Domínio definido em",no_results:"(nenhum resultado)",view_more_details:"ver mais detalhes"}}},"pt-BR":{gradebook2:{outcome_popover:{mastery_set_at:"Domínio definido em",no_results:"(sem resultados)",view_more_details:"ver mais detalhes"}}},ru:{gradebook2:{outcome_popover:{mastery_set_at:"Усвоение установлено на",no_results:"(без результата)",view_more_details:"просмотреть дополнительные сведения"}}},tr:{gradebook2:{outcome_popover:{mastery_set_at:"Yeterlik düzeyi şuna ayarlı",no_results:"(sonuç yok)",view_more_details:"daha fazla ayrıntı göster"}}},zh:{gradebook2:{outcome_popover:{mastery_set_at:"掌握程度设置为",no_results:"(无结果)",view_more_details:"查看更多详细信息"}}}}})}),define("jst/gradebook2/outcome_popover",["compiled/handlebars_helpers","i18n!gradebook2.outcome_popover"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/outcome_popover"]=t(function(e,t,n,o,i){function a(e,t){var o,i="";return i+='\n      <div class="chart-image"></div>\n      <ol class="ratings">\n      ',o=n.each.call(e,e&&e.ratings,{hash:{},inverse:h.noop,fn:h.program(2,s,t),data:t}),(o||0===o)&&(i+=o),i+="\n      </ol>\n    "}function s(e,t){var o,i,a="";return a+='\n        <li class="rating"><span class="legend-color" style="background-color: ',(i=n.color)?o=i.call(e,{hash:{},data:t}):(i=e&&e.color,o=typeof i===g?i.call(e,{hash:{},data:t}):i),a+=m(o)+'" /> ',(i=n.description)?o=i.call(e,{hash:{},data:t}):(i=e&&e.description,o=typeof i===g?i.call(e,{hash:{},data:t}):i),a+=m(o)+"</li>\n      "}function r(e,t){var o,i,a,s="";return s+='\n      <p><img src="/images/pie-chart-disabled.png" /></p>\n      <p>',i=n.t||e&&e.t,a={hash:{scope:"gradebook2.outcome_popover"},data:t},o=i?i.call(e,"no_results","(no results)",a):p.call(e,"t","no_results","(no results)",a),(o||0===o)&&(s+=o),s+="</p>\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var l,u,d,c="",g="function",m=this.escapeExpression,h=this,p=n.helperMissing;return c+='<div class="outcome-details carat-bottom">\n  <div class="title">',(u=n.path)?l=u.call(t,{hash:{},data:i}):(u=t&&t.path,l=typeof u===g?u.call(t,{hash:{},data:i}):u),c+=m(l)+'</div>\n  <div class="chart">\n    ',l=n["if"].call(t,(l=t&&t.ratings,null==l||l===!1?l:l.result_count),{hash:{},inverse:h.program(4,r,i),fn:h.program(1,a,i),data:i}),(l||0===l)&&(c+=l),c+='\n  </div>\n  <div class="mastery">',u=n.t||t&&t.t,d={hash:{scope:"gradebook2.outcome_popover"},data:i},l=u?u.call(t,"mastery_set_at","Mastery set at",d):p.call(t,"t","mastery_set_at","Mastery set at",d),(l||0===l)&&(c+=l),c+=": ",(u=n.mastery_points)?l=u.call(t,{hash:{},data:i}):(u=t&&t.mastery_points,l=typeof u===g?u.call(t,{hash:{},data:i}):u),c+=m(l)+'</div>\n  <div class="description">',(u=n.description)?l=u.call(t,{hash:{},data:i}):(u=t&&t.description,l=typeof u===g?u.call(t,{hash:{},data:i}):u),(l||0===l)&&(c+=l),c+='</div>\n  <div class="view-more"><a href="',(u=n.url)?l=u.call(t,{hash:{},data:i}):(u=t&&t.url,l=typeof u===g?u.call(t,{hash:{},data:i}):u),c+=m(l)+'">',u=n.t||t&&t.t,d={hash:{scope:"gradebook2.outcome_popover"},data:i},l=u?u.call(t,"view_more_details","view more details",d):p.call(t,"t","view_more_details","view more details",d),(l||0===l)&&(c+=l),c+="</a></div>\n</div>\n"}),n["gradebook2/outcome_popover"]}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("compiled/views/gradebook/OutcomeColumnView",["i18n!gradebook2","underscore","Backbone","compiled/util/Popover","vendor/d3.v3","jst/gradebook2/outcome_popover"],function(t,o,i,a,s,r){var l,u,d;
return u=i.View,l=function(t){function i(){return this.mouseleave=e(this.mouseleave,this),this.mouseenter=e(this.mouseenter,this),d=i.__super__.constructor.apply(this,arguments)}return n(i,t),i.prototype.popover_template=r,i.optionProperty("totalsFn"),i.prototype.inside=!1,i.prototype.TIMEOUT_LENGTH=50,i.prototype.events={mouseenter:"mouseenter",mouseleave:"mouseleave"},i.prototype.createPopover=function(e){var t;return this.totalsFn(),this.pickColors(),t=new a(e,this.popover_template(this.attributes),{verticalSide:"bottom"}),t.el.on("mouseenter",this.mouseenter),t.el.on("mouseleave",this.mouseleave),this.renderChart(),t.show(e),t},i.prototype.mouseenter=function(e){return this.popover||(this.popover=this.createPopover(e)),this.inside=!0},i.prototype.mouseleave=function(){var e=this;return this.inside=!1,setTimeout(function(){return!e.inside&&e.popover?(e.popover.hide(),delete e.popover):void 0},this.TIMEOUT_LENGTH)},i.prototype.pickColors=function(){var e,t,n,i,a;return t=this.attributes.ratings,n=t.length-1,i=this.attributes.mastery_points,a=t.indexOf(o.find(t,function(e){return e.points===i})),e=s.scale.linear().domain([0,a,(a+n)/2,n]).range(["#416929","#8bab58","#e0d670","#dd5c5c"]),o.each(t,function(t,n){return t.color=e(n)})},i.prototype.renderChart=function(){return this.data=o.filter(this.attributes.ratings,function(e){return e.percent}),this.r=50,this.arc=s.svg.arc().outerRadius(this.r),this.arcs=this.renderArcs(),this.renderArcFills(),this.renderLabels(),this.renderLabelLines()},i.prototype.renderArcs=function(){var e,t,n,o,i;return i=160,t=150,o=s.select(".outcome-details .chart-image").append("svg:svg").data([this.data]).attr("width",i).attr("height",t).append("svg:g").attr("transform","translate("+i/2+", "+t/2+")"),n=s.layout.pie().value(function(e){return e.percent}),e=o.selectAll("g.slice").data(n).enter().append("svg:g").attr("class","slice")},i.prototype.renderArcFills=function(){var e,t,n,o,i=this;return t=10,n=s.interpolate(t,this.r),e=this.arc,o=function(t){return function(o){return e.outerRadius(n(o))(t)}},this.arc.outerRadius(t),this.arcs.append("svg:path").attr("fill",function(e,t){return i.data[t].color}).attr("d",this.arc).transition().duration(400).attrTween("d",o),this.arc.outerRadius(this.r)},i.prototype.renderLabels=function(){var e=this;return this.arcs.append("svg:text").attr("fill","#4F5F6E").attr("transform",function(t){var n;return n=e.getCentroid(t),n=o.map(n,function(e){return 2.3*e}),"translate("+n+")"}).attr("text-anchor",function(t){var n,o,i;return i=e.getAngleInfo(t),n=i.angle,o=i.distanceToPi,o<Math.PI/6?"middle":n>Math.PI?"end":"start"}).attr("dominant-baseline",function(t){var n,o,i,a;return a=e.getAngleInfo(t,i=!0),n=a.angle,o=a.distanceToPi,o<Math.PI/6?"middle":n>Math.PI?"hanging":"auto"}).text(function(t,n){return e.data[n].percent+"%"})},i.prototype.getAngleInfo=function(e,t){var n,o;return n=(e.endAngle+e.startAngle)/2,t&&(n=(n+Math.PI/2)%(2*Math.PI)),o=Math.abs((n+Math.PI/2)%Math.PI-Math.PI/2),{angle:n,distanceToPi:o}},i.prototype.renderLabelLines=function(){var e=this;return this.arcs.append("svg:path").attr("stroke","#000").attr("d",function(t){var n,i,a;return n=e.getCentroid(t),i=o.map(n,function(e){return 1.4*e}),a=o.map(n,function(e){return 2.2*e}),"M"+i[0]+" "+i[1]+" L"+a[0]+" "+a[1]})},i.prototype.getCentroid=function(e){return e.innerRadius=0,e.outerRadius=this.r,this.arc.centroid(e)},i}(u)})}.call(this),define("jst/gradebook2/outcome_gradebook_cell",["compiled/handlebars_helpers"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/outcome_gradebook_cell"]=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s,r="",l="function",u=this.escapeExpression;return r+='<div class="outcome-cell-wrapper">\n  <span class="outcome-score">',(s=n.score)?a=s.call(t,{hash:{},data:i}):(s=t&&t.score,a=typeof s===l?s.call(t,{hash:{},data:i}):s),r+=u(a)+"</span> /",(s=n.masteryScore)?a=s.call(t,{hash:{},data:i}):(s=t&&t.masteryScore,a=typeof s===l?s.call(t,{hash:{},data:i}):s),r+=u(a)+'\n  <span class="outcome-result ',(s=n.className)?a=s.call(t,{hash:{},data:i}):(s=t&&t.className,a=typeof s===l?s.call(t,{hash:{},data:i}):s),r+=u(a)+'"></span>\n</div>\n'}),n["gradebook2/outcome_gradebook_cell"]}),define("jst/gradebook2/outcome_gradebook_student_cell",["compiled/handlebars_helpers","jst/_avatar"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/outcome_gradebook_student_cell"]=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),o=this.merge(o,e.partials),i=i||{};var a,s,r="",l=this,u="function",d=this.escapeExpression;return r+='<div class="outcome-student-cell-content">\n  ',a=l.invokePartial(o.avatar,"avatar",t,n,o,i),(a||0===a)&&(r+=a),r+='\n  <a class="student-grades-list" href="',(s=n.grades_html_url)?a=s.call(t,{hash:{},data:i}):(s=t&&t.grades_html_url,a=typeof s===u?s.call(t,{hash:{},data:i}):s),r+=d(a)+'">',(s=n.display_name)?a=s.call(t,{hash:{},data:i}):(s=t&&t.display_name,a=typeof s===u?s.call(t,{hash:{},data:i}):s),r+=d(a)+'</a>\n  <div class="student-section">'+d((a=t&&t.section,a=null==a||a===!1?a:a.name,typeof a===u?a.apply(t):a))+"</div>\n</div>\n"}),n["gradebook2/outcome_gradebook_student_cell"]}),function(){define("compiled/gradebook2/OutcomeGradebookGrid",["i18n!gradebook2","jquery","underscore","compiled/views/gradebook/HeaderFilterView","compiled/views/gradebook/OutcomeColumnView","compiled/util/NumberCompare","jst/gradebook2/outcome_gradebook_cell","jst/gradebook2/outcome_gradebook_student_cell"],function(e,t,n,o,i,a,s,r){var l;return l={filter:["mastery","near-mastery","remedial"],averageFn:"mean",dataSource:{},outcomes:[],options:{headerRowHeight:42,rowHeight:38,syncColumnCellResize:!0,showHeaderRow:!0,explicitInitialization:!0,fullWidthRows:!0,numberOfColumnsToFreeze:1},Events:{headerRowCellRendered:function(e,t){return l.View.headerRowCell(t)},headerCellRendered:function(e,t){return l.View.headerCell(t)},init:function(){var e,o;return o=t(".outcome-gradebook-wrapper .slick-header"),e=t(".outcome-gradebook-wrapper .slick-headerrow"),n.each(n.zip(o,e),function(e){var n,o;return n=e[0],o=e[1],t(o).insertBefore(t(n))})},sectionChangeFunction:function(e){return function(t){var n;return n=l.Util.toRows(l.dataSource.rollups,{section:t}),e.setData(n,!1),l.View.redrawHeader(e),e.invalidate()}},sort:function(e,t){var n,o,i,a,s;return n=t.grid,i=t.sortAsc,a=t.sortCol,s="student"===a.field?"_sortStudents":"_sortResults",o=n.getData().sort(function(e,t){return l.Events[s].call(null,e,t,i,a.field)}),n.setData(o),n.invalidate()},_sortStudents:function(e,t,n){var o,i,a,s;return"".localeCompare?(a=e.student.sortable_name,s=t.student.sortable_name,i=n?1:-1,a.localeCompare(s,window.I18n.locale||"en",{sensitivity:"accent",ignorePunctuation:!0,numeric:!0})*i):(a=e.student.sortable_name.toLowerCase(),s=t.student.sortable_name.toLowerCase(),o=n?1:-1,s>a?-1*o:a>s?1*o:0)},_sortResults:function(e,t,n,o){var i,s,r;return i=e[o],s=t[o],r=a(i,s,{descending:!n}),0===r?l.Events._sortStudents(e,t,n):r}},Util:{COLUMN_OPTIONS:{width:121,minWidth:50,sortable:!0},toGrid:function(e,t){return null==t&&(t={column:{},row:{}}),l.dataSource=e,[l.Util.toColumns(e.linked.outcomes,t.column),l.Util.toRows(e.rollups,t.row)]},toColumns:function(e,t){var o;return null==t&&(t={}),t=n.extend({},l.Util.COLUMN_OPTIONS,t),o=n.map(e,function(e){return n.extend({id:"outcome_"+e.id},{name:e.title,field:"outcome_"+e.id,cssClass:"outcome-result-cell",outcome:e},t)}),[l.Util._studentColumn()].concat(o)},_studentColumn:function(){var t;return t={width:228},n.extend({id:"student",name:e.t("learning_outcome","Learning Outcome"),field:"student",cssClass:"outcome-student-cell",headerCssClass:"outcome-student-header-cell",formatter:l.View.studentCell},n.extend(l.Util.COLUMN_OPTIONS,t))},toRows:function(e,t){var o;return null==t&&(t={}),o=n.reject(n.map(e,l.Util._toRowFn(t.section)),function(e){return null===e}),o.sort(function(e,t){return l.Events._sortStudents(e,t,!0)})},_toRowFn:function(e){return function(t){return l.Util._toRow(t,e)}},_toRow:function(e,t){var o,i;return l.Util.sectionFilter(t,e)?(i=l.Util.lookupStudent(e.links.user),t=l.Util.lookupSection(e.links.section),o={student:n.extend({grades_html_url:"/courses/"+t.course_id+"/grades/"+i.id+"#tab-outcomes",section:n.keys(l.sections).length>1?t:null},i),section:e.links.section},n.each(e.scores,function(e){return o["outcome_"+e.links.outcome]=e.score}),o):null},sectionFilter:function(e,t){return e?n.isEqual(e.toString(),t.links.section.toString()):!0},saveOutcomes:function(e){var t,o,i,a;return a=ENV.context_asset_string.split("_"),o=a[0],t=a[1],i="/"+o+"s/"+t+"/outcomes",l.outcomes=n.reduce(e,function(e,t){return t.url=i,e["outcome_"+t.id]=t,e},{})},saveOutcomePaths:function(e){return e.forEach(function(e){var t;return t=n.pluck(e.parts,"name").join(" > "),l.outcomes["outcome_"+e.id].path=t})},lookupOutcome:function(e){return l.outcomes[e]},saveStudents:function(e){return l.students=n.reduce(e,function(e,t){return e[t.id]=t,e},{})},lookupStudent:function(e){return l.students[e]},saveSections:function(e){return l.sections=n.reduce(e,function(e,t){return e[t.id]=t,e},{})},lookupSection:function(e){return l.sections[e]}},Math:{mean:function(e,t){var o;return null==t&&(t=!1),o=n.reduce(e,function(e,t){return e+t},0),t?Math.round(o/e.length):parseFloat((o/e.length).toString().slice(0,4))},median:function(e){var t,o;return o=n.sortBy(e,n.identity),e.length%2===0?(t=e.length/2,l.Math.mean(o.slice(t-1,t+1))):o[Math.floor(e.length/2)]},mode:function(e){var t,o,i;return t=n.chain(e).countBy(n.identity).reduce(function(e,t,n){return e.push([t,parseInt(n)]),e},[]).sortBy(n.first).reverse().value(),o=t[0][0],i=n.reject(t,function(e){return e[0]<o}),i=l.Math.mean(n.map(i,n.last),!0)},max:function(e){return Math.max.apply(Math,e)},min:function(e){return Math.min.apply(Math,e)},cnt:function(e){return e.length}},View:{cell:function(e,t,n,o){return l.View.cellHtml(n,o,!0)},cellHtml:function(e,t,o){var i,a;return a=l.Util.lookupOutcome(t.field),a&&n.isNumber(e)?(i=l.View.masteryClassName(e,a),o&&!n.include(l.filter,i)?"":s({score:Math.round(100*e)/100,className:i,masteryScore:a.mastery_points})):void 0},studentCell:function(e,t,n){return r(n)},masteryClassName:function(e,t){var n,o;return n=t.mastery_points,o=n/2,e>=n?"mastery":e>=o?"near-mastery":"remedial"},getColumnResults:function(e,t){return n.chain(e).pluck(t.field).filter(n.isNumber).value()},headerRowCell:function(e,n){var o,i,a,s,r;return a=e.node,o=e.column,i=e.grid,null==n&&(n=l.averageFn),"student"===o.field?l.View.studentHeaderRowCell(a,o,i):(s=l.View.getColumnResults(i.getData(),o),s.length?(r=l.Math[n].call(this,s),t(a).empty().append(l.View.cellHtml(r,o,!1))):t(a).empty())},redrawHeader:function(e,t){var o;return null==t&&(t=l.averageFn),l.averageFn=t,o=e.getColumns(),n.each(o,function(n){var o;return o=e.getHeaderRowColumn(n.id),l.View.headerRowCell({node:o,column:n,grid:e},t)})},studentHeaderRowCell:function(e,n,i){var a;return t(e).addClass("average-filter"),a=new o({grid:i,redrawFn:l.View.redrawHeader}),a.render(),t(e).append(a.$el)},headerCell:function(e,t){var o,a,s,r,u;return s=e.node,o=e.column,a=e.grid,null==t&&(t=l.averageFn),"student"!==o.field?(r=n.partial(l.View.calculateRatingsTotals,a,o),u=new i({el:s,attributes:o.outcome,totalsFn:r}),u.render()):void 0},calculateRatingsTotals:function(e,t){var o,i,a,s;return s=l.View.getColumnResults(e.getData(),t),a=t.outcome.ratings,a.result_count=s.length,i=n.pluck(a,"points"),o=n.countBy(s,function(e){return n.find(i,function(t){return e>=t})}),n.each(a,function(e){return e.percent=Math.round((o[e.points]||0)/s.length*100)})}}}})}.call(this),define("jst/gradebook2/checkbox_view",["compiled/handlebars_helpers"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/checkbox_view"]=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s,r="",l="function",u=this.escapeExpression;return r+='<span class="checkbox"\n      role="checkbox"\n      aria-checked="',(s=n.checked)?a=s.call(t,{hash:{},data:i}):(s=t&&t.checked,a=typeof s===l?s.call(t,{hash:{},data:i}):s),r+=u(a)+'"\n      style="background: ',(s=n.color)?a=s.call(t,{hash:{},data:i}):(s=t&&t.color,a=typeof s===l?s.call(t,{hash:{},data:i}):s),r+=u(a)+';"></span>\n<span class="checkbox-label">',(s=n.label)?a=s.call(t,{hash:{},data:i}):(s=t&&t.label,a=typeof s===l?s.call(t,{hash:{},data:i}):s),r+=u(a)+"</span>\n"}),n["gradebook2/checkbox_view"]}),function(){var e={}.hasOwnProperty,t=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};define("compiled/views/gradebook/CheckboxView",["Backbone","jst/gradebook2/checkbox_view"],function(e,n){var o,i,a;return i=e.View,o=function(e){function o(){return a=o.__super__.constructor.apply(this,arguments)}return t(o,e),o.prototype.tagName="label",o.prototype.className="checkbox-view",o.optionProperty("color"),o.optionProperty("label"),o.prototype.checked=!0,o.prototype.template=n,o.prototype.events={click:"onClick"},o.prototype.onClick=function(e){return e.preventDefault(),this.toggleState()},o.prototype.toggleState=function(){return this.checked=!this.checked,this.trigger("togglestate",this.checked),this.render()},o.prototype.toJSON=function(){var e;return e={checked:this.checked.toString(),color:this.checked?this.options.color:"none",label:this.options.label}},o}(i)})}.call(this),define("translations/gradebook2.outcome_gradebook",["i18nObj","jquery"],function(e,t){t.extend(!0,e,{translations:{ar:{gradebook2:{outcome_gradebook:{export_report:"تصدير التقرير",toggle_sidebar:"تبديل الشريط الجانبي"}}},de:{gradebook2:{outcome_gradebook:{export_report:"Bericht exportieren",toggle_sidebar:"Seitenleiste ein/aus"}}},"en-AU":{gradebook2:{outcome_gradebook:{export_report:"export report",toggle_sidebar:"Toggle Sidebar"}}},"en-GB":{gradebook2:{outcome_gradebook:{export_report:"export report",toggle_sidebar:"Toggle Sidebar"}}},es:{gradebook2:{outcome_gradebook:{export_report:"exportar informe",toggle_sidebar:"Mostrar/ocultar barra lateral"}}},"fa-IR":{gradebook2:{outcome_gradebook:{export_report:"گزارش صدور",toggle_sidebar:"تغییر نوار کناری"}}},fr:{gradebook2:{outcome_gradebook:{export_report:"Exporter le rapport",toggle_sidebar:"Afficher/Masquer la barre latérale"}}},ja:{gradebook2:{outcome_gradebook:{export_report:"レポートのエクスポート",toggle_sidebar:"サイドバーの切り替え"}}},ko:{},nb:{gradebook2:{outcome_gradebook:{export_report:"eksporter rapport",toggle_sidebar:"Vis/skjul sidestolpe"}}},nl:{gradebook2:{outcome_gradebook:{export_report:"rapport exporteren",toggle_sidebar:"Zijbalk in-/uitschakelen"}}},pl:{gradebook2:{outcome_gradebook:{export_report:"eksportuj raport",toggle_sidebar:"Przełącz pasek boczny"}}},pt:{gradebook2:{outcome_gradebook:{export_report:"exportar relatório",toggle_sidebar:"Alternar barra lateral"}}},"pt-BR":{gradebook2:{outcome_gradebook:{export_report:"exportar relatório",toggle_sidebar:"Ligar barra lateral"}}},ru:{gradebook2:{outcome_gradebook:{export_report:"экспортировать отчет",toggle_sidebar:"Переключить боковую панель"}}},tr:{gradebook2:{outcome_gradebook:{export_report:"raporu dışa aktar",toggle_sidebar:"Kenar Çubuğa Geçiş"}}},zh:{gradebook2:{outcome_gradebook:{export_report:"导出报告",toggle_sidebar:"切换侧栏"}}}}})}),define("jst/gradebook2/outcome_gradebook",["compiled/handlebars_helpers","i18n!gradebook2.outcome_gradebook"],function(e){var t=e.template,n=e.templates=e.templates||{};return n["gradebook2/outcome_gradebook"]=t(function(e,t,n,o,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,s,r,l="",u=n.helperMissing,d=this.escapeExpression;return l+='<div class="outcome-gradebook-sidebar">\n  <div class="outcome-gradebook-sidebar-header">\n    <a href="#" class="icon-arrow-open-right sidebar-toggle">\n      <span class="screenreader-only">',s=n.t||t&&t.t,r={hash:{scope:"gradebook2.outcome_gradebook"},data:i},a=s?s.call(t,"toggle_sidebar","Toggle Sidebar",r):u.call(t,"t","toggle_sidebar","Toggle Sidebar",r),(a||0===a)&&(l+=a),l+='</span>\n    </a>\n  </div>\n\n  <div class="outcome-gradebook-sidebar-content">\n    <ul class="checkboxes unstyled">\n      <li>'+d((s=n.view||t&&t.view,r={hash:{},data:i},s?s.call(t,t&&t.mastery,r):u.call(t,"view",t&&t.mastery,r)))+"</li>\n      <li>"+d((s=n.view||t&&t.view,r={hash:{},data:i},s?s.call(t,t&&t["near-mastery"],r):u.call(t,"view",t&&t["near-mastery"],r)))+"</li>\n      <li>"+d((s=n.view||t&&t.view,r={hash:{},data:i},s?s.call(t,t&&t.remedial,r):u.call(t,"view",t&&t.remedial,r)))+'</li>\n    </ul>\n    <ul class="operations unstyled">\n      <li><a href="#" class="export-content icon-export-content"><span class="operation-label">',s=n.t||t&&t.t,r={hash:{scope:"gradebook2.outcome_gradebook"},data:i},a=s?s.call(t,"export_report","export report",r):u.call(t,"t","export_report","export report",r),(a||0===a)&&(l+=a),l+='</span></a></li>\n    </ul>\n  </div>\n</div>\n\n<div class="outcome-gradebook-wrapper"></div>\n'}),n["gradebook2/outcome_gradebook"]}),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};define("compiled/views/gradebook/OutcomeGradebookView",["i18n!gradebook2","jquery","underscore","Backbone","vendor/slickgrid","compiled/gradebook2/OutcomeGradebookGrid","compiled/views/gradebook/CheckboxView","compiled/views/gradebook/SectionMenuView","jst/gradebook2/outcome_gradebook","vendor/jquery.ba-tinypubsub","jquery.instructure_misc_plugins"],function(t,o,i,a,s,r,l,u,d){var c,g,m;return m=a.View,c={mastery:{color:"#8bab58",label:t.t("mastery","mastery")},nearMastery:{color:"#e0d679",label:t.t("near_mastery","near mastery")},remedial:{color:"#dd5c5c",label:t.t("remedial","remedial")}},g=function(t){function a(t){this.updateExportLink=e(this.updateExportLink,this),this._drawSectionMenu=e(this._drawSectionMenu,this),this._loadOutcomes=e(this._loadOutcomes,this),this.renderGrid=e(this.renderGrid,this),a.__super__.constructor.apply(this,arguments),this._validateOptions(t)}return n(a,t),a.prototype.tagName="div",a.prototype.className="outcome-gradebook-container",a.prototype.template=d,a.optionProperty("gradebook"),a.prototype.hasOutcomes=o.Deferred(),a.prototype.checkboxes={mastery:new l(c.mastery),"near-mastery":new l(c.nearMastery),remedial:new l(c.remedial)},a.prototype.events={"click .sidebar-toggle":"onSidebarToggle"},a.prototype.onSidebarToggle=function(e){var t;return e.preventDefault(),t=this._toggleSidebarCollapse(),this._toggleSidebarArrow(),this._toggleSidebarTooltips(t)},a.prototype._toggleSidebarCollapse=function(){return this.$(".outcome-gradebook-sidebar").toggleClass("collapsed").hasClass("collapsed")},a.prototype._toggleSidebarArrow=function(){return this.$(".sidebar-toggle").toggleClass("icon-arrow-open-right").toggleClass("icon-arrow-open-left")},a.prototype._toggleSidebarTooltips=function(e){return e?this.$(".checkbox-view").each(function(){return o(this).find(".checkbox").attr("data-tooltip","left").attr("title",o(this).find(".checkbox-label").text())}):this.$(".checkbox").removeAttr("data-tooltip").removeAttr("title")},a.prototype._validateOptions=function(e){var t;if(t=e.gradebook,!t)throw new Error('Missing required option: "gradebook"')},a.prototype._attachEvents=function(){var e,t,n;n=this.checkboxes;for(e in n)t=n[e],t.on("togglestate",this._createFilter(e));return o.subscribe("currentSection/change",r.Events.sectionChangeFunction(this.grid)),o.subscribe("currentSection/change",this.updateExportLink),this.updateExportLink(this.gradebook.sectionToShow)},a.prototype._attachGridEvents=function(){return this.grid.onHeaderRowCellRendered.subscribe(r.Events.headerRowCellRendered),this.grid.onHeaderCellRendered.subscribe(r.Events.headerCellRendered),this.grid.onSort.subscribe(r.Events.sort)},a.prototype.toJSON=function(){return i.extend({},this.checkboxes)},a.prototype.render=function(){var e=this;return o.when(this.gradebook.hasSections).then(function(){return a.__super__.render.apply(e,arguments)}).then(this._drawSectionMenu),o.when(this.hasOutcomes).then(this.renderGrid),this},a.prototype.renderGrid=function(e){var t,n,o;return r.Util.saveOutcomes(e.linked.outcomes),r.Util.saveStudents(e.linked.users),r.Util.saveOutcomePaths(e.linked.outcome_paths),r.Util.saveSections(this.gradebook.sections),o=r.Util.toGrid(e,{column:{formatter:r.View.cell},row:{section:this.menu.currentSection}}),t=o[0],n=o[1],this.grid=new s.Grid(".outcome-gradebook-wrapper",n,t,r.options),this._attachGridEvents(),this.grid.init(),r.Events.init(this.grid),this._attachEvents()},a.prototype.isLoaded=!1,a.prototype.onShow=function(){var e=this;return this.isLoaded||this.loadOutcomes(),this.isLoaded=!0,this.$el.fillWindowWithMe({onResize:function(){return e.grid?e.grid.resizeCanvas():void 0}})},a.prototype.loadOutcomes=function(){return o.when(this.gradebook.hasSections).then(this._loadOutcomes)},a.prototype._loadOutcomes=function(){var e;return e=ENV.context_asset_string.split("_")[1],this.$(".outcome-gradebook-wrapper").disableWhileLoading(this.hasOutcomes),this._loadPage("/api/v1/courses/"+e+"/outcome_rollups?per_page=100&include[]=outcomes&include[]=users&include[]=outcome_paths")},a.prototype._loadPage=function(e,t){var n,i=this;return n=o.getJSON(e),n.then(function(e){return t=i._mergeResponses(t,e),e.meta.pagination.next?i._loadPage(e.meta.pagination.next,t):i.hasOutcomes.resolve(t)})},a.prototype._mergeResponses=function(e,t){var n;return e?(n={},n.meta=i.extend({},e.meta,t.meta),n.linked={outcomes:e.linked.outcomes,outcome_paths:e.linked.outcome_paths,users:e.linked.users.concat(t.linked.users)},n.rollups=e.rollups.concat(t.rollups),n):t},a.prototype._drawSectionMenu=function(){return this.menu=new u({sections:this.gradebook.sectionList(),currentSection:this.gradebook.sectionToShow,el:o(".section-button-placeholder")}),this.menu.render()},a.prototype._createFilter=function(e){var t,n=this;return t=function(t){return r.filter=t?i.uniq(r.filter.concat([e])):i.reject(r.filter,function(t){return t===e}),n.grid.invalidate()}},a.prototype.updateExportLink=function(e){var t;return t=""+ENV.GRADEBOOK_OPTIONS.context_url+"/outcome_rollups.csv",e&&(t+="?section_id="+e),o(".export-content").attr("href",t)},a}(m)})}.call(this),function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function o(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return o.prototype=n.prototype,e.prototype=new o,e.__super__=n.prototype,e};require(["jquery","Backbone","compiled/userSettings","compiled/gradebook2/Gradebook","compiled/views/gradebook/NavigationPillView","compiled/views/gradebook/OutcomeGradebookView"],function(t,o,i,a,s,r){var l,u;return l=function(o){function l(){return this.handlePillChange=e(this.handlePillChange,this),u=l.__super__.constructor.apply(this,arguments)}return n(l,o),l.prototype.routes={"":"tab","tab-:viewName":"tab"},l.prototype.initialize=function(){return this.isLoaded=!1,this.views={},this.views.assignment=new a(ENV.GRADEBOOK_OPTIONS),ENV.GRADEBOOK_OPTIONS.outcome_gradebook_enabled?this.views.outcome=this.initOutcomes():void 0},l.prototype.initOutcomes=function(){var e;return e=new r({el:t(".outcome-gradebook-container"),gradebook:this.views.assignment}),e.render(),this.navigation=new s({el:t(".gradebook-navigation")}),this.navigation.on("pillchange",this.handlePillChange),e},l.prototype.handlePillChange=function(e){return e?this.navigate("tab-"+e,{trigger:!0}):void 0},l.prototype.tab=function(e){return e||(e=i.contextGet("gradebook_tab")),window.tab=e,"outcome"===e&&this.views.outcome||(e="assignment"),this.navigation&&this.navigation.setActiveView(e),t(".assignment-gradebook-container, .outcome-gradebook-container").addClass("hidden"),t("."+e+"-gradebook-container").removeClass("hidden"),this.views[e].onShow(),i.contextSet("gradebook_tab",e)},l}(o.Router),this.router=new l,o.history.start()})}.call(this),define("compiled/bundles/gradebook2",function(){});
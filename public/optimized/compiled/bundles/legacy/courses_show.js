(function(){require(["jquery","i18n!courses.show","str/htmlEscape","jquery.ajaxJSON","jqueryui/dialog","compiled/jquery/fixDialogButtons","jquery.loadingImg","vendor/jquery.scrollTo","compiled/behaviors/openAsDialog"],function(e,n,t){return e(document).ready(function(){var o;return o=e("#self_unenrollment_dialog"),e(".self_unenrollment_link").click(function(){return o.dialog({title:n.t("titles.drop_course","Drop this Course")}).fixDialogButtons()}),o.on("click",".action",function(){return o.disableWhileLoading(e.Deferred()),e.ajaxJSON(e(this).attr("href"),"POST",{},function(){return window.location.reload()})}),e(".re_send_confirmation_link").click(function(t){var o;return t.preventDefault(),o=e(this),o.text(n.t("re_sending","Re-Sending...")),e.ajaxJSON(o.attr("href"),"POST",{},function(){return o.text(n.t("send_done","Done! Message may take a few minutes."))},function(){return o.text(n.t("send_failed","Request failed. Try again."))})}),e(".home_page_link").click(function(o){var i;return o.preventDefault(),i=e(this),e(".floating_links").hide(),e("#course_messages").slideUp(function(){return e(".floating_links").show()}),e("#home_page").slideDown().loadingImage(),i.hide(),e.ajaxJSON(e(this).attr("href"),"GET",{},function(o){var i;return e("#home_page").loadingImage("remove"),i=t(e.trim(o.wiki_page.body)),0===i.length&&(i=t(n.t("empty_body","No Content"))),e("#home_page_content").html(i),e("html,body").scrollTo(e("#home_page"))})}),e(".dashboard_view_link").click(function(n){return n.preventDefault(),e(".floating_links").hide(),e("#course_messages").slideDown(function(){return e(".floating_links").show()}),e("#home_page").slideUp(),e(".home_page_link").show()}),e(".publish_course_in_wizard_link").click(function(n){return n.preventDefault(),e("#wizard_box:visible").length>0?e("#wizard_box .option.publish_step").click():e("#wizard_box").slideDown("slow",function(){return e(this).find(".option.publish_step").click()})}),ENV.DRAFT_STATE||e("#edit_course_home_content_select").change(function(){return e(this).parents("form").find(".options_details").hide().end().find("."+e(this).val()+"_details").show().end().find(".select_details").show()}).triggerHandler("change"),e(".edit_course_home_content_link").click(function(n){return n.preventDefault(),e("#edit_course_home_content").show(),e("#course_home_content").hide()}),e("#edit_course_home_content .cancel_button").click(function(){return e("#edit_course_home_content").hide(),e("#course_home_content").show()}),e("[aria-controls=edit_course_home_content_form]").click(function(){return setTimeout(function(){return e("#edit_course_home_content_select").focus()},0)})})})}).call(this);
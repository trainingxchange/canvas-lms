(function(){require(["jquery","jquery.instructure_misc_plugins","jquery.templateData"],function(t){return t(document).ready(function(){var e;return t(window).resize(function(){var e,n;return n=t("#file_content").offset().top,e=t(window).height(),t("#content_preview").height(e-n),t("#modules").height(e-n)}).triggerHandler("resize"),e=0,t(".context_module_item").each(function(){return e=Math.max(e,t(this).width())}),t(".context_module_item").width(e),t("#modules .context_module_item.attachment a.title,#modules .context_module_item.external_url a.title").each(function(){return t(this).attr("href",t(this).attr("href")+"?already_inline=1")}),t("#modules .context_module_item").filter(".attachment,.external_url").find("a.title").each(function(){return t(this).attr("target","content_preview")}).click(function(e){var n;return e.preventDefault(),t("#file_display_name").text(t(this).text()),n=t(this).parents(".context_module_item").getTemplateData({textValues:["id"]}).id,location.replace("#tag_"+n)}),t(document).fragmentChange(function(e,n){var i;return n.match(/^#tag_/)&&(i=n.substring(5),i&&i!==t("#current_item_id").text()&&t("#context_module_item_"+i+" a.title").length>0)?(t("#current_item_id").text(i),t("#content_preview").attr("src",t("#context_module_item_"+i+" a.title").attr("href")),t("#modules .context_module_item").removeClass("selected"),t("#context_module_item_"+i).addClass("selected"),t("#context_module_item_"+i+" a.title").click()):void 0}),t("#context_module_item_"+t("#current_item_id").text()).addClass("selected"),t("#frameless_link").click(function(e){return e.preventDefault(),location.href=t("#content_preview").attr("src")}),t(".hide_sidebar_link").click(function(e){return e.preventDefault(),t("#modules").parent().hide()}),t("body").css("overflow","hidden")})})}).call(this);
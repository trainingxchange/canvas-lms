(function(){var t={}.hasOwnProperty,r=function(r,e){function i(){this.constructor=r}for(var o in e)t.call(e,o)&&(r[o]=e[o]);return i.prototype=e.prototype,r.prototype=new i,r.__super__=e.prototype,r};define(["compiled/collections/PaginatedCollection","compiled/models/WikiPage"],function(t,e){var i,o;return i=function(t){function i(){return o=i.__super__.constructor.apply(this,arguments)}return r(i,t),i.prototype.model=e,i.prototype.initialize=function(){var t=this;return i.__super__.initialize.apply(this,arguments),this.sortOrders={title:"asc",created_at:"desc",updated_at:"desc"},this.setSortField("title"),this.on("change:front_page",function(r,e){var i,o,s,n,l;if(e){for(n=t.filter(function(t){return!!t.get("front_page")}),l=[],o=0,s=n.length;s>o;o++)i=n[o],l.push(i!==r?i.set("front_page",!1):void 0);return l}})},i.prototype.sortByField=function(t,r){return null==r&&(r=null),this.setSortField(t,r),this.fetch()},i.prototype.setSortField=function(t,r){if(null==r&&(r=null),void 0===this.sortOrders[t])throw""+t+" is not a valid sort field";return r||this.currentSortField!==t||(r="asc"===this.sortOrders[t]?"desc":"asc"),this.currentSortField=t,r&&(this.sortOrders[this.currentSortField]=r),this.setParams({sort:this.currentSortField,order:this.sortOrders[this.currentSortField]}),this.trigger("sortChanged",this.currentSortField,this.sortOrders)},i}(t)})}).call(this);
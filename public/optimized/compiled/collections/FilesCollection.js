(function(){var t={}.hasOwnProperty,r=function(r,e){function n(){this.constructor=r}for(var o in e)t.call(e,o)&&(r[o]=e[o]);return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};define(["compiled/collections/PaginatedCollection","underscore"],function(t,e){var n,o;return n=function(t){function n(){return o=n.__super__.constructor.apply(this,arguments)}return r(n,t),n.optionProperty("parentFolder"),n.prototype.initialize=function(){return this.on("change:sort change:order",this.setQueryStringParams),n.__super__.initialize.apply(this,arguments)},n.prototype.fetch=function(t){var r,o;return null==t&&(t={}),t.data=e.extend({content_types:null!=(o=this.parentFolder)?o.contentTypes:void 0},t.data||{}),r=n.__super__.fetch.call(this,t)},n.prototype.parse=function(t){var r;return t&&this.parentFolder&&(r=this.parentFolder.previewUrl(),e.each(t,function(t){return t.preview_url=r?r.replace("{{id}}",t.id.toString()):t.url})),n.__super__.parse.apply(this,arguments)},n.prototype.setQueryStringParams=function(){var t,r,n;return t={include:["user"],per_page:20,sort:this.get("sort"),order:this.get("order")},this.loadedAll?void 0:(n=new URL(this.url),r=deparam(n.search),n.search=$.param(e.extend(r,t)),this.url=n.toString(),this.reset())},n}(t)})}).call(this);
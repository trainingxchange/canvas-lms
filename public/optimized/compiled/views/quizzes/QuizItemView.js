(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,i=function(e,i){function o(){this.constructor=e}for(var n in i)t.call(i,n)&&(e[n]=i[n]);return o.prototype=i.prototype,e.prototype=new o,e.__super__=i.prototype,e};define(["i18n!quizzes.index","jquery","underscore","Backbone","compiled/views/PublishIconView","compiled/views/assignments/DateDueColumnView","compiled/views/assignments/DateAvailableColumnView","jst/quizzes/QuizItemView"],function(t,o,n,s,l,r,u,a){var p,h;return p=function(s){function p(){return this.upatePublishState=e(this.upatePublishState,this),this.onDelete=e(this.onDelete,this),this.clickRow=e(this.clickRow,this),h=p.__super__.constructor.apply(this,arguments)}return i(p,s),p.prototype.template=a,p.prototype.tagName="li",p.prototype.className="quiz",p.child("publishIconView","[data-view=publish-icon]"),p.child("dateDueColumnView","[data-view=date-due]"),p.child("dateAvailableColumnView","[data-view=date-available]"),p.prototype.events={click:"clickRow","click .delete-item":"onDelete"},p.prototype.messages={confirm:t.t("confirms.delete_quiz","Are you sure you want to delete this quiz?"),multipleDates:t.t("multiple_due_dates","Multiple Dates")},p.prototype.initialize=function(){return this.initializeChildViews(),this.observeModel(),p.__super__.initialize.apply(this,arguments)},p.prototype.initializeChildViews=function(){return this.publishIconView=!1,this.canManage()&&(this.publishIconView=new l({model:this.model})),this.dateDueColumnView=new r({model:this.model}),this.dateAvailableColumnView=new u({model:this.model})},p.prototype.clickRow=function(e){var t,i,n;return i=o(e.target),i.parents(".ig-admin").length>0||i.hasClass("ig-title")?void 0:(t=i.parents("li"),n=t.find(".ig-title"),n.length>0?this.redirectTo(n.attr("href")):void 0)},p.prototype.redirectTo=function(e){return location.href=e},p.prototype.onDelete=function(e){return e.preventDefault(),confirm(this.messages.confirm)?this["delete"]():void 0},p.prototype["delete"]=function(){return this.model.destroy(),this.$el.remove()},p.prototype.observeModel=function(){return this.model.on("change:published",this.upatePublishState)},p.prototype.upatePublishState=function(){return this.$(".ig-row").toggleClass("ig-published",this.model.get("published"))},p.prototype.canManage=function(){return ENV.PERMISSIONS.manage},p.prototype.toJSON=function(){var e;return e=n.extend(this.model.toJSON(),this.options),this.model.get("multiple_due_dates")&&(e.selector=this.model.get("id"),e.link_text=this.messages.multipleDates,e.link_href=this.model.get("url")),e},p}(s.View)})}).call(this);
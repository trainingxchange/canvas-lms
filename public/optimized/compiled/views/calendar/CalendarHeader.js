(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,n=function(e,n){function r(){this.constructor=e}for(var i in n)t.call(n,i)&&(e[i]=n[i]);return r.prototype=n.prototype,e.prototype=new r,e.__super__=n.prototype,e};define(["i18n!calendar","jquery","Backbone","jst/calendar/calendarHeader","compiled/views/calendar/CalendarNavigator"],function(t,r,i,o,a){var s,c;return s=function(t){function i(){return this.animateLoading=e(this.animateLoading,this),this.setHeaderText=e(this.setHeaderText,this),c=i.__super__.constructor.apply(this,arguments)}return n(i,t),i.prototype.template=o,i.prototype.els={".calendar_view_buttons":"$calendarViewButtons",".recommend_agenda":"$recommendAgenda",".calendar_navigator":"$navigator",".appointment_group_title":"$appointmentGroupTitle",".scheduler_done_button":"$schedulerDoneButton","#create_new_event_link":"$createNewEventLink","#refresh_calendar_link":"$refreshCalendarLink"},i.prototype.events={"click #week":"_triggerWeek","click #month":"_triggerMonth","click #agenda":"_triggerAgenda","click #use_agenda":"_selectAgenda","click #scheduler":"_triggerScheduler","click .scheduler_done_button":"_triggerDone","click #create_new_event_link":"_triggerCreateNewEvent","click #refresh_calendar_link":"_triggerRefreshCalendar"},i.prototype.initialize=function(){return i.__super__.initialize.apply(this,arguments),this.render(),this.navigator=new a({el:this.$navigator}),this.showNavigator(),this.$badge=this.$el.find(".counter-badge"),this.setSchedulerBadgeCount(0),this.connectEvents()},i.prototype.connectEvents=function(){var e=this;return this.navigator.on("navigatePrev",function(){return e.trigger("navigatePrev")}),this.navigator.on("navigateToday",function(){return e.trigger("navigateToday")}),this.navigator.on("navigateNext",function(){return e.trigger("navigateNext")}),this.navigator.on("navigateDate",function(t){return e.trigger("navigateDate",t)}),this.$calendarViewButtons.on("click","button",this.toggleView),r.subscribe("Calendar/loadStatus",this.animateLoading),this.$schedulerDoneButton},i.prototype.toggleView=function(e){var t;return e.preventDefault(),t=r(this),t.attr("aria-checked",!0).addClass("active"),t.siblings().attr("aria-checked",!1).removeClass("active")},i.prototype.showNavigator=function(){return this.$navigator.show(),this.$createNewEventLink.show(),this.$appointmentGroupTitle.hide(),this.$schedulerDoneButton.hide()},i.prototype.showSchedulerTitle=function(){return this.$navigator.hide(),this.$createNewEventLink.hide(),this.$appointmentGroupTitle.show(),this.$schedulerDoneButton.hide()},i.prototype.showDoneButton=function(){return this.$navigator.hide(),this.$createNewEventLink.hide(),this.$appointmentGroupTitle.hide(),this.$schedulerDoneButton.show()},i.prototype.showAgendaRecommendation=function(){return this.$recommendAgenda.show()},i.prototype.hideAgendaRecommendation=function(){return this.$recommendAgenda.hide()},i.prototype.setHeaderText=function(e){return this.navigator.setTitle(e)},i.prototype.selectView=function(e){return r("#"+e).click()},i.prototype.animateLoading=function(e){return this.$refreshCalendarLink.toggleClass("loading",e)},i.prototype.setSchedulerBadgeCount=function(e){return this.$badge.toggle(e>0).text(e)},i.prototype.showPrevNext=function(){return this.navigator.showPrevNext()},i.prototype.hidePrevNext=function(){return this.navigator.hidePrevNext()},i.prototype._selectAgenda=function(){return this.selectView("agenda")},i.prototype._triggerDone=function(){return this.trigger("done")},i.prototype._triggerWeek=function(){return this.trigger("week")},i.prototype._triggerMonth=function(){return this.trigger("month")},i.prototype._triggerAgenda=function(){return this.trigger("agenda")},i.prototype._triggerScheduler=function(){return this.trigger("scheduler")},i.prototype._triggerCreateNewEvent=function(e){return e.preventDefault(),this.trigger("createNewEvent")},i.prototype._triggerRefreshCalendar=function(e){return e.preventDefault(),this.trigger("refreshCalendar")},i}(i.View)})}).call(this);
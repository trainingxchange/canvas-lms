(function(){var t={}.hasOwnProperty,e=function(e,s){function i(){this.constructor=e}for(var r in s)t.call(s,r)&&(e[r]=s[r]);return i.prototype=s.prototype,e.prototype=new i,e.__super__=s.prototype,e};define(["i18n!discussions","jquery","compiled/views/DialogFormView","compiled/models/DiscussionsSettings","compiled/models/UserSettings","jst/DiscussionTopics/DiscussionsSettingsView"],function(t,s,i,r,n,o){var u,a;return u=function(i){function u(){return a=u.__super__.constructor.apply(this,arguments)}return e(u,i),u.prototype.defaults={title:t.t("edit_settings","Edit Discussions Settings")},u.prototype.template=o,u.prototype.initialize=function(){return u.__super__.initialize.apply(this,arguments),this.model||(this.model=new r),this.userSettings=new n,this.fetch()},u.prototype.render=function(){return u.__super__.render.call(this,arguments),this.$el.find("#manual_mark_as_read").prop("checked",this.userSettings.get("manual_mark_as_read"))},u.prototype.submit=function(t){return u.__super__.submit.call(this,t),this.userSettings.set("manual_mark_as_read",this.$el.find("#manual_mark_as_read").prop("checked")),this.userSettings.save()},u.prototype.fetch=function(){var t,e=this;return t=s.Deferred(),s.when(this.model.fetch(),this.userSettings.fetch()).then(function(){return t.resolve(),e.render()}),this.$el.disableWhileLoading(t)},u}(i)})}).call(this);
(function(){var t={}.hasOwnProperty,e=function(e,o){function i(){this.constructor=e}for(var n in o)t.call(o,n)&&(e[n]=o[n]);return i.prototype=o.prototype,e.prototype=new i,e.__super__=o.prototype,e};define(["i18n!assignments","jquery","Backbone","jst/MoveDialogSelect"],function(t,o,i,n){var r,l;return r=function(i){function r(){return l=r.__super__.constructor.apply(this,arguments)}return e(r,i),r.prototype.setViewProperties=!1,r.optionProperty("lastList"),r.optionProperty("excludeModel"),r.optionProperty("labelText"),r.prototype.className="move_select",r.prototype.template=n,r.prototype.getLabelText=function(){return this.labelText||t.beforeLabel("label_place_before","Place before")},r.prototype.initialize=function(){return r.__super__.initialize.apply(this,arguments),this.model&&!this.collection&&this.model.collection?this.collection=this.model.collection:void 0},r.prototype.setCollection=function(t){return t?(this.collection=t,this.renderOptions()):void 0},r.prototype.renderOptions=function(){var t,e;return t=o(this.template(this.toJSON())),e=t.filter("select").find("option"),this.$("select").empty().append(e)},r.prototype.value=function(){return this.$("select").val()},r.prototype.toJSON=function(){var t,e,o=this;return t=("function"==typeof(e=this.model).toView?e.toView():void 0)||this.model.toJSON(),t.lastList=this.lastList,t.labelText=this.getLabelText(),t.items=this.excludeModel?this.collection.reject(function(t){return o.model.id===t.id}).map(function(t){return("function"==typeof t.toView?t.toView():void 0)||t.toJSON()}):this.collection.toJSON(),t},r}(i.View)})}).call(this);
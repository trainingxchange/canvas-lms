(function(){var n={}.hasOwnProperty,t=function(t,e){function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};define(["jquery","underscore","i18n!roster","Backbone","jst/courses/roster/resendInvitations","jquery.ajaxJSON","compiled/jquery.rails_flash_notifications"],function(n,e,r,i,o){var s,a,u;return a=i.View,s=function(i){function s(){return u=s.__super__.constructor.apply(this,arguments)}return t(s,i),s.optionProperty("canResend"),s.optionProperty("resendInvitationsUrl"),s.prototype.events={"click .resend-pending-invitations":"resendPendingInvitations"},s.prototype.template=o,s.prototype.toJSON=function(){return e.extend({},this.model.toJSON(),this)},s.prototype.attach=function(){return this.model.on("change:pendingInvitationsCount",this.render,this)},s.prototype.resendPendingInvitations=function(){var t,e=this;return this.sending=!0,this.render(),t=n.ajaxJSON(this.resendInvitationsUrl,"POST",{},function(){return n.flashMessage(r.t("invitations_re_sent","Invitations sent successfully"))},function(){return n.flashError(r.t("error_sending_invitations","Error sending invitation. Please try again."))}),n.when(t).always(function(){return e.sending=!1},this.render)},s}(a)})}).call(this);
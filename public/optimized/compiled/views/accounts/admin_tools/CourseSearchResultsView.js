(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,o=function(e,o){function s(){this.constructor=e}for(var r in o)t.call(o,r)&&(e[r]=o[r]);return s.prototype=o.prototype,e.prototype=new s,e.__super__=o.prototype,e};define(["underscore","Backbone","jquery","jst/accounts/admin_tools/CourseSearchResults"],function(t,s,r,n){var i,l;return i=function(t){function s(){return this.enableResults=e(this.enableResults,this),this.disableResults=e(this.disableResults,this),l=s.__super__.constructor.apply(this,arguments)}return o(s,t),s.prototype.template=n,s.prototype.events={"click #restoreCourseBtn":"restore"},s.prototype.els={"#restoreCourseBtn":"$restoreCourseBtn"},s.prototype.initialize=function(){return s.__super__.initialize.apply(this,arguments),this.applyBindings()},s.prototype.disableResults=function(){return this.$el.find("button").prop("disabled",!0)},s.prototype.enableResults=function(){return"deleted"===this.model.get("workflow_state")?this.$el.find("button").prop("disabled",!1):void 0},s.prototype.applyBindings=function(){var e=this;return this.model.on("doneSearching",this.enableResults),this.model.on("change",this.render),this.model.on("searching",function(){return e.model.set("restored",!1),e.disableResults()})},s.prototype.restore=function(e){var t;return e.preventDefault(),t=this.model.restore(),this.$el.disableWhileLoading(t)},s.prototype.toJSON=function(e){return e=s.__super__.toJSON.apply(this,arguments),e.showRestore=this.model.get("id")&&"deleted"===this.model.get("workflow_state"),e.showNotFound=!this.model.get("id")&&this.model.get("status"),e.showSuccessfullRestore=this.model.get("id")&&"deleted"!==this.model.get("workflow_state")&&this.model.get("restored"),e.showNonDeletedCourse=this.model.get("id")&&"deleted"!==this.model.get("workflow_state")&&!this.model.get("restored"),this.model.get("enrollments")&&(e.enrollmentCount=this.model.get("enrollments").length),e},s}(s.View)})}).call(this);
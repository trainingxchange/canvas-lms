(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,r=function(t,r){function n(){this.constructor=t}for(var o in r)e.call(r,o)&&(t[o]=r[o]);return n.prototype=r.prototype,t.prototype=new n,t.__super__=r.prototype,t};define(["jquery","vendor/usher/usher","Backbone","jquery.ajaxJSON"],function(e,n,o){var s,i;return s=function(o){function s(){return this.start=t(this.start,this),i=s.__super__.constructor.apply(this,arguments)}return r(s,o),s.prototype.events={"click .usher-close":"dismissSession","click .dismiss-tour":"dismissForever"},s.optionProperty("name"),s.prototype.initialize=function(){return s.__super__.initialize.apply(this,arguments),this.render(),this.$el.appendTo(e(document.body)),this.tour=new n(this.$el)},s.prototype.start=function(){return this.tour.start()},s.prototype.attach=function(){return setTimeout(this.start,2e3)},s.prototype.dismissSession=function(){return e.ajaxJSON("/tours/dismiss/session/"+this.name,"DELETE")},s.prototype.dismissForever=function(){return e.ajaxJSON("/tours/dismiss/"+this.name,"DELETE"),this.tour.close()},s.prototype.onElementRendered=function(t,r,n){var o,s=this;return o=e(t),n=++n||1,o.length?r(o):60!==n?setTimeout(function(){return s.onElementRendered(t,r,n)},250):void 0},s}(o.View)})}).call(this);
(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,o=function(t,o){function r(){this.constructor=t}for(var n in o)e.call(o,n)&&(t[n]=o[n]);return r.prototype=o.prototype,t.prototype=new r,t.__super__=o.prototype,t};define(["jquery","underscore","i18n!EditGroupAssignmentView","compiled/views/DialogFormView","compiled/collections/GroupCollection","jst/groups/manage/editGroupAssignment","jst/EmptyDialogFormWrapper"],function(e,r,n,i,p,s,u){var l,c;return l=function(r){function i(){return this.setGroup=t(this.setGroup,this),c=i.__super__.constructor.apply(this,arguments)}return o(i,r),i.optionProperty("group"),i.prototype.els={".single-select":"$singleSelectList"},i.prototype.defaults={title:n.t("move_to","Move To"),width:450,height:350},i.prototype.template=s,i.prototype.wrapperTemplate=u,i.prototype.className="form-dialog",i.prototype.events={"click .dialog_closer":"close","click .set-group":"setGroup"},i.prototype.openAgain=function(){return i.__super__.openAgain.apply(this,arguments),this.render(),this.$singleSelectList.focus()},i.prototype.setGroup=function(t){var o,r;return t.preventDefault(),t.stopPropagation(),o=this.$("option:selected").val(),o&&this.group.collection.category.reassignUser(this.model,this.group.collection.get(o)),this.close(),null!=(r=e("[data-id='"+o+"'] .group-heading"))?r.focus():void 0},i.prototype.getFilteredGroups=function(){var t=this;return new p(this.group.collection.filter(function(e){return e!==t.group}))},i.prototype.toJSON=function(){var t,e;return t=this.getFilteredGroups(),e=t.length>0,{allFull:e&&t.models.every(function(t){return t.isFull()}),groupId:this.group.id,userName:this.model.get("name"),groups:t.toJSON()}},i}(i)})}).call(this);
(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){function o(){this.constructor=t}for(var i in n)e.call(n,i)&&(t[i]=n[i]);return o.prototype=n.prototype,t.prototype=new o,t.__super__=n.prototype,t};define(["jquery","Backbone","compiled/jquery/outerclick"],function(e,o){var i,r,c;return r=o.View,i=function(o){function i(){return this.hide=t(this.hide,this),this.cancelHide=t(this.cancelHide,this),c=i.__super__.constructor.apply(this,arguments)}return n(i,o),i.prototype.defaults={zIndex:1},i.prototype.events={click:"cancelHide",focusin:"cancelHide",focusout:"hide",outerclick:"hide",keyup:"checkEsc"},i.prototype.showBy=function(t,n){var o=this;return null==n&&(n=!1),this.cancelHide(),setTimeout(function(){return o.render(),o.attachElement(t),o.$el.show(),o.setElement(o.$el),o.$el.zIndex(o.options.zIndex),"function"==typeof o.setWidth&&o.setWidth(),o.$el.position({my:o.my||"left+6 top-47",at:o.at||"right center",of:t,collision:"none",using:function(t){var n;return n=o.$el.find(".popover-content"),o.$el.css({top:t.top,left:t.left}),o.setPopoverContentHeight(o.$el,n,e("#content"))}}),n&&"function"==typeof o.focus?o.focus():void 0},20)},i.prototype.setPopoverContentHeight=function(t,e,n){var o,i,r,c,u;return r=n.offset().top+n.height(),u=t.offset().top,c=t.find(".popover-title").outerHeight(),o=parseInt(e.css("maxHeight")),i=r-u-c,e.css({maxHeight:Math.min(o,i)})},i.prototype.cancelHide=function(){return clearTimeout(this.hideTimeout)},i.prototype.hide=function(){var t=this;return this.hideTimeout=setTimeout(function(){return t.$el.detach()},100)},i.prototype.checkEsc=function(t){return 27===t.keyCode?this.hide():void 0},i.prototype.attachElement=function(t){return this.$el.insertAfter(t)},i}(r)})}).call(this);
(function(){var t={}.hasOwnProperty,o=function(o,e){function r(){this.constructor=o}for(var p in e)t.call(e,p)&&(o[p]=e[p]);return r.prototype=e.prototype,o.prototype=new r,o.__super__=e.prototype,o};define(["underscore","i18n!groups","compiled/views/groups/manage/GroupCategoryEditView","jst/groups/manage/groupCategoryCreate"],function(t,e,r,p){var u,n;return u=function(u){function i(){return n=i.__super__.constructor.apply(this,arguments)}return o(i,u),i.prototype.template=p,i.prototype.className="form-dialog group-category-create",i.prototype.messages={positive_group_count:e.t("positive_group_count","Must enter a positive group count")},i.prototype.defaults={width:600,height:ENV.allow_self_signup?520:310,title:e.t("create_group_set","Create Group Set")},i.prototype.els=t.extend({},r.prototype.els,{".admin-signup-controls":"$adminSignupControls","#split_groups":"$splitGroups",".auto-group-leader-toggle":"$autoGroupLeaderToggle",".auto-group-leader-controls":"$autoGroupLeaderControls",".admin-signup-controls input[name=split_groups][value=1]":"$autoGroupSplitControl"}),i.prototype.events=t.extend({},r.prototype.events,{"click .admin-signup-controls [name=create_group_count]":"clickSplitGroups","click .auto-group-leader-toggle":"toggleAutoGroupLeader","click .admin-signup-controls input[name=split_groups]":"setVisibilityOfGroupLeaderControls"}),i.prototype.afterRender=function(){return i.__super__.afterRender.call(this),this.setVisibilityOfGroupLeaderControls(),this.toggleAutoGroupLeader()},i.prototype.toggleAutoGroupLeader=function(){var t;return t=this.$autoGroupLeaderToggle.prop("checked"),this.$autoGroupLeaderControls.find("label.radio").css({opacity:t?1:.5}),this.$autoGroupLeaderControls.find("input[name=auto_leader_type]").prop("disabled",!t)},i.prototype.setVisibilityOfGroupLeaderControls=function(){var t,o;return o=this.$autoGroupSplitControl.prop("checked"),t=this.selfSignupIsEnabled()||o,this.$autoGroupLeaderControls.toggle(t)},i.prototype.toggleSelfSignup=function(){var t;return t=this.selfSignupIsEnabled(),this.$el.toggleClass("group-category-self-signup",t),this.$el.toggleClass("group-category-admin-signup",!t),this.$selfSignupControls.find(":input").prop("disabled",!t),this.$adminSignupControls.find(":input").prop("disabled",t),this.setVisibilityOfGroupLeaderControls()},i.prototype.selfSignupIsEnabled=function(){return this.$selfSignupToggle.prop("checked")},i.prototype.clickSplitGroups=function(t){return t.preventDefault(),this.$splitGroups.click()},i.prototype.toJSON=function(){return t.extend({},i.__super__.toJSON.apply(this,arguments),{num_groups:'<input name="create_group_count" type="number" min="0" class="input-micro" value="0">',ENV:ENV})},i.prototype.validateFormData=function(t){var o,e;return e={},"1"===t.split_groups&&(o=parseInt(t.create_group_count),o>0||(e.create_group_count=[{type:"positive_group_count",message:this.messages.positive_group_count}])),e},i}(r)})}).call(this);
(function(){var e=function(e,r){return function(){return e.apply(r,arguments)}},r={}.hasOwnProperty,t=function(e,t){function n(){this.constructor=e}for(var o in t)r.call(t,o)&&(e[o]=t[o]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};define(["i18n!roles","jquery","underscore","Backbone","jst/roles/manageRoles","compiled/views/roles/PermissionButtonView","compiled/views/roles/RoleHeaderView"],function(r,n,o,i,s,a,p){var l,u;return l=function(n){function i(){return this.renderTable=e(this.renderTable,this),u=i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.template=s,i.prototype.className="manage-roles-table",i.prototype.initialize=function(){return i.__super__.initialize.apply(this,arguments),this.options.permission_groups&&(this.permission_groups=this.options.permission_groups),this.collection.on("add",this.renderTable),this.collection.on("remove",this.renderTable)},i.prototype.afterRender=function(){return this.renderTable()},i.prototype.renderHeader=function(){var e=this;return this.$el.find("thead tr").html("<th>"+r.t("permissions","Permissions")+"</th>"),this.collection.each(function(r){var t;return t=new p({model:r}),e.$el.find("thead tr").append(t.render().el)})},i.prototype.renderTable=function(){var e=this;return this.renderHeader(),this.$el.find("tbody").html(""),o.each(this.permission_groups,function(r){var t;return t='<tr class="toolbar">\n  <th colspan="'+(e.collection.length+1)+'">'+r.group_name.toUpperCase()+"</th>\n</tr>",e.$el.find("tbody").append(t),o.each(r.group_permissions,function(r){var t;return t='<tr>\n  <th role="rowheader">'+r.label+"</th>\n</tr>",e.$el.find("tbody").append(t),e.collection.each(function(t){var n;return n=new a({model:t,permission_name:r.permission_name}),e.$el.find("tr").last().append(n.render().el)})})})},i}(i.View)})}).call(this);
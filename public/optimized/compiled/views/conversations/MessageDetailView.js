(function(){var e={}.hasOwnProperty,t=function(t,n){function r(){this.constructor=t}for(var o in n)e.call(n,o)&&(t[o]=n[o]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};define(["i18n!conversations","jquery","underscore","Backbone","compiled/models/Message","compiled/views/conversations/MessageItemView","jst/conversations/messageDetail","jst/conversations/noMessage"],function(e,n,r,o,s,i,a,c){var l,u,p;return u=o.View,l=function(e){function r(){return p=r.__super__.constructor.apply(this,arguments)}return t(r,e),r.prototype.tagName="div",r.prototype.render=function(e){var t,o,s=this;return null==e&&(e={}),r.__super__.render.apply(this,arguments),this.model?(o=this.model.toJSON().conversation,t=n(a(o)),this.model.messageCollection.each(function(e){var n;return e.get("conversation_id")||e.set("conversation_id",o.id),n=new i({model:e}).render(),t.find(".message-content").append(n.$el),s.listenTo(n,"reply",function(){return s.trigger("reply",e)}),s.listenTo(n,"reply-all",function(){return s.trigger("reply-all",e)}),s.listenTo(n,"forward",function(){return s.trigger("forward",e)})})):t=c(e),this.$el.html(t),this.$el.find(".subject").focus(),this},r}(u)})}).call(this);
(function(){var t={}.hasOwnProperty,e=function(e,r){function n(){this.constructor=e}for(var o in r)t.call(r,o)&&(e[o]=r[o]);return n.prototype=r.prototype,e.prototype=new n,e.__super__=r.prototype,e};define(["underscore","jquery","Backbone","i18nObj","jst/content_migrations/subviews/DaySubstitution"],function(t,r,n,o,a){var u,i;return u=function(r){function n(){return i=n.__super__.constructor.apply(this,arguments)}return e(n,r),n.prototype.template=a,n.prototype.els={".currentDay":"$currentDay",".subDay":"$subDay"},n.prototype.events={"click a":"removeView","change .currentDay":"changeCurrentDay","change .subDay":"updateModelData"},n.prototype.afterRender=function(){return this.updateModelData()},n.prototype.changeCurrentDay=function(){return this.updateModelData()},n.prototype.updateModelData=function(){var t;return t={},t[this.$currentDay.val()]=this.$subDay.val(),this.updateName(),this.model.clear(),this.model.set(t)},n.prototype.updateName=function(){return this.$subDay.attr("name","date_shift_options[day_substitutions]["+this.$currentDay.val()+"]")},n.prototype.removeView=function(t){return t.preventDefault(),this.model.collection.remove(this.model)},n.prototype.toJSON=function(){var t;return t=n.__super__.toJSON.apply(this,arguments),t.weekdays=this.weekdays(),t},n.prototype.weekdays=function(){var e;return e=o.lookup("date.day_names"),t.map(e,function(r){return{index:t.indexOf(e,r),name:r}})},n}(n.View)})}).call(this);
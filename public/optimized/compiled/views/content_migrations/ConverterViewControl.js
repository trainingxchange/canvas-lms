(function(){define(["jquery","underscore","vendor/jquery.ba-tinypubsub"],function(e,r){var i;return i=function(){function i(){}return i.subscribed=!1,i.registeredViews=[],i.getModel=function(){return this._model},i.setModel=function(e){return this._model?void 0:this._model=e},i.register=function(r){return this.registeredViews.push(r),this.subscribed?void 0:(e.subscribe("contentImportChange",this.renderView),this.subscribed=!0)},i.resetControl=function(){return this.subscribed=!1,this.registeredViews.length=0},i.getView=function(e){return r.find(i.registeredViews,function(r){return r.key===e})},i.renderView=function(e){var r,t,n,s;return n=e.value,r=e.migrationConverter,t=i.getView(n),(null!=t&&null!=(s=t.view)?s.validateBeforeSave:void 0)&&(r.validateBeforeSave=t.view.validateBeforeSave),r.renderConverter(null!=t?t.view:void 0)},i}.call(this)})}).call(this);
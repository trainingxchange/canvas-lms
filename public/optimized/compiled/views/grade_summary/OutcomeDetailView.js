(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,o=function(t,o){function i(){this.constructor=t}for(var n in o)e.call(o,n)&&(t[n]=o[n]);return i.prototype=o.prototype,t.prototype=new i,t.__super__=o.prototype,t};define(["jquery","underscore","Backbone","compiled/models/grade_summary/Outcome","compiled/collections/WrappedCollection","compiled/views/DialogBaseView","compiled/views/CollectionView","compiled/views/grade_summary/AlignmentView","compiled/views/grade_summary/ProgressBarView","jst/grade_summary/outcome_detail"],function(e,i,n,s,r,u,p,l,a,d){var c,h,m,_;return h=function(e){function i(){return this.handleAdd=t(this.handleAdd,this),this.handleReset=t(this.handleReset,this),m=i.__super__.constructor.apply(this,arguments)}return o(i,e),i.prototype.key="outcome_results",i.prototype.model=s,i.optionProperty("outcome"),i.optionProperty("user_id"),i.optionProperty("course_id"),i.prototype.url=function(){return"/api/v1/courses/"+this.course_id+"/outcome_results?user_ids[]="+this.user_id+"&outcome_ids[]="+this.outcome.id+"&include[]=alignments"},i.prototype.loadAll=!0,i.prototype.initialize=function(){return i.__super__.initialize.apply(this,arguments),this.on("reset",this.handleReset),this.on("add",this.handleAdd)},i.prototype.handleReset=function(){return this.alignments=new n.Collection(this.linked.alignments),this.each(this.handleAdd)},i.prototype.handleAdd=function(t){var e;return e=t.get("links").alignment,t.set("name",this.alignments.get(e).get("name")),t.set("mastery_points",this.outcome.get("mastery_points")),t.set("points_possible",this.outcome.get("points_possible"))},i}(r),c=function(t){function e(){return _=e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.template=d,e.optionProperty("user_id"),e.optionProperty("course_id"),e.prototype.dialogOptions=function(){return{containerId:"outcome_detail",close:this.onClose,buttons:[],width:640}},e.prototype.show=function(t){return this.model=t,this.$el.dialog("option","title",this.model.group.get("title")),this.progress=new a({model:this.model}),this.render(),e.__super__.show.apply(this,arguments)},e.prototype.render=function(){return e.__super__.render.apply(this,arguments),this.alignments=new h([],{user_id:this.user_id,course_id:this.course_id,outcome:this.model}),this.alignments.fetch(),this.alignmentsView=new p({el:this.$(".alignments"),collection:this.alignments,itemView:l})},e.prototype.onClose=function(){return window.location.hash="tab-outcomes"},e.prototype.toJSON=function(){var t;return t=e.__super__.toJSON.apply(this,arguments),i.extend(t,{progress:this.progress})},e}(u)})}).call(this);
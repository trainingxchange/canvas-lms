(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,o=function(e,o){function r(){this.constructor=e}for(var n in o)t.call(o,n)&&(e[n]=o[n]);return r.prototype=o.prototype,e.prototype=new r,e.__super__=o.prototype,e};define(["Backbone","underscore","i18n!assignments","jst/assignments/NeverDrop"],function(t,r,n,s){var u,i;return u=function(t){function u(){return this.toJSON=e(this.toJSON,this),i=u.__super__.constructor.apply(this,arguments)}return o(u,t),u.prototype.className="never_drop_rule",u.prototype.template=s,u.prototype.events={"change select":"setChosen","click .remove_never_drop":"removeNeverDrop"},u.prototype.setChosen=function(e){var t;return t=this.$(e.currentTarget),this.model.set({chosen_id:t.val(),focus:!0})},u.prototype.removeNeverDrop=function(e){return e.preventDefault(),this.model.collection.remove(this.model)},u.prototype.afterRender=function(){var e=this;return this.model.has("focus")?r.defer(function(){return e.$("select").focus(),e.model.unset("focus")}):void 0},u.prototype.toJSON=function(){var e;return e=u.__super__.toJSON.apply(this,arguments),e.buttonTitle=n.t("remove_unsaved_never_drop_rule","Remove unsaved never drop rule"),this.model.has("chosen_id")&&(e.assignments=this.model.collection.toAssignments(this.model.get("chosen_id"))),e.chosen&&(e.buttonTitle=n.t("remove_never_drop_rule","Remove never drop rule")+(" "+e.chosen)),e},u}(t.View)})}).call(this);
(function(){var e=function(e,t){return function(){return e.apply(t,arguments)}},t={}.hasOwnProperty,r=function(e,r){function i(){this.constructor=e}for(var n in r)t.call(r,n)&&(e[n]=r[n]);return i.prototype=r.prototype,e.prototype=new i,e.__super__=r.prototype,e};define(["Backbone","underscore","jquery","jst/assignments/PeerReviewsSelector","compiled/jquery/toggleAccessibly"],function(t,i,n,s){var o,a;return o=function(t){function n(){return this.toJSON=e(this.toJSON,this),this.afterRender=e(this.afterRender,this),this.handleAutomaticPeerReviewsChange=e(this.handleAutomaticPeerReviewsChange,this),this.handlePeerReviewsChange=e(this.handlePeerReviewsChange,this),a=n.__super__.constructor.apply(this,arguments)}var o,p,u,h,c,v;return r(n,t),n.prototype.template=s,c="#assignment_peer_reviews_assign_at",h="#assignment_peer_reviews",u="#assignment_manual_peer_reviews",o="#assignment_automatic_peer_reviews",v="#peer_reviews_details",p="#automatic_peer_reviews_options",n.prototype.events=function(){var e;return e={},e["change "+h]="handlePeerReviewsChange",e["change "+u]="handleAutomaticPeerReviewsChange",e["change "+o]="handleAutomaticPeerReviewsChange",e}(),n.prototype.els=function(){var e;return e={},e[""+c]="$peerReviewsAssignAt",e[""+h]="$peerReviews",e[""+v]="$peerReviewsDetails",e[""+o]="$autoPeerReviews",e[""+p]="$autoPeerReviewsOptions",e}(),n.optionProperty("parentModel"),n.optionProperty("nested"),n.prototype.handlePeerReviewsChange=function(){return this.$peerReviewsDetails.toggleAccessibly(this.$peerReviews.prop("checked"))},n.prototype.handleAutomaticPeerReviewsChange=function(){return this.$autoPeerReviewsOptions.toggleAccessibly("1"===this.$autoPeerReviews.filter(":checked").val())},n.prototype.afterRender=function(){return this.$peerReviewsAssignAt.datetime_field()},n.prototype.toJSON=function(){var e;return e=this.parentModel.frozenAttributes(),{peerReviews:this.parentModel.peerReviews(),automaticPeerReviews:this.parentModel.automaticPeerReviews(),peerReviewCount:this.parentModel.peerReviewCount(),peerReviewsAssignAt:this.parentModel.peerReviewsAssignAt(),frozenAttributes:e,peerReviewsFrozen:i.include(e,"peer_reviews"),nested:this.nested,prefix:this.nested?"assignment":void 0}},n}(t.View)})}).call(this);
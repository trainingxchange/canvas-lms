(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,i=function(t,i){function o(){this.constructor=t}for(var s in i)e.call(i,s)&&(t[s]=i[s]);return o.prototype=i.prototype,t.prototype=new o,t.__super__=i.prototype,t};define(["Backbone","underscore","jst/assignments/DueDateOverride","compiled/models/AssignmentOverride","i18n!overrides"],function(e,o,s,r){var n,u;return n=function(e){function o(){return this.validateBeforeSave=t(this.validateBeforeSave,this),this.hideAddDueDateButton=t(this.hideAddDueDateButton,this),this.showAddDueDateButton=t(this.showAddDueDateButton,this),this.getAllDates=t(this.getAllDates,this),this.getOverrides=t(this.getOverrides,this),this.sectionsWithoutOverrides=t(this.sectionsWithoutOverrides,this),this.containsSectionsWithoutOverrides=t(this.containsSectionsWithoutOverrides,this),this.getDefaultDueDate=t(this.getDefaultDueDate,this),this.updateOverrides=t(this.updateOverrides,this),this.toJSON=t(this.toJSON,this),this.shouldHideDueDate=t(this.shouldHideDueDate,this),u=o.__super__.constructor.apply(this,arguments)}return i(o,e),o.prototype.template=s,o.prototype.events={"click #add_due_date":"addDueDate"},o.prototype.className="due-date-container",o.prototype.initialize=function(){return o.__super__.initialize.apply(this,arguments),this.model.overrides.on("remove",this.showAddDueDateButton)},o.prototype.addDueDate=function(t){var e,i,o;return t.preventDefault(),i=this.model.availableSections(),e=this.model.containsSectionsWithoutOverrides()?r.defaultDueDate():new r({course_section_id:null!=(o=i[0])?o.id:void 0}),this.model.addOverride(e),this.shouldHideDueDate()?this.hideAddDueDateButton():void 0},o.prototype.shouldHideDueDate=function(){return this.model.availableSections().length<=1},o.prototype.toJSON=function(){var t;return t=o.__super__.toJSON.apply(this,arguments),t.shouldHideDueDate=this.shouldHideDueDate(),t},o.prototype.updateOverrides=function(){return this.options.views["due-date-overrides"].updateOverrides()},o.prototype.getDefaultDueDate=function(){return this.model.getDefaultDueDate()},o.prototype.containsSectionsWithoutOverrides=function(){return this.model.containsSectionsWithoutOverrides()},o.prototype.sectionsWithoutOverrides=function(){return this.model.sectionsWithoutOverrides()},o.prototype.getOverrides=function(){return this.model.overrides.toJSON()},o.prototype.getAllDates=function(t){return t||(t={}),this.getOverrides().concat(t)},o.prototype.showAddDueDateButton=function(){return this.$el.find("#add_due_date").show()},o.prototype.hideAddDueDateButton=function(){return this.$el.find("#add_due_date").hide()},o.prototype.validateBeforeSave=function(t,e){return this.options.views["due-date-overrides"].validateBeforeSave(t,e),e},o}(e.View)})}).call(this);
(function(){var t={}.hasOwnProperty,e=function(e,r){function s(){this.constructor=e}for(var i in r)t.call(r,i)&&(e[i]=r[i]);return s.prototype=r.prototype,e.prototype=new s,e.__super__=r.prototype,e};define(["Backbone","jquery","underscore","str/htmlEscape","jst/FindFlickrImageView","jst/FindFlickrImageResult"],function(t,r,s,i,o,c){var n,a;return n=function(t){function i(){return a=i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.tagName="form",i.prototype.attributes={"class":"bootstrap-form form-horizontal FindFlickrImageView"},i.prototype.template=o,i.prototype.events={submit:"searchFlickr","change .flickrSearchTerm":"hideResultsIfEmptySearch","input .flickrSearchTerm":"hideResultsIfEmptySearch"},i.prototype.hideResultsIfEmptySearch=function(){return this.$(".flickrSearchTerm").val()?void 0:this.renderResults([])},i.prototype.searchFlickr=function(t){var e,s,i,o=this;return null!=t&&t.preventDefault(),(s=this.$(".flickrSearchTerm").val())?(this.flickrUrl&&(e=""+this.flickrUrl+"/"+s),e||(e="https://secure.flickr.com/services/rest/?method=flickr.photos.search&format=json&api_key=734839aadcaa224c4e043eaf74391e50&sort=relevance&license=1,2,3,4,5,6"+("&text="+s+"&per_page=150&jsoncallback=?")),null!=(i=this.request)&&i.abort(),this.$(".flickrResults").show().disableWhileLoading(this.request=r.getJSON(e,function(t){var e;return e=t.photos.photo,o.renderResults(e)}))):void 0},i.prototype.renderResults=function(t){var e;return e=s.map(t,function(t){return c({thumb:"https://farm"+t.farm+".static.flickr.com/"+t.server+"/"+t.id+"_"+t.secret+"_s.jpg",fullsize:"https://farm"+t.farm+".static.flickr.com/"+t.server+"/"+t.id+"_"+t.secret+".jpg",source:"https://secure.flickr.com/photos/"+t.owner+"/"+t.id,title:t.title})}),this.$(".flickrResults").showIf(!!t.length).html(e.join(""))},i}(t.View)})}).call(this);
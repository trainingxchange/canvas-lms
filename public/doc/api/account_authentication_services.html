<!DOCTYPE html>
<html>
  <head>
    <meta name="Content-Type" content="text/html;charset=UTF-8">
<meta charset="UTF-8">
<title>Canvas LMS REST API Documentation</title>
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />
<link href="css/shThemeDefault.css" rel="stylesheet" type="text/css" />
<script src="js/shCore.js" type="text/javascript"></script>
<script src="js/jquery.min.js" type="text/javascript"></script>
<script src="js/shAutoloader.js" type="text/javascript"></script>
<script src="js/shBrushJScript.js" type="text/javascript"></script>

  </head>
  <body>
    <div id="header">
      <h1>
  <a href="index.html">Canvas LMS - REST API and Extensions Documentation</a>
</h1>

    </div>

    <div id="sidebar">
      <nav>
  <h2 class='first'>Basics</h2>
  <a href="file.oauth.html" class="">OAuth</a>
  <a href="file.object_ids.html" class="">SIS IDs</a>
  <a href="file.pagination.html" class="">Pagination</a>
  <a href="file.compound_documents.html" class="">Compound Documents</a>
  <a href="file.file_uploads.html" class="">File Uploads</a>
  <a href="file.endpoint_attributes.html" class="">API Endpoint Attributes</a>
  <a href="file.masquerading.html" class="">Masquerading</a>
  <h2>Resources</h2>
  <a  href="all_resources.html">All Resources Reference</a>
  
    
    <a class="current" href="account_authentication_services.html">Account Authentication Services</a>
  
    
    <a class="" href="account_notifications.html">Account Notifications</a>
  
    
    <a class="" href="account_reports.html">Account Reports</a>
  
    
    <a class="" href="accounts.html">Accounts</a>
  
    
    <a class="" href="admins.html">Admins</a>
  
    
    <a class="" href="announcement_external_feeds.html">Announcement External Feeds</a>
  
    
    <a class="" href="appointment_groups.html">Appointment Groups</a>
  
    
    <a class="" href="assignment_groups.html">Assignment Groups</a>
  
    
    <a class="" href="assignments.html">Assignments</a>
  
    
    <a class="" href="authentications_log.html">Authentications Log</a>
  
    
    <a class="" href="calendar_events.html">Calendar Events</a>
  
    
    <a class="" href="collaborations.html">Collaborations</a>
  
    
    <a class="" href="comm_messages.html">CommMessages</a>
  
    
    <a class="" href="communication_channels.html">Communication Channels</a>
  
    
    <a class="" href="conferences.html">Conferences</a>
  
    
    <a class="" href="content_exports.html">Content Exports</a>
  
    
    <a class="" href="content_migrations.html">Content Migrations</a>
  
    
    <a class="" href="conversations.html">Conversations</a>
  
    
    <a class="" href="course_audit_log.html">Course Audit log</a>
  
    
    <a class="" href="courses.html">Courses</a>
  
    
    <a class="" href="custom_gradebook_columns.html">Custom Gradebook Columns</a>
  
    
    <a class="" href="discussion_topics.html">Discussion Topics</a>
  
    
    <a class="" href="enrollment_terms.html">Enrollment Terms</a>
  
    
    <a class="" href="enrollments.html">Enrollments</a>
  
    
    <a class="" href="external_tools.html">External Tools</a>
  
    
    <a class="" href="favorites.html">Favorites</a>
  
    
    <a class="" href="feature_flags.html">Feature Flags</a>
  
    
    <a class="" href="files.html">Files</a>
  
    
    <a class="" href="grade_change_log.html">Grade Change Log</a>
  
    
    <a class="" href="gradebook_history.html">Gradebook History</a>
  
    
    <a class="" href="grading_standards.html">Grading Standards</a>
  
    
    <a class="" href="group_categories.html">Group Categories</a>
  
    
    <a class="" href="groups.html">Groups</a>
  
    
    <a class="" href="live_assessments.html">LiveAssessments</a>
  
    
    <a class="" href="logins.html">Logins</a>
  
    
    <a class="" href="modules.html">Modules</a>
  
    
    <a class="" href="notification_preferences.html">Notification Preferences</a>
  
    
    <a class="" href="outcome_groups.html">Outcome Groups</a>
  
    
    <a class="" href="outcome_results.html">Outcome Results</a>
  
    
    <a class="" href="outcomes.html">Outcomes</a>
  
    
    <a class="" href="pages.html">Pages</a>
  
    
    <a class="" href="poll_sessions.html">Poll Sessions</a>
  
    
    <a class="" href="poll_choices.html">PollChoices</a>
  
    
    <a class="" href="poll_submissions.html">PollSubmissions</a>
  
    
    <a class="" href="polls.html">Polls</a>
  
    
    <a class="" href="progress.html">Progress</a>
  
    
    <a class="" href="quiz_extensions.html">Quiz Extensions</a>
  
    
    <a class="" href="quiz_ip_filters.html">Quiz IP Filters</a>
  
    
    <a class="" href="quiz_question_groups.html">Quiz Question Groups</a>
  
    
    <a class="" href="quiz_reports.html">Quiz Reports</a>
  
    
    <a class="" href="quiz_statistics.html">Quiz Statistics</a>
  
    
    <a class="" href="quiz_submission_files.html">Quiz Submission Files</a>
  
    
    <a class="" href="quiz_submission_questions.html">Quiz Submission Questions</a>
  
    
    <a class="" href="quiz_submissions.html">Quiz Submissions</a>
  
    
    <a class="" href="quiz_questions.html">QuizQuestions</a>
  
    
    <a class="" href="quizzes.html">Quizzes</a>
  
    
    <a class="" href="roles.html">Roles</a>
  
    
    <a class="" href="sis_imports.html">SIS Imports</a>
  
    
    <a class="" href="search.html">Search</a>
  
    
    <a class="" href="sections.html">Sections</a>
  
    
    <a class="" href="services.html">Services</a>
  
    
    <a class="" href="submission_comments.html">Submission Comments</a>
  
    
    <a class="" href="submissions.html">Submissions</a>
  
    
    <a class="" href="tabs.html">Tabs</a>
  
    
    <a class="" href="user_observees.html">User Observees</a>
  
    
    <a class="" href="users.html">Users</a>
  
  <h2>SIS</h2>
  <a href="file.sis_csv.html" class="">SIS CSV Format</a>
  <h2>External Tools</h2>
  <a href="file.tools_intro.html" class="">Introduction</a>
  <a href="file.assignment_tools.html" class="">Grading</a>
  <a href="file.navigation_tools.html" class="">Navigation</a>
  <a href="file.editor_button_tools.html" class="">Rich Editor</a>
  <a href="file.link_selection_tools.html" class="">Link Selection</a>
  <a href="file.homework_submission_tools.html" class="">Homework Submission</a>
  <a href="file.tools_xml.html" class="">Configuring</a>
</nav>

    </div>

    <div id="content"><div class="service">
  
    <h1>Account Authentication Services API</h1>
  
  
  <table id='quicklinks'>
  </table>
  



  <div class='object_definition'>
  <h3><a name="AccountAuthorizationConfig">An AccountAuthorizationConfig object looks like:</a></h3>
<pre class="example code brush:js">
{
  
  //Valid for SAML and CAS authorization.
  &quot;login_handle_name&quot;: &quot;&quot;,
  
  //Valid for SAML authorization.
  &quot;identifier_format&quot;: &quot;urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&quot;,
  
  //Valid for SAML, LDAP and CAS authorization.
  &quot;auth_type&quot;: &quot;saml&quot;,
  
  //Valid for SAML, LDAP and CAS authorization.
  &quot;id&quot;: 1649,
  
  //Valid for SAML authorization.
  &quot;log_out_url&quot;: &quot;http://example.com/saml1/slo&quot;,
  
  //Valid for SAML and CAS authorization.
  &quot;log_in_url&quot;: &quot;http://example.com/saml1/sli&quot;,
  
  //Valid for SAML authorization.
  &quot;certificate_fingerprint&quot;: &quot;111222&quot;,
  
  //Valid for SAML authorization.
  &quot;change_password_url&quot;: &quot;&quot;,
  
  //Valid for SAML authorization.
  &quot;requested_authn_context&quot;: &quot;&quot;,
  
  //Valid for LDAP authorization.
  &quot;auth_host&quot;: &quot;127.0.0.1&quot;,
  
  //Valid for LDAP authorization.
  &quot;auth_filter&quot;: &quot;filter1&quot;,
  
  //Valid for LDAP authorization.
  &quot;auth_over_tls&quot;: ,
  
  //Valid for LDAP and CAS authorization.
  &quot;auth_base&quot;: &quot;&quot;,
  
  //Valid for LDAP authorization.
  &quot;auth_username&quot;: &quot;username1&quot;,
  
  //Valid for LDAP authorization.
  &quot;auth_port&quot;: ,
  
  //Valid for SAML, LDAP and CAS authorization.
  &quot;position&quot;: 1,
  
  //Valid for SAML authorization.
  &quot;idp_entity_id&quot;: &quot;http://example.com/saml1&quot;,
  
  //Valid for SAML authorization.
  &quot;login_attribute&quot;: &quot;nameid&quot;
}
</pre>
  </div>


  <div class='object_definition'>
  <h3><a name="DiscoveryUrl">A DiscoveryUrl object looks like:</a></h3>
<pre class="example code brush:js">
{
  
  &quot;discovery_url&quot;: &quot;http://...&quot;
}
</pre>
  </div>

<div id="Services" class="method_details_list">

  <div class="method_details first">
  <h2 class='api_method_name' name='method.account_authorization_configs.index' data-subtopic='Account Authentication Services'>
    <a name='method.account_authorization_configs.index' href='#method.account_authorization_configs.index'>
      List Authorization Configs
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/account_authorization_configs_controller.rb">AccountAuthorizationConfigsController#index</a></span>
    
  </h2>
  
  
  
  <h3 class='endpoint'>
    GET /api/v1/accounts/:account_id/account_authorization_configs
  </h3>


<p>Returns the list of authorization configs</p>


  <div class="examples">
    <h4>Example Request:</h4>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">curl 'https://&lt;canvas&gt;/api/v1/accounts/&lt;account_id&gt;/account_authorization_configs' \
     -H 'Authorization: Bearer &lt;token&gt;'</pre>
    
  </div>



  Returns a list of 

<a href='account_authentication_services.html#AccountAuthorizationConfig'>AccountAuthorizationConfigs</a>

</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.account_authorization_configs.create' data-subtopic='Account Authentication Services'>
    <a name='method.account_authorization_configs.create' href='#method.account_authorization_configs.create'>
      Create Authorization Config
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/account_authorization_configs_controller.rb">AccountAuthorizationConfigsController#create</a></span>
    
  </h2>
  
  
  
  <h3 class='endpoint'>
    POST /api/v1/accounts/:account_id/account_authorization_configs
  </h3>


<p>Add external account authentication service(s) for the account. Services
may be CAS, SAML, or LDAP.</p>

<p>Each authentication service is specified as a set of parameters as
described below. A service specification must include an 'auth_type'
parameter with a value of 'cas', 'saml', or 'ldap'. The other recognized
parameters depend on this auth_type; unrecognized parameters are discarded.
Service specifications not specifying a valid auth_type are ignored.</p>

<p>Any service specification may include an optional 'login_handle_name'
parameter. This parameter specifies the label used for unique login
identifiers; for example: 'Login', 'Username', 'Student ID', etc. The
default is 'Email'.</p>

<p>You can set the 'position' for any configuration. The config in the 1st
position is considered the default.</p>

<p>For CAS authentication services, the additional recognized parameters are:</p>
<ul><li>
<p>auth_base</p>

<p>The CAS server's URL.</p>
</li><li>
<p>log_in_url [Optional]</p>

<p>An alternate SSO URL for logging into CAS. You probably should not set
this.</p>
</li></ul>

<p>For SAML authentication services, the additional recognized parameters are:</p>
<ul><li>
<p>idp_entity_id</p>

<p>The SAML IdP's entity ID - This is used to look up the correct SAML IdP if
multiple are configured</p>
</li><li>
<p>log_in_url</p>

<p>The SAML service's SSO target URL</p>
</li><li>
<p>log_out_url</p>

<p>The SAML service's SLO target URL</p>
</li><li>
<p>certificate_fingerprint</p>

<p>The SAML service's certificate fingerprint.</p>
</li><li>
<p>change_password_url [Optional]</p>

<p>Forgot Password URL. Leave blank for default Canvas behavior.</p>
</li><li>
<p>identifier_format</p>

<p>The SAML service's identifier format. Must be one of:</p>
<ul><li>
<p>urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress</p>
</li><li>
<p>urn:oasis:names:tc:SAML:2.0:nameid-format:entity</p>
</li><li>
<p>urn:oasis:names:tc:SAML:2.0:nameid-format:kerberos</p>
</li><li>
<p>urn:oasis:names:tc:SAML:2.0:nameid-format:persistent</p>
</li><li>
<p>urn:oasis:names:tc:SAML:2.0:nameid-format:transient</p>
</li><li>
<p>urn:oasis:names:tc:SAML:1.1:nameid-format:unspecified</p>
</li><li>
<p>urn:oasis:names:tc:SAML:1.1:nameid-format:WindowsDomainQualifiedName</p>
</li><li>
<p>urn:oasis:names:tc:SAML:1.1:nameid-format:X509SubjectName</p>
</li></ul>
</li><li>
<p>requested_authn_context</p>

<p>The SAML AuthnContext</p>
</li></ul>

<p>For LDAP authentication services, the additional recognized parameters are:</p>
<ul><li>
<p>auth_host</p>

<p>The LDAP server's URL.</p>
</li><li>
<p>auth_port [Optional, Integer]</p>

<p>The LDAP server's TCP port. (default: 389)</p>
</li><li>
<p>auth_over_tls [Optional]</p>

<p>Whether to use TLS. Can be ", 'simple_tls', or 'start_tls'. For backwards
compatibility, booleans are also accepted, with true meaning simple_tls. If
not provided, it will default to start_tls.</p>
</li><li>
<p>auth_base [Optional]</p>

<p>A default treebase parameter for searches performed against the LDAP
server.</p>
</li><li>
<p>auth_filter</p>

<p>LDAP search filter. Use {{login}} as a placeholder for the username
supplied by the user. For example: "(sAMAccountName={{login}})".</p>
</li><li>
<p>identifier_format [Optional]</p>

<p>The LDAP attribute to use to look up the Canvas login. Omit to use the
username supplied by the user.</p>
</li><li>
<p>auth_username</p>

<p>Username</p>
</li><li>
<p>auth_password</p>

<p>Password</p>
</li><li>
<p>change_password_url [Optional]</p>

<p>Forgot Password URL. Leave blank for default Canvas behavior.</p>
</li><li>
<p><a href="http://n">account_authorization_config</a> (deprecated) The nth
service specification as described above. For instance, the auth_type of
the first service is given by the <a
href="http://0">account_authorization_config</a>[auth_type] parameter.
There must be either a single CAS or SAML specification, or one or more
LDAP specifications. Additional services after an initial CAS or SAML
service are ignored; additional non-LDAP services after an initial LDAP
service are ignored.</p>
</li></ul>

<p><em>Deprecated</em> Examples:</p>

<p>This endpoint still supports a deprecated version of setting the
authorization configs. If you send data in this format it is considered a
snapshot of how the configs should be setup and will clear any configs not
sent.</p>

<p>Simple CAS server integration.</p>

<pre class="code ruby"><code><span class='id identifier rubyid_account_authorization_config'>account_authorization_config</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_auth_type'>auth_type</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_cas'>cas</span><span class='op'>&amp;</span>
<span class='id identifier rubyid_account_authorization_config'>account_authorization_config</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_auth_base'>auth_base</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_cas'>cas</span><span class='period'>.</span><span class='id identifier rubyid_mydomain'>mydomain</span><span class='period'>.</span><span class='id identifier rubyid_edu'>edu</span></code></pre>

<p>Single SAML server integration.</p>

<pre class="code ruby"><code>account_authorization_config[0][idp_entity_id]=http://idp.myschool.com/sso/saml2
account_authorization_config[0][log_in_url]=saml-sso.mydomain.com&amp;
account_authorization_config[0][log_out_url]=saml-slo.mydomain.com&amp;
account_authorization_config[0][certificate_fingerprint]=1234567890ABCDEF&amp;
account_authorization_config[0][identifier_format]=urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress</code></pre>

<p>Two SAML server integration with discovery url.</p>

<pre class="code ruby"><code>discovery_url=http://www.myschool.com/sso/identity_provider_selection
account_authorization_config[0][idp_entity_id]=http://idp.myschool.com/sso/saml2&amp;
account_authorization_config[0][log_in_url]=saml-sso.mydomain.com&amp;
account_authorization_config[0][log_out_url]=saml-slo.mydomain.com&amp;
account_authorization_config[0][certificate_fingerprint]=1234567890ABCDEF&amp;
account_authorization_config[0][identifier_format]=urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress&amp;
account_authorization_config[1][idp_entity_id]=http://idp.otherschool.com/sso/saml2&amp;
account_authorization_config[1][log_in_url]=saml-sso.otherdomain.com&amp;
account_authorization_config[1][log_out_url]=saml-slo.otherdomain.com&amp;
account_authorization_config[1][certificate_fingerprint]=ABCDEFG12345678789&amp;
account_authorization_config[1][identifier_format]=urn:oasis:names:tc:SAML:1.1:nameid-format:emailAddress</code></pre>

<p>Single LDAP server integration.</p>

<pre class="code ruby"><code>account_authorization_config[0][auth_type]=ldap&amp;
account_authorization_config[0][auth_host]=ldap.mydomain.edu&amp;
account_authorization_config[0][auth_filter]=(sAMAccountName={{login}})&amp;
account_authorization_config[0][auth_username]=username&amp;
account_authorization_config[0][auth_password]=password</code></pre>

<p>Multiple LDAP server integration.</p>

<pre class="code ruby"><code>account_authorization_config[0][auth_type]=ldap&amp;
account_authorization_config[0][auth_host]=faculty-ldap.mydomain.edu&amp;
account_authorization_config[0][auth_filter]=(sAMAccountName={{login}})&amp;
account_authorization_config[0][auth_username]=username&amp;
account_authorization_config[0][auth_password]=password&amp;
account_authorization_config[1][auth_type]=ldap&amp;
account_authorization_config[1][auth_host]=student-ldap.mydomain.edu&amp;
account_authorization_config[1][auth_filter]=(sAMAccountName={{login}})&amp;
account_authorization_config[1][auth_username]=username&amp;
account_authorization_config[1][auth_password]=password</code></pre>


  <div class="examples">
    <h4>Example Request:</h4>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code"># Create LDAP config
curl 'https://&lt;canvas&gt;/api/v1/accounts/&lt;account_id&gt;/account_authorization_configs' \
     -F 'auth_type=ldap' \ 
     -F 'auth_host=ldap.mydomain.edu' \ 
     -F 'auth_filter=(sAMAccountName={{login}})' \ 
     -F 'auth_username=username' \ 
     -F 'auth_password=bestpasswordever' \ 
     -F 'position=1' \ 
     -H 'Authorization: Bearer &lt;token&gt;'</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code"># Create SAML config
curl 'https://&lt;canvas&gt;/api/v1/accounts/&lt;account_id&gt;/account_authorization_configs' \
     -F 'auth_type=saml' \ 
     -F 'idp_entity_id=&lt;idp_entity_id&gt;' \ 
     -F 'log_in_url=&lt;login_url&gt;' \ 
     -F 'log_out_url=&lt;logout_url&gt;' \ 
     -F 'certificate_fingerprint=&lt;fingerprint&gt;' \ 
     -H 'Authorization: Bearer &lt;token&gt;'</pre>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code"># Create CAS config
curl 'https://&lt;canvas&gt;/api/v1/accounts/&lt;account_id&gt;/account_authorization_configs' \
     -F 'auth_type=cas' \ 
     -F 'auth_base=cas.mydomain.edu' \ 
     -F 'log_in_url=&lt;login_url&gt;' \ 
     -H 'Authorization: Bearer &lt;token&gt;'</pre>
    
  </div>



  Returns a 

<a href='account_authentication_services.html#AccountAuthorizationConfig'>AccountAuthorizationConfig</a>

</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.account_authorization_configs.update' data-subtopic='Account Authentication Services'>
    <a name='method.account_authorization_configs.update' href='#method.account_authorization_configs.update'>
      Update Authorization Config
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/account_authorization_configs_controller.rb">AccountAuthorizationConfigsController#update</a></span>
    
  </h2>
  
  
  
  <h3 class='endpoint'>
    PUT /api/v1/accounts/:account_id/account_authorization_configs/:id
  </h3>


<p>Update an authorization config using the same options as the create
endpoint. You can not update an existing configuration to a new
authentication type.</p>


  <div class="examples">
    <h4>Example Request:</h4>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code"># update SAML config
curl -XPUT 'https://&lt;canvas&gt;/api/v1/accounts/&lt;account_id&gt;/account_authorization_configs/&lt;id&gt;' \
     -F 'idp_entity_id=&lt;new_idp_entity_id&gt;' \ 
     -F 'log_in_url=&lt;new_url&gt;' \ 
     -H 'Authorization: Bearer &lt;token&gt;'</pre>
    
  </div>



  Returns a 

<a href='account_authentication_services.html#AccountAuthorizationConfig'>AccountAuthorizationConfig</a>

</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.account_authorization_configs.show' data-subtopic='Account Authentication Services'>
    <a name='method.account_authorization_configs.show' href='#method.account_authorization_configs.show'>
      Get Authorization Config
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/account_authorization_configs_controller.rb">AccountAuthorizationConfigsController#show</a></span>
    
  </h2>
  
  
  
  <h3 class='endpoint'>
    GET /api/v1/accounts/:account_id/account_authorization_configs/:id
  </h3>


<p>Get the specified authorization config</p>


  <div class="examples">
    <h4>Example Request:</h4>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">curl 'https://&lt;canvas&gt;/api/v1/accounts/&lt;account_id&gt;/account_authorization_configs/&lt;id&gt;' \
     -H 'Authorization: Bearer &lt;token&gt;'</pre>
    
  </div>



  Returns a 

<a href='account_authentication_services.html#AccountAuthorizationConfig'>AccountAuthorizationConfig</a>

</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.account_authorization_configs.destroy' data-subtopic='Account Authentication Services'>
    <a name='method.account_authorization_configs.destroy' href='#method.account_authorization_configs.destroy'>
      Delete Authorization Config
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/account_authorization_configs_controller.rb">AccountAuthorizationConfigsController#destroy</a></span>
    
  </h2>
  
  
  
  <h3 class='endpoint'>
    DELETE /api/v1/accounts/:account_id/account_authorization_configs/:id
  </h3>


<p>Delete the config</p>


  <div class="examples">
    <h4>Example Request:</h4>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">curl -XDELETE 'https://&lt;canvas&gt;/api/v1/accounts/&lt;account_id&gt;/account_authorization_configs/&lt;id&gt;' \
     -H 'Authorization: Bearer &lt;token&gt;'</pre>
    
  </div>



</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.account_authorization_configs.show_discovery_url' data-subtopic='Account Authentication Services'>
    <a name='method.account_authorization_configs.show_discovery_url' href='#method.account_authorization_configs.show_discovery_url'>
      GET discovery url
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/account_authorization_configs_controller.rb">AccountAuthorizationConfigsController#show_discovery_url</a></span>
    
  </h2>
  
  
  
  <h3 class='endpoint'>
    GET /api/v1/accounts/:account_id/account_authorization_configs/discovery_url
  </h3>


<p>Get the discovery url</p>


  <div class="examples">
    <h4>Example Request:</h4>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">curl 'https://&lt;canvas&gt;/api/v1/accounts/&lt;account_id&gt;/account_authorization_configs/discovery_url' \
     -H 'Authorization: Bearer &lt;token&gt;'</pre>
    
  </div>



  Returns a 

<a href='account_authentication_services.html#DiscoveryUrl'>DiscoveryUrl</a>

</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.account_authorization_configs.update_discovery_url' data-subtopic='Account Authentication Services'>
    <a name='method.account_authorization_configs.update_discovery_url' href='#method.account_authorization_configs.update_discovery_url'>
      Set discovery url
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/account_authorization_configs_controller.rb">AccountAuthorizationConfigsController#update_discovery_url</a></span>
    
  </h2>
  
  
  
  <h3 class='endpoint'>
    PUT /api/v1/accounts/:account_id/account_authorization_configs/discovery_url
  </h3>


<p>If you have multiple IdPs configured, you can set a `discovery_url`. If
that is set, canvas will forward all users to that URL when they need to be
authenticated. That page will need to then help the user figure out where
they need to go to log in.</p>

<p>If no discovery url is configured, the 1st auth config will be used to 
attempt to authenticate the user.</p>


  <div class="examples">
    <h4>Example Request:</h4>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">curl -XPUT 'https://&lt;canvas&gt;/api/v1/accounts/&lt;account_id&gt;/account_authorization_configs/discovery_url' \
     -F 'discovery_url=&lt;new_url&gt;' \ 
     -H 'Authorization: Bearer &lt;token&gt;'</pre>
    
  </div>



  Returns a 

<a href='account_authentication_services.html#DiscoveryUrl'>DiscoveryUrl</a>

</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.account_authorization_configs.destroy_discovery_url' data-subtopic='Account Authentication Services'>
    <a name='method.account_authorization_configs.destroy_discovery_url' href='#method.account_authorization_configs.destroy_discovery_url'>
      Delete discovery url
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/account_authorization_configs_controller.rb">AccountAuthorizationConfigsController#destroy_discovery_url</a></span>
    
  </h2>
  
  
  
  <h3 class='endpoint'>
    DELETE /api/v1/accounts/:account_id/account_authorization_configs/discovery_url
  </h3>


<p>Clear discovery url</p>


  <div class="examples">
    <h4>Example Request:</h4>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">curl -XDELETE 'https://&lt;canvas&gt;/api/v1/accounts/&lt;account_id&gt;/account_authorization_configs/discovery_url' \
     -H 'Authorization: Bearer &lt;token&gt;'</pre>
    
  </div>



</div>


</div>

</div>
</div>

    <script type="text/javascript">
  $('h2.api_method_name').each(function(i, el) {
    var subtopic = $(el).data('subtopic');
    var $a = $(el).find('a');
    if ($.trim($a[0].innerHTML) == '')
      return;
    var $row = $('table#quicklinks tr').filter(function() { return $(this).data('subtopic') == subtopic; });
    if ($row.length == 0) {
      $row = $('<tr/>').appendTo($('table#quicklinks'));
      $row.data('subtopic', subtopic);
      $('<th/>').append(subtopic).appendTo($row);
      $('<td/>').appendTo($row);
    }
    var link = $('<a/>').attr('href', '#'+$(el).attr('name')).append($.trim($a[0].innerHTML));
    $row.find('td').append(link);
  });

  SyntaxHighlighter.defaults['gutter'] = false;
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.defaults['auto-links'] = false;
  $('#content pre.code.javascript code').each(function(i, el) {
    $(el).parent().addClass('brush: js');
    $(el).replaceWith(el.innerHTML);
  });
  SyntaxHighlighter.all();
</script>
<div id="footer">
  &copy; Instructure, Inc. Generated on Fri Aug 29 18:40:22 2014<br>
  This documentation is generated directly from the Canvas LMS source code, available <a href="https://github.com/instructure/canvas-lms">on Github</a>.
</div>

  </body>
</html>

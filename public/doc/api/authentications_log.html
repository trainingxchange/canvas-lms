<!DOCTYPE html>
<html>
  <head>
    <meta name="Content-Type" content="text/html;charset=UTF-8">
<meta charset="UTF-8">
<title>Canvas LMS REST API Documentation</title>
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />
<link href="css/shThemeDefault.css" rel="stylesheet" type="text/css" />
<script src="js/shCore.js" type="text/javascript"></script>
<script src="js/jquery.min.js" type="text/javascript"></script>
<script src="js/shAutoloader.js" type="text/javascript"></script>
<script src="js/shBrushJScript.js" type="text/javascript"></script>

  </head>
  <body>
    <div id="header">
      <h1>
  <a href="index.html">Canvas LMS - REST API and Extensions Documentation</a>
</h1>

    </div>

    <div id="sidebar">
      <nav>
  <h2 class='first'>Basics</h2>
  <a href="file.oauth.html" class="">OAuth</a>
  <a href="file.object_ids.html" class="">SIS IDs</a>
  <a href="file.pagination.html" class="">Pagination</a>
  <a href="file.compound_documents.html" class="">Compound Documents</a>
  <a href="file.file_uploads.html" class="">File Uploads</a>
  <a href="file.endpoint_attributes.html" class="">API Endpoint Attributes</a>
  <a href="file.masquerading.html" class="">Masquerading</a>
  <h2>Resources</h2>
  <a  href="all_resources.html">All Resources Reference</a>
  
    
    <a class="" href="account_authentication_services.html">Account Authentication Services</a>
  
    
    <a class="" href="account_notifications.html">Account Notifications</a>
  
    
    <a class="" href="account_reports.html">Account Reports</a>
  
    
    <a class="" href="accounts.html">Accounts</a>
  
    
    <a class="" href="admins.html">Admins</a>
  
    
    <a class="" href="announcement_external_feeds.html">Announcement External Feeds</a>
  
    
    <a class="" href="appointment_groups.html">Appointment Groups</a>
  
    
    <a class="" href="assignment_groups.html">Assignment Groups</a>
  
    
    <a class="" href="assignments.html">Assignments</a>
  
    
    <a class="current" href="authentications_log.html">Authentications Log</a>
  
    
    <a class="" href="calendar_events.html">Calendar Events</a>
  
    
    <a class="" href="collaborations.html">Collaborations</a>
  
    
    <a class="" href="comm_messages.html">CommMessages</a>
  
    
    <a class="" href="communication_channels.html">Communication Channels</a>
  
    
    <a class="" href="conferences.html">Conferences</a>
  
    
    <a class="" href="content_exports.html">Content Exports</a>
  
    
    <a class="" href="content_migrations.html">Content Migrations</a>
  
    
    <a class="" href="conversations.html">Conversations</a>
  
    
    <a class="" href="course_audit_log.html">Course Audit log</a>
  
    
    <a class="" href="courses.html">Courses</a>
  
    
    <a class="" href="custom_gradebook_columns.html">Custom Gradebook Columns</a>
  
    
    <a class="" href="discussion_topics.html">Discussion Topics</a>
  
    
    <a class="" href="enrollment_terms.html">Enrollment Terms</a>
  
    
    <a class="" href="enrollments.html">Enrollments</a>
  
    
    <a class="" href="external_tools.html">External Tools</a>
  
    
    <a class="" href="favorites.html">Favorites</a>
  
    
    <a class="" href="feature_flags.html">Feature Flags</a>
  
    
    <a class="" href="files.html">Files</a>
  
    
    <a class="" href="grade_change_log.html">Grade Change Log</a>
  
    
    <a class="" href="gradebook_history.html">Gradebook History</a>
  
    
    <a class="" href="grading_standards.html">Grading Standards</a>
  
    
    <a class="" href="group_categories.html">Group Categories</a>
  
    
    <a class="" href="groups.html">Groups</a>
  
    
    <a class="" href="live_assessments.html">LiveAssessments</a>
  
    
    <a class="" href="logins.html">Logins</a>
  
    
    <a class="" href="modules.html">Modules</a>
  
    
    <a class="" href="notification_preferences.html">Notification Preferences</a>
  
    
    <a class="" href="outcome_groups.html">Outcome Groups</a>
  
    
    <a class="" href="outcome_results.html">Outcome Results</a>
  
    
    <a class="" href="outcomes.html">Outcomes</a>
  
    
    <a class="" href="pages.html">Pages</a>
  
    
    <a class="" href="poll_sessions.html">Poll Sessions</a>
  
    
    <a class="" href="poll_choices.html">PollChoices</a>
  
    
    <a class="" href="poll_submissions.html">PollSubmissions</a>
  
    
    <a class="" href="polls.html">Polls</a>
  
    
    <a class="" href="progress.html">Progress</a>
  
    
    <a class="" href="quiz_extensions.html">Quiz Extensions</a>
  
    
    <a class="" href="quiz_ip_filters.html">Quiz IP Filters</a>
  
    
    <a class="" href="quiz_question_groups.html">Quiz Question Groups</a>
  
    
    <a class="" href="quiz_reports.html">Quiz Reports</a>
  
    
    <a class="" href="quiz_statistics.html">Quiz Statistics</a>
  
    
    <a class="" href="quiz_submission_files.html">Quiz Submission Files</a>
  
    
    <a class="" href="quiz_submission_questions.html">Quiz Submission Questions</a>
  
    
    <a class="" href="quiz_submissions.html">Quiz Submissions</a>
  
    
    <a class="" href="quiz_questions.html">QuizQuestions</a>
  
    
    <a class="" href="quizzes.html">Quizzes</a>
  
    
    <a class="" href="roles.html">Roles</a>
  
    
    <a class="" href="sis_imports.html">SIS Imports</a>
  
    
    <a class="" href="search.html">Search</a>
  
    
    <a class="" href="sections.html">Sections</a>
  
    
    <a class="" href="services.html">Services</a>
  
    
    <a class="" href="submission_comments.html">Submission Comments</a>
  
    
    <a class="" href="submissions.html">Submissions</a>
  
    
    <a class="" href="tabs.html">Tabs</a>
  
    
    <a class="" href="user_observees.html">User Observees</a>
  
    
    <a class="" href="users.html">Users</a>
  
  <h2>SIS</h2>
  <a href="file.sis_csv.html" class="">SIS CSV Format</a>
  <h2>External Tools</h2>
  <a href="file.tools_intro.html" class="">Introduction</a>
  <a href="file.assignment_tools.html" class="">Grading</a>
  <a href="file.navigation_tools.html" class="">Navigation</a>
  <a href="file.editor_button_tools.html" class="">Rich Editor</a>
  <a href="file.link_selection_tools.html" class="">Link Selection</a>
  <a href="file.homework_submission_tools.html" class="">Homework Submission</a>
  <a href="file.tools_xml.html" class="">Configuring</a>
</nav>

    </div>

    <div id="content"><div class="service">
  
    <h1>Authentications Log API</h1>
  
  
  <table id='quicklinks'>
  </table>
  <p>Query audit log of authentication events (logins and logouts).</p>

<p>Only available if the server has configured audit logs; will return 404 Not
Found response otherwise.</p>

<p>For each endpoint, a compound document is returned. The primary collection of
event objects is paginated, ordered by date descending. Secondary collections
of logins, accounts, page views, and users related to the returned events
are also included. Refer to the Logins, Accounts, Page Views, and Users APIs
for descriptions of the objects in those collections.</p>




  <div class='object_definition'>
  <h3><a name="AuthenticationEvent">An AuthenticationEvent object looks like:</a></h3>
<pre class="example code brush:js">
{
  
  //timestamp of the event
  &quot;created_at&quot;: &quot;2012-07-19T15:00:00-06:00&quot;,
  
  //authentication event type ('login' or 'logout')
  &quot;event_type&quot;: &quot;login&quot;,
  
  //ID of the pseudonym (login) associated with the event
  &quot;pseudonym_id&quot;: 9478,
  
  //ID of the account associated with the event. will match the account_id in the
  //associated pseudonym.
  &quot;account_id&quot;: 2319,
  
  //ID of the user associated with the event will match the user_id in the
  //associated pseudonym.
  &quot;user_id&quot;: 362
}
</pre>
  </div>

<div id="Services" class="method_details_list">

  <div class="method_details first">
  <h2 class='api_method_name' name='method.authentication_audit_api.for_login' data-subtopic='Authentications Log'>
    <a name='method.authentication_audit_api.for_login' href='#method.authentication_audit_api.for_login'>
      Query by login.
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/authentication_audit_api_controller.rb">AuthenticationAuditApiController#for_login</a></span>
    
  </h2>
  
  
  
  <h3 class='endpoint'>
    GET /api/v1/audit/authentication/logins/:login_id
  </h3>


<p>List authentication events for a given login.</p>

<h4>Request Parameters:</h4>
<ul class="argument">
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>start_time</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional, DateTime
<dd>
<p>The beginning of the time range from which you want events.</p>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>end_time</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional, Datetime
<dd>
<p>The end of the time range from which you want events.</p>
</dd></dl>
</div>
      
    </li>
  
</ul>



</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.authentication_audit_api.for_account' data-subtopic='Authentications Log'>
    <a name='method.authentication_audit_api.for_account' href='#method.authentication_audit_api.for_account'>
      Query by account.
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/authentication_audit_api_controller.rb">AuthenticationAuditApiController#for_account</a></span>
    
  </h2>
  
  
  
  <h3 class='endpoint'>
    GET /api/v1/audit/authentication/accounts/:account_id
  </h3>


<p>List authentication events for a given account.</p>

<h4>Request Parameters:</h4>
<ul class="argument">
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>start_time</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional, Datetime
<dd>
<p>The beginning of the time range from which you want events.</p>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>end_time</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional, Datetime
<dd>
<p>The end of the time range from which you want events.</p>
</dd></dl>
</div>
      
    </li>
  
</ul>



</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.authentication_audit_api.for_user' data-subtopic='Authentications Log'>
    <a name='method.authentication_audit_api.for_user' href='#method.authentication_audit_api.for_user'>
      Query by user.
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/authentication_audit_api_controller.rb">AuthenticationAuditApiController#for_user</a></span>
    
  </h2>
  
  
  
  <h3 class='endpoint'>
    GET /api/v1/audit/authentication/users/:user_id
  </h3>


<p>List authentication events for a given user.</p>

<h4>Request Parameters:</h4>
<ul class="argument">
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>start_time</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional, Datetime
<dd>
<p>The beginning of the time range from which you want events.</p>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>end_time</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional, Datetime
<dd>
<p>The end of the time range from which you want events.</p>
</dd></dl>
</div>
      
    </li>
  
</ul>



</div>


</div>

</div>
</div>

    <script type="text/javascript">
  $('h2.api_method_name').each(function(i, el) {
    var subtopic = $(el).data('subtopic');
    var $a = $(el).find('a');
    if ($.trim($a[0].innerHTML) == '')
      return;
    var $row = $('table#quicklinks tr').filter(function() { return $(this).data('subtopic') == subtopic; });
    if ($row.length == 0) {
      $row = $('<tr/>').appendTo($('table#quicklinks'));
      $row.data('subtopic', subtopic);
      $('<th/>').append(subtopic).appendTo($row);
      $('<td/>').appendTo($row);
    }
    var link = $('<a/>').attr('href', '#'+$(el).attr('name')).append($.trim($a[0].innerHTML));
    $row.find('td').append(link);
  });

  SyntaxHighlighter.defaults['gutter'] = false;
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.defaults['auto-links'] = false;
  $('#content pre.code.javascript code').each(function(i, el) {
    $(el).parent().addClass('brush: js');
    $(el).replaceWith(el.innerHTML);
  });
  SyntaxHighlighter.all();
</script>
<div id="footer">
  &copy; Instructure, Inc. Generated on Fri Aug 29 18:40:29 2014<br>
  This documentation is generated directly from the Canvas LMS source code, available <a href="https://github.com/instructure/canvas-lms">on Github</a>.
</div>

  </body>
</html>

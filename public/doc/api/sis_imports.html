<!DOCTYPE html>
<html>
  <head>
    <meta name="Content-Type" content="text/html;charset=UTF-8">
<meta charset="UTF-8">
<title>Canvas LMS REST API Documentation</title>
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />
<link href="css/shThemeDefault.css" rel="stylesheet" type="text/css" />
<script src="js/shCore.js" type="text/javascript"></script>
<script src="js/jquery.min.js" type="text/javascript"></script>
<script src="js/shAutoloader.js" type="text/javascript"></script>
<script src="js/shBrushJScript.js" type="text/javascript"></script>

  </head>
  <body>
    <div id="header">
      <h1>
  <a href="index.html">Canvas LMS - REST API and Extensions Documentation</a>
</h1>

    </div>

    <div id="sidebar">
      <nav>
  <h2 class='first'>Basics</h2>
  <a href="file.oauth.html" class="">OAuth</a>
  <a href="file.object_ids.html" class="">SIS IDs</a>
  <a href="file.pagination.html" class="">Pagination</a>
  <a href="file.compound_documents.html" class="">Compound Documents</a>
  <a href="file.file_uploads.html" class="">File Uploads</a>
  <a href="file.endpoint_attributes.html" class="">API Endpoint Attributes</a>
  <a href="file.masquerading.html" class="">Masquerading</a>
  <h2>Resources</h2>
  <a  href="all_resources.html">All Resources Reference</a>
  
    
    <a class="" href="account_authentication_services.html">Account Authentication Services</a>
  
    
    <a class="" href="account_notifications.html">Account Notifications</a>
  
    
    <a class="" href="account_reports.html">Account Reports</a>
  
    
    <a class="" href="accounts.html">Accounts</a>
  
    
    <a class="" href="admins.html">Admins</a>
  
    
    <a class="" href="announcement_external_feeds.html">Announcement External Feeds</a>
  
    
    <a class="" href="appointment_groups.html">Appointment Groups</a>
  
    
    <a class="" href="assignment_groups.html">Assignment Groups</a>
  
    
    <a class="" href="assignments.html">Assignments</a>
  
    
    <a class="" href="authentications_log.html">Authentications Log</a>
  
    
    <a class="" href="calendar_events.html">Calendar Events</a>
  
    
    <a class="" href="collaborations.html">Collaborations</a>
  
    
    <a class="" href="comm_messages.html">CommMessages</a>
  
    
    <a class="" href="communication_channels.html">Communication Channels</a>
  
    
    <a class="" href="conferences.html">Conferences</a>
  
    
    <a class="" href="content_exports.html">Content Exports</a>
  
    
    <a class="" href="content_migrations.html">Content Migrations</a>
  
    
    <a class="" href="conversations.html">Conversations</a>
  
    
    <a class="" href="course_audit_log.html">Course Audit log</a>
  
    
    <a class="" href="courses.html">Courses</a>
  
    
    <a class="" href="custom_gradebook_columns.html">Custom Gradebook Columns</a>
  
    
    <a class="" href="discussion_topics.html">Discussion Topics</a>
  
    
    <a class="" href="enrollment_terms.html">Enrollment Terms</a>
  
    
    <a class="" href="enrollments.html">Enrollments</a>
  
    
    <a class="" href="external_tools.html">External Tools</a>
  
    
    <a class="" href="favorites.html">Favorites</a>
  
    
    <a class="" href="feature_flags.html">Feature Flags</a>
  
    
    <a class="" href="files.html">Files</a>
  
    
    <a class="" href="grade_change_log.html">Grade Change Log</a>
  
    
    <a class="" href="gradebook_history.html">Gradebook History</a>
  
    
    <a class="" href="grading_standards.html">Grading Standards</a>
  
    
    <a class="" href="group_categories.html">Group Categories</a>
  
    
    <a class="" href="groups.html">Groups</a>
  
    
    <a class="" href="live_assessments.html">LiveAssessments</a>
  
    
    <a class="" href="logins.html">Logins</a>
  
    
    <a class="" href="modules.html">Modules</a>
  
    
    <a class="" href="notification_preferences.html">Notification Preferences</a>
  
    
    <a class="" href="outcome_groups.html">Outcome Groups</a>
  
    
    <a class="" href="outcome_results.html">Outcome Results</a>
  
    
    <a class="" href="outcomes.html">Outcomes</a>
  
    
    <a class="" href="pages.html">Pages</a>
  
    
    <a class="" href="poll_sessions.html">Poll Sessions</a>
  
    
    <a class="" href="poll_choices.html">PollChoices</a>
  
    
    <a class="" href="poll_submissions.html">PollSubmissions</a>
  
    
    <a class="" href="polls.html">Polls</a>
  
    
    <a class="" href="progress.html">Progress</a>
  
    
    <a class="" href="quiz_extensions.html">Quiz Extensions</a>
  
    
    <a class="" href="quiz_ip_filters.html">Quiz IP Filters</a>
  
    
    <a class="" href="quiz_question_groups.html">Quiz Question Groups</a>
  
    
    <a class="" href="quiz_reports.html">Quiz Reports</a>
  
    
    <a class="" href="quiz_statistics.html">Quiz Statistics</a>
  
    
    <a class="" href="quiz_submission_files.html">Quiz Submission Files</a>
  
    
    <a class="" href="quiz_submission_questions.html">Quiz Submission Questions</a>
  
    
    <a class="" href="quiz_submissions.html">Quiz Submissions</a>
  
    
    <a class="" href="quiz_questions.html">QuizQuestions</a>
  
    
    <a class="" href="quizzes.html">Quizzes</a>
  
    
    <a class="" href="roles.html">Roles</a>
  
    
    <a class="current" href="sis_imports.html">SIS Imports</a>
  
    
    <a class="" href="search.html">Search</a>
  
    
    <a class="" href="sections.html">Sections</a>
  
    
    <a class="" href="services.html">Services</a>
  
    
    <a class="" href="submission_comments.html">Submission Comments</a>
  
    
    <a class="" href="submissions.html">Submissions</a>
  
    
    <a class="" href="tabs.html">Tabs</a>
  
    
    <a class="" href="user_observees.html">User Observees</a>
  
    
    <a class="" href="users.html">Users</a>
  
  <h2>SIS</h2>
  <a href="file.sis_csv.html" class="">SIS CSV Format</a>
  <h2>External Tools</h2>
  <a href="file.tools_intro.html" class="">Introduction</a>
  <a href="file.assignment_tools.html" class="">Grading</a>
  <a href="file.navigation_tools.html" class="">Navigation</a>
  <a href="file.editor_button_tools.html" class="">Rich Editor</a>
  <a href="file.link_selection_tools.html" class="">Link Selection</a>
  <a href="file.homework_submission_tools.html" class="">Homework Submission</a>
  <a href="file.tools_xml.html" class="">Configuring</a>
</nav>

    </div>

    <div id="content"><div class="service">
  
    <h1>SIS Imports API</h1>
  
  
  <table id='quicklinks'>
  </table>
  <p>API for importing data from Student Information Systems</p>




  <div class='object_definition'>
  <h3><a name="SisImportData">A SisImportData object looks like:</a></h3>
<pre class="example code brush:js">
{
  
  //The type of SIS import
  &quot;import_type&quot;: &quot;instructure_csv&quot;,
  
  //Which file were included in the SIS import
  &quot;supplied_batches&quot;: &quot;[&quot;term&quot;, &quot;course&quot;, &quot;section&quot;, &quot;user&quot;, &quot;enrollment&quot;]&quot;,
  
  //The number of rows processed for each type of import
  &quot;counts&quot;: &quot;&quot;
}
</pre>
  </div>


  <div class='object_definition'>
  <h3><a name="SisImportCounts">A SisImportCounts object looks like:</a></h3>
<pre class="example code brush:js">
{
  
  &quot;accounts&quot;: 0,
  
  &quot;terms&quot;: 3,
  
  &quot;abstract_courses&quot;: 0,
  
  &quot;courses&quot;: 121,
  
  &quot;sections&quot;: 278,
  
  &quot;xlists&quot;: 0,
  
  &quot;users&quot;: 346,
  
  &quot;enrollments&quot;: 1542,
  
  &quot;groups&quot;: 0,
  
  &quot;group_memberships&quot;: 0,
  
  &quot;grade_publishing_results&quot;: 0
}
</pre>
  </div>


  <div class='object_definition'>
  <h3><a name="SisImport">A SisImport object looks like:</a></h3>
<pre class="example code brush:js">
{
  
  //The unique identifier for the SIS import.
  &quot;id&quot;: 1,
  
  //The date the SIS import was created.
  &quot;created_at&quot;: &quot;2013-12-01T23:59:00-06:00&quot;,
  
  //The date the SIS import finished. Returns null if not finished.
  &quot;ended_at&quot;: &quot;2013-12-02T00:03:21-06:00&quot;,
  
  //The date the SIS import was last updated.
  &quot;updated_at&quot;: &quot;2013-12-02T00:03:21-06:00&quot;,
  
  //The current state of the SIS import. - 'created': The SIS import has been
  //created.
  //- 'importing': The SIS import is currently processing.
  //- 'imported': The SIS import has completed successfully.
  //- 'imported_with_messages': The SIS import completed with errors or warnings.
  //- 'failed_with_messages': The SIS import failed with errors.
  //- 'failed': The SIS import failed.
  &quot;workflow_state&quot;: &quot;imported&quot;,
  
  //data
  &quot;data&quot;: &quot;&quot;,
  
  //The progress of the SIS import.
  &quot;progress&quot;: &quot;100&quot;,
  
  //Only imports that are complete will get this data. An array of csv/warning
  //pairs.
  &quot;processing_warnings&quot;: &quot;[['students.csv','user John Doe has already claimed john_doe's requested login information, skipping], ...]&quot;
}
</pre>
  </div>

<div id="Services" class="method_details_list">

  <div class="method_details first">
  <h2 class='api_method_name' name='method.sis_imports_api.index' data-subtopic='SIS Imports'>
    <a name='method.sis_imports_api.index' href='#method.sis_imports_api.index'>
      Get SIS import list
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/sis_imports_api_controller.rb">SisImportsApiController#index</a></span>
    
  </h2>
  
  
  
  <h3 class='endpoint'>
    GET /api/v1/accounts/:account_id/sis_imports
  </h3>


<p>Returns the list of SIS imports for an account</p>

<pre class="code ruby"><code>Examples:
  curl 'https://&lt;canvas&gt;/api/v1/accounts/&lt;account_id&gt;/sis_imports' \
      -H &quot;Authorization: Bearer &lt;token&gt;&quot;</code></pre>




  Returns a list of 

<a href='sis_imports.html#SisImport'>SisImports</a>

</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.sis_imports_api.create' data-subtopic='SIS Imports'>
    <a name='method.sis_imports_api.create' href='#method.sis_imports_api.create'>
      Import SIS data
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/sis_imports_api_controller.rb">SisImportsApiController#create</a></span>
    
  </h2>
  
  
  
  <h3 class='endpoint'>
    POST /api/v1/accounts/:account_id/sis_imports
  </h3>


<p>Import SIS data into Canvas. Must be on a root account with SIS imports
enabled.</p>

<p>For more information on the format that's expected here, please see the
"SIS CSV" section in the API docs.</p>

<h4>Request Parameters:</h4>
<ul class="argument">
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>import_type</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional, String
<dd>
<p>Choose the data format for reading SIS data. With a standard Canvas
install, this option can only be 'instructure_csv', and if unprovided, will
be assumed to be so. Can be part of the query string.</p>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>attachment</span>
      
      
        <div class='inline'>
<p>There are two ways to post SIS import data - either via a
multipart/form-data form-field-style attachment, or via a non-multipart raw
post request.</p>

<p>'attachment' is required for multipart/form-data style posts. Assumed to be
SIS data from a file upload form field named 'attachment'.</p>

<p>Examples:</p>

<pre class="code ruby"><code>curl -F attachment=@&lt;filename&gt; -H &quot;Authorization: Bearer &lt;token&gt;&quot; \
    'https://&lt;canvas&gt;/api/v1/accounts/&lt;account_id&gt;/sis_imports.json?import_type=instructure_csv'</code></pre>

<p>If you decide to do a raw post, you can skip the 'attachment' argument, but
you will then be required to provide a suitable Content-Type header. You
are encouraged to also provide the 'extension' argument.</p>

<p>Examples:</p>

<pre class="code ruby"><code>curl -H 'Content-Type: application/octet-stream' --data-binary @&lt;filename&gt;.zip \
    -H &quot;Authorization: Bearer &lt;token&gt;&quot; \
    'https://&lt;canvas&gt;/api/v1/accounts/&lt;account_id&gt;/sis_imports.json?import_type=instructure_csv&amp;extension=zip'

curl -H 'Content-Type: application/zip' --data-binary @&lt;filename&gt;.zip \
    -H &quot;Authorization: Bearer &lt;token&gt;&quot; \
    'https://&lt;canvas&gt;/api/v1/accounts/&lt;account_id&gt;/sis_imports.json?import_type=instructure_csv'

curl -H 'Content-Type: text/csv' --data-binary @&lt;filename&gt;.csv \
    -H &quot;Authorization: Bearer &lt;token&gt;&quot; \
    'https://&lt;canvas&gt;/api/v1/accounts/&lt;account_id&gt;/sis_imports.json?import_type=instructure_csv'

curl -H 'Content-Type: text/csv' --data-binary @&lt;filename&gt;.csv \
    -H &quot;Authorization: Bearer &lt;token&gt;&quot; \
    'https://&lt;canvas&gt;/api/v1/accounts/&lt;account_id&gt;/sis_imports.json?import_type=instructure_csv&amp;batch_mode=1&amp;batch_mode_term_id=15'</code></pre>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>extension</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional,String
<dd>
<p>Recommended for raw post request style imports. This field will be used to
distinguish between zip, xml, csv, and other file format extensions that
would usually be provided with the filename in the multipart post request
scenario. If not provided, this value will be inferred from the
Content-Type, falling back to zip-file format if all else fails.</p>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>batch_mode</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional,Boolean
<dd>
<p>If set, this SIS import will be run in batch mode, deleting any data
previously imported via SIS that is not present in this latest import. See
the SIS CSV Format page for details.</p>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>batch_mode_term_id</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional,String
<dd>
<p>Limit deletions to only this term. Required if batch mode is enabled.</p>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>override_sis_stickiness</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional,Boolean
<dd>
<p>Many fields on records in Canvas can be marked "sticky," which means that
when something changes in the UI apart from the SIS, that field gets
"stuck." In this way, by default, SIS imports do not override UI changes.
If this field is present, however, it will tell the SIS import to ignore
"stickiness" and override all fields.</p>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>add_sis_stickiness</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional,Boolean
<dd>
<p>This option, if present, will process all changes as if they were UI
changes. This means that "stickiness" will be added to changed fields. This
option is only processed if 'override_sis_stickiness' is also provided.</p>
</dd></dl>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
        <span class='name'>clear_sis_stickiness</span>
      
      
        <div class='inline'><dl class="rdoc-list label-list"><dt>Optional,Boolean
<dd>
<p>This option, if present, will clear "stickiness" from all fields touched by
this import. Requires that 'override_sis_stickiness' is also provided. If
'add_sis_stickiness' is also provided, 'clear_sis_stickiness' will overrule
the behavior of 'add_sis_stickiness'</p>
</dd></dl>
</div>
      
    </li>
  
</ul>



  Returns a 

<a href='sis_imports.html#SisImport'>SisImport</a>

</div>


  <div class="method_details ">
  <h2 class='api_method_name' name='method.sis_imports_api.show' data-subtopic='SIS Imports'>
    <a name='method.sis_imports_api.show' href='#method.sis_imports_api.show'>
      Get SIS import status
    </a>
    
      <span class='defined-in'><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/sis_imports_api_controller.rb">SisImportsApiController#show</a></span>
    
  </h2>
  
  
  
  <h3 class='endpoint'>
    GET /api/v1/accounts/:account_id/sis_imports/:id
  </h3>


<p>Get the status of an already created SIS import.</p>

<pre class="code ruby"><code>Examples:
  curl 'https://&lt;canvas&gt;/api/v1/accounts/&lt;account_id&gt;/sis_imports/&lt;sis_import_id&gt;' \
      -H &quot;Authorization: Bearer &lt;token&gt;&quot;</code></pre>




  Returns a 

<a href='sis_imports.html#SisImport'>SisImport</a>

</div>


</div>

</div>
</div>

    <script type="text/javascript">
  $('h2.api_method_name').each(function(i, el) {
    var subtopic = $(el).data('subtopic');
    var $a = $(el).find('a');
    if ($.trim($a[0].innerHTML) == '')
      return;
    var $row = $('table#quicklinks tr').filter(function() { return $(this).data('subtopic') == subtopic; });
    if ($row.length == 0) {
      $row = $('<tr/>').appendTo($('table#quicklinks'));
      $row.data('subtopic', subtopic);
      $('<th/>').append(subtopic).appendTo($row);
      $('<td/>').appendTo($row);
    }
    var link = $('<a/>').attr('href', '#'+$(el).attr('name')).append($.trim($a[0].innerHTML));
    $row.find('td').append(link);
  });

  SyntaxHighlighter.defaults['gutter'] = false;
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.defaults['auto-links'] = false;
  $('#content pre.code.javascript code').each(function(i, el) {
    $(el).parent().addClass('brush: js');
    $(el).replaceWith(el.innerHTML);
  });
  SyntaxHighlighter.all();
</script>
<div id="footer">
  &copy; Instructure, Inc. Generated on Wed Aug 20 23:52:23 2014<br>
  This documentation is generated directly from the Canvas LMS source code, available <a href="https://github.com/instructure/canvas-lms">on Github</a>.
</div>

  </body>
</html>

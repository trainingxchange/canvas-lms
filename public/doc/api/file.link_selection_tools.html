<!DOCTYPE html>
<html>
  <head>
    <meta name="Content-Type" content="text/html;charset=UTF-8">
<meta charset="UTF-8">
<title>Canvas LMS REST API Documentation</title>
<link rel="stylesheet" href="css/common.css" type="text/css" media="screen" charset="utf-8" />
<link href="css/shThemeDefault.css" rel="stylesheet" type="text/css" />
<script src="js/shCore.js" type="text/javascript"></script>
<script src="js/jquery.min.js" type="text/javascript"></script>
<script src="js/shAutoloader.js" type="text/javascript"></script>
<script src="js/shBrushJScript.js" type="text/javascript"></script>

  </head>
  <body>
    <div id="header">
      <h1>
  <a href="index.html">Canvas LMS - REST API and Extensions Documentation</a>
</h1>

    </div>

    <div id="sidebar">
      <nav>
  <h2 class='first'>Basics</h2>
  <a href="file.oauth.html" class="">OAuth</a>
  <a href="file.object_ids.html" class="">SIS IDs</a>
  <a href="file.pagination.html" class="">Pagination</a>
  <a href="file.compound_documents.html" class="">Compound Documents</a>
  <a href="file.file_uploads.html" class="">File Uploads</a>
  <a href="file.endpoint_attributes.html" class="">API Endpoint Attributes</a>
  <a href="file.masquerading.html" class="">Masquerading</a>
  <h2>Resources</h2>
  <a  href="all_resources.html">All Resources Reference</a>
  
    
    <a class="" href="account_authentication_services.html">Account Authentication Services</a>
  
    
    <a class="" href="account_notifications.html">Account Notifications</a>
  
    
    <a class="" href="account_reports.html">Account Reports</a>
  
    
    <a class="" href="accounts.html">Accounts</a>
  
    
    <a class="" href="admins.html">Admins</a>
  
    
    <a class="" href="announcement_external_feeds.html">Announcement External Feeds</a>
  
    
    <a class="" href="appointment_groups.html">Appointment Groups</a>
  
    
    <a class="" href="assignment_groups.html">Assignment Groups</a>
  
    
    <a class="" href="assignments.html">Assignments</a>
  
    
    <a class="" href="authentications_log.html">Authentications Log</a>
  
    
    <a class="" href="calendar_events.html">Calendar Events</a>
  
    
    <a class="" href="collaborations.html">Collaborations</a>
  
    
    <a class="" href="comm_messages.html">CommMessages</a>
  
    
    <a class="" href="communication_channels.html">Communication Channels</a>
  
    
    <a class="" href="conferences.html">Conferences</a>
  
    
    <a class="" href="content_exports.html">Content Exports</a>
  
    
    <a class="" href="content_migrations.html">Content Migrations</a>
  
    
    <a class="" href="conversations.html">Conversations</a>
  
    
    <a class="" href="course_audit_log.html">Course Audit log</a>
  
    
    <a class="" href="courses.html">Courses</a>
  
    
    <a class="" href="custom_gradebook_columns.html">Custom Gradebook Columns</a>
  
    
    <a class="" href="discussion_topics.html">Discussion Topics</a>
  
    
    <a class="" href="enrollment_terms.html">Enrollment Terms</a>
  
    
    <a class="" href="enrollments.html">Enrollments</a>
  
    
    <a class="" href="external_tools.html">External Tools</a>
  
    
    <a class="" href="favorites.html">Favorites</a>
  
    
    <a class="" href="feature_flags.html">Feature Flags</a>
  
    
    <a class="" href="files.html">Files</a>
  
    
    <a class="" href="grade_change_log.html">Grade Change Log</a>
  
    
    <a class="" href="gradebook_history.html">Gradebook History</a>
  
    
    <a class="" href="grading_standards.html">Grading Standards</a>
  
    
    <a class="" href="group_categories.html">Group Categories</a>
  
    
    <a class="" href="groups.html">Groups</a>
  
    
    <a class="" href="live_assessments.html">LiveAssessments</a>
  
    
    <a class="" href="logins.html">Logins</a>
  
    
    <a class="" href="modules.html">Modules</a>
  
    
    <a class="" href="notification_preferences.html">Notification Preferences</a>
  
    
    <a class="" href="outcome_groups.html">Outcome Groups</a>
  
    
    <a class="" href="outcome_results.html">Outcome Results</a>
  
    
    <a class="" href="outcomes.html">Outcomes</a>
  
    
    <a class="" href="pages.html">Pages</a>
  
    
    <a class="" href="poll_sessions.html">Poll Sessions</a>
  
    
    <a class="" href="poll_choices.html">PollChoices</a>
  
    
    <a class="" href="poll_submissions.html">PollSubmissions</a>
  
    
    <a class="" href="polls.html">Polls</a>
  
    
    <a class="" href="progress.html">Progress</a>
  
    
    <a class="" href="quiz_extensions.html">Quiz Extensions</a>
  
    
    <a class="" href="quiz_ip_filters.html">Quiz IP Filters</a>
  
    
    <a class="" href="quiz_question_groups.html">Quiz Question Groups</a>
  
    
    <a class="" href="quiz_reports.html">Quiz Reports</a>
  
    
    <a class="" href="quiz_statistics.html">Quiz Statistics</a>
  
    
    <a class="" href="quiz_submission_files.html">Quiz Submission Files</a>
  
    
    <a class="" href="quiz_submission_questions.html">Quiz Submission Questions</a>
  
    
    <a class="" href="quiz_submissions.html">Quiz Submissions</a>
  
    
    <a class="" href="quiz_questions.html">QuizQuestions</a>
  
    
    <a class="" href="quizzes.html">Quizzes</a>
  
    
    <a class="" href="roles.html">Roles</a>
  
    
    <a class="" href="sis_imports.html">SIS Imports</a>
  
    
    <a class="" href="search.html">Search</a>
  
    
    <a class="" href="sections.html">Sections</a>
  
    
    <a class="" href="services.html">Services</a>
  
    
    <a class="" href="submission_comments.html">Submission Comments</a>
  
    
    <a class="" href="submissions.html">Submissions</a>
  
    
    <a class="" href="tabs.html">Tabs</a>
  
    
    <a class="" href="user_observees.html">User Observees</a>
  
    
    <a class="" href="users.html">Users</a>
  
  <h2>SIS</h2>
  <a href="file.sis_csv.html" class="">SIS CSV Format</a>
  <h2>External Tools</h2>
  <a href="file.tools_intro.html" class="">Introduction</a>
  <a href="file.assignment_tools.html" class="">Grading</a>
  <a href="file.navigation_tools.html" class="">Navigation</a>
  <a href="file.editor_button_tools.html" class="">Rich Editor</a>
  <a href="" class="current">Link Selection</a>
  <a href="file.homework_submission_tools.html" class="">Homework Submission</a>
  <a href="file.tools_xml.html" class="">Configuring</a>
</nav>

    </div>

    <div id="content"><div id='filecontents'><h1>External Tool Link Selector</h1>

<p>An extension to standard LTI, external tools can be configured 
to allow selecting custom links to be 
added to modules or used for external tool assignments. When a tool is 
configured, if the user goes to add a link to a module or select a link 
for an external tool assignment, they&#39;ll see the tool with a special 
&quot;find&quot; icon on it. Clicking this tool will pop up a dialog and load 
the external tool inline. The tool should direct users to select or 
build a resource. The tool will then redirect the user to the LTI 
success URL with some additional parameters. Canvas will use these 
parameters to create custom URL that will be used as the link.</p>

<p>URLs returned in this manner will not circumvent the standard LTI 
URL/domain checking procedure, which is important to remember when 
returning URLs to add to the course. In general, it is best to make 
the these type of tools as domain-matching tool and only return URLs
whose domain matches the tool&#39;s specified domain.</p>

<p>When tools are loaded as link selectors, Canvas sends an additional 
parameter to notify the tool of the directive, <code>ext_content_return_types=select_link</code>.
When a tool receives this directive, it means Canvas is expecting the 
tool to redirect the user to the LTI success URL with some specific 
additional parameters. These additional parameters tell Canvas what 
URL to select, as listed below. Remember to URL encode parameter 
values such as url.</p>

<h2>Possible Redirect Parameters</h2>

<h3>to embed an lti link:</h3>

<table class="tool">
  <tr>
    <td>return_type=lti_launch_url</td>
    <td></td>
    <td>(required)</td>
  </tr><tr>
    <td>url=&lt;url&gt;</td>
    <td>this is URL that will be used to load the external tool</td>
    <td>(required)</td>
  </tr><tr>
    <td>title=&lt;text&gt;</td>
    <td>this is used as the 'title' attribute of the inserted external tool link</td>
    <td>(optional)</td>
  </tr><tr>
    <td>text=&lt;text&gt;</td>
    <td>this is the suggested text for the inserted link. If the user has already selected some content before opening this dialog, the link will wrap that content and this value will be ignored.</td>
    <td>(optional, defaults to 'link')</td>
  </tr>
</table>

<h4>examples:</h4>

<p>If the <code>launch_presentation_return_url</code> were
<code><a href="http://www.example.com/done">http://www.example.com/done</a></code>, possible return URLs could include:</p>

<ul>
<li><a href="http://www.example.com/done?return_type=lti_launch_url&amp;url=https%3A%2F%2Fothersite.com%2Flti_link">http://www.example.com/done?return_type=lti_launch_url&amp;url=https%3A%2F%2Fothersite.com%2Flti_link</a></li>
<li><a href="http://www.example.com/done?return_type=lti_launch_url&amp;url=https%3A%2F%2Fothersite.com%2Flti_link&amp;text=other+site+link">http://www.example.com/done?return_type=lti_launch_url&amp;url=https%3A%2F%2Fothersite.com%2Flti_link&amp;text=other+site+link</a></li>
<li><a href="http://www.example.com/done?return_type=lti_launch_url&amp;url=https%3A%2F%2Fothersite.com%2Flti_link&amp;title=link">http://www.example.com/done?return_type=lti_launch_url&amp;url=https%3A%2F%2Fothersite.com%2Flti_link&amp;title=link</a></li>
</ul>

<h2>Settings</h2>

<p>All of these settings are contained under &quot;resource_selection&quot;</p>

<ul>
<li><p>url: &lt;url&gt; (optional)</p>

<p>This is the URL that will be POSTed to when users click the button in any rich editor. It can be the same as the tool&#39;s URL, or something different. Domain and URL matching are not enforced for editor button links. In order to prevent security warnings for users, it is recommended that this URL be over SSL (https).
This is required if a url is not set on the main tool configuration.</p></li>
<li><p>icon_url: &lt;url&gt; (optional)</p>

<p>This is the URL of the icon to be shown.</p></li>
<li><p>text: &lt;text&gt; (optional)</p>

<p>This is the default text that will be shown if a user hovers over the editor button. This can be overridden by language-specific settings if desired by using the labels setting. This text will also be shown next to the icon if there are too many buttons and the tool is available in the &quot;more tools&quot; dropdown.
This is required if a text value is not set on the main tool configuration.</p></li>
<li><p>labels: &lt;set of locale-label pairs&gt; (optional)</p>

<p>This can be used to specify different label names for different locales. For example, if an institution supports both English and Spanish interfaces, the text in the link should change depending on the language being displayed. This option lets you support multiple languages for a single tool.</p></li>
<li><p>selection_width: &lt;number&gt; (required)</p>

<p>This value is the explicit width of the dialog that is loaded when a user clicks the icon in the rich editor.</p></li>
<li><p>selection_height: &lt;number&gt; (required)</p>

<p>This value is the explicit height of the dialog that is loaded when a user clicks the icon in the rich editor.</p></li>
<li><p>enabled: &lt;boolean&gt; (required)</p>

<p>Whether to enable this selection feature.</p></li>
</ul>
</div></div>

    <script type="text/javascript">
  $('h2.api_method_name').each(function(i, el) {
    var subtopic = $(el).data('subtopic');
    var $a = $(el).find('a');
    if ($.trim($a[0].innerHTML) == '')
      return;
    var $row = $('table#quicklinks tr').filter(function() { return $(this).data('subtopic') == subtopic; });
    if ($row.length == 0) {
      $row = $('<tr/>').appendTo($('table#quicklinks'));
      $row.data('subtopic', subtopic);
      $('<th/>').append(subtopic).appendTo($row);
      $('<td/>').appendTo($row);
    }
    var link = $('<a/>').attr('href', '#'+$(el).attr('name')).append($.trim($a[0].innerHTML));
    $row.find('td').append(link);
  });

  SyntaxHighlighter.defaults['gutter'] = false;
  SyntaxHighlighter.defaults['toolbar'] = false;
  SyntaxHighlighter.defaults['auto-links'] = false;
  $('#content pre.code.javascript code').each(function(i, el) {
    $(el).parent().addClass('brush: js');
    $(el).replaceWith(el.innerHTML);
  });
  SyntaxHighlighter.all();
</script>
<div id="footer">
  &copy; Instructure, Inc. Generated on Wed Aug 20 23:50:53 2014<br>
  This documentation is generated directly from the Canvas LMS source code, available <a href="https://github.com/instructure/canvas-lms">on Github</a>.
</div>

  </body>
</html>
